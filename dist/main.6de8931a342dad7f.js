"use strict";(self.webpackChunkComplete_final_portfolio=self.webpackChunkComplete_final_portfolio||[]).push([[179],{2011:(yt,Me,F)=>{F.d(Me,{Dh:()=>we,GT:()=>he,cc:()=>xe,hO:()=>He,on:()=>z,pX:()=>se,xv:()=>pe});var f=F(4650),K=F(1274),O=F(2088);yt=F.hmd(yt);const oe=["ngOnDestroy"],se=(me,pt,It,Pe={})=>new Proxy(me,{get:(ve,ge)=>It.runOutsideAngular(()=>{var ze;if(me[ge])return!(null===(ze=Pe?.spy)||void 0===ze)&&ze.get&&Pe.spy.get(ge,me[ge]),me[ge];if(oe.indexOf(ge)>-1)return()=>{};const je=pt.toPromise().then(et=>{const te=et&&et[ge];return"function"==typeof te?te.bind(et):te&&te.then?te.then(Rt=>It.run(()=>Rt)):It.run(()=>te)});return new Proxy(()=>{},{get:(et,te)=>je[te],apply:(et,te,Rt)=>je.then(st=>{var jt;const it=st&&st(...Rt);return!(null===(jt=Pe?.spy)||void 0===jt)&&jt.apply&&Pe.spy.apply(ge,Rt,it),it})})})}),he=(me,pt)=>{pt.forEach(It=>{Object.getOwnPropertyNames(It.prototype||It).forEach(Pe=>{Object.defineProperty(me.prototype,Pe,Object.getOwnPropertyDescriptor(It.prototype||It,Pe))})})};class de{constructor(pt){return pt}}const we=new f.OlP("angularfire2.app.options"),pe=new f.OlP("angularfire2.app.name");function z(me,pt,It){const ve="object"==typeof It&&It||{};ve.name=ve.name||"string"==typeof It&&It||"[DEFAULT]";const ze=K.Z.apps.filter(je=>je&&je.name===ve.name)[0]||pt.runOutsideAngular(()=>K.Z.initializeApp(me,ve));try{JSON.stringify(me)!==JSON.stringify(ze.options)&&j("error",`${ze.name} Firebase App already initialized with different options${yt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new de(ze)}const j=(me,...pt)=>{(0,f.X6Q)()&&typeof console<"u"&&console[me](...pt)},W={provide:de,useFactory:z,deps:[we,f.R0b,[new f.FiY,pe]]};let He=(()=>{class me{constructor(It){K.Z.registerVersion("angularfire",O.q4.full,"core"),K.Z.registerVersion("angularfire",O.q4.full,"app-compat"),K.Z.registerVersion("angular",f.q4F.full,It.toString())}static initializeApp(It,Pe){return{ngModule:me,providers:[{provide:we,useValue:It},{provide:pe,useValue:Pe}]}}}return me.\u0275fac=function(It){return new(It||me)(f.LFG(f.Lbi))},me.\u0275mod=f.oAB({type:me}),me.\u0275inj=f.cJS({providers:[W]}),me})();function xe(me,pt,It,Pe,ve){const[,ge,ze]=globalThis.\u0275AngularfireInstanceCache.find(je=>je[0]===me)||[];if(ge)return function De(me,pt){try{return me.toString()===pt.toString()}catch{return me===pt}}(ve,ze)||(ye("error",`${pt} was already initialized on the ${It} Firebase App with different settings.${Xe?" You may need to reload as Firebase is not HMR aware.":""}`),ye("warn",{is:ve,was:ze})),ge;{const je=Pe();return globalThis.\u0275AngularfireInstanceCache.push([me,je,ve]),je}}const Xe=!!yt.hot,ye=(me,...pt)=>{(0,f.X6Q)()&&typeof console<"u"&&console[me](...pt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},2088:(yt,Me,F)=>{F.d(Me,{q4:()=>Hn,iC:()=>Qu,HU:()=>ja,vb:()=>lc,JM:()=>Pf});var f=F(4650),K=F(8140),O=F(5861),se=(F(7212),F(5578));function Wr(){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,O.Z)(function*(){if(!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}function Ra(){return Go.apply(this,arguments)}function Go(){return(Go=(0,O.Z)(function*(){try{yield(0,se.eu)()}catch{return!1}return typeof window<"u"&&(0,se.hl)()&&(0,se.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}function Wu(){return Zu.apply(this,arguments)}function Zu(){return(Zu=(0,O.Z)(function*(){if((0,se.ru)()||!(0,se.zI)()||!(0,se.hl)())return!1;try{return yield(0,se.eu)()}catch{return!1}})).apply(this,arguments)}F(1617),F(9357);var Ei=F(4408),Hd=F(7565);const Ku=new class Dr extends Hd.v{}(class $i extends Ei.o{constructor(C,x){super(C,x),this.scheduler=C,this.work=x}schedule(C,x=0){return x>0?super.schedule(C,x):(this.delay=x,this.state=C,this.scheduler.flush(this),this)}execute(C,x){return x>0||this.closed?super.execute(C,x):this._execute(C,x)}requestAsyncId(C,x,P=0){return null!=P&&P>0||null==P&&this.delay>0?super.requestAsyncId(C,x,P):(C.flush(this),0)}});var Jn=F(4986),Ba=F(8505),Ko=F(9468),Fr=F(5363);const Hn=new f.GfV("7.6.1"),zs="__angularfire_symbol__analyticsIsSupportedValue",Yo="__angularfire_symbol__analyticsIsSupported",Yu="__angularfire_symbol__remoteConfigIsSupportedValue",Hi="__angularfire_symbol__remoteConfigIsSupported",Ii="__angularfire_symbol__messagingIsSupportedValue",ar="__angularfire_symbol__messagingIsSupported";function Pf(E,C,x){if(C){if(1===C.length)return C[0];const Z=C.filter(ce=>ce.app===x);if(1===Z.length)return Z[0]}return x.container.getProvider(E).getImmediate({optional:!0})}globalThis[Yo]||(globalThis[Yo]=Wu().then(E=>globalThis[zs]=E).catch(()=>globalThis[zs]=!1)),globalThis[ar]||(globalThis[ar]=Ra().then(E=>globalThis[Ii]=E).catch(()=>globalThis[Ii]=!1)),globalThis[Hi]||(globalThis[Hi]=Wr().then(E=>globalThis[Yu]=E).catch(()=>globalThis[Yu]=!1));const lc=(E,C)=>{const x=C?[C]:(0,K.C6)(),P=[];return x.forEach(H=>{H.container.getProvider(E).instances.forEach(ce=>{P.includes(ce)||P.push(ce)})}),P};function wo(){}class cc{constructor(C,x=Ku){this.zone=C,this.delegate=x}now(){return this.delegate.now()}schedule(C,x,P){const H=this.zone;return this.delegate.schedule(function(ce){H.runGuarded(()=>{C.apply(this,[ce])})},x,P)}}class Ht{constructor(C){this.zone=C,this.task=null}call(C,x){const P=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",wo,{},wo,wo)),x.pipe((0,Ba.b)({next:P,complete:P,error:P})).subscribe(C).add(P)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ja=(()=>{class E{constructor(x){this.ngZone=x,this.outsideAngular=x.runOutsideAngular(()=>new cc(Zone.current)),this.insideAngular=x.run(()=>new cc(Zone.current,Jn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(x){return new(x||E)(f.LFG(f.R0b))},E.\u0275prov=f.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Qo(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Qu(E){return Qo(),function dc(E){return function(x){return(x=x.lift(new Ht(E.ngZone))).pipe((0,Ko.R)(E.outsideAngular),(0,Fr.Q)(E.insideAngular))}}(Qo())(E)}},5578:(yt,Me,F)=>{F.d(Me,{$s:()=>es,BH:()=>ge,G6:()=>Ji,L:()=>pe,LL:()=>fe,Pz:()=>ve,Sg:()=>ze,UG:()=>te,US:()=>he,ZB:()=>W,ZR:()=>be,aH:()=>Pe,b$:()=>jt,eu:()=>X,hl:()=>ne,jU:()=>Rt,m9:()=>zr,ne:()=>Qt,pd:()=>ir,r3:()=>Tn,ru:()=>st,tV:()=>z,uI:()=>et,vZ:()=>Hr,w1:()=>fs,xO:()=>No,xb:()=>$r,z$:()=>je,zI:()=>Ce,zd:()=>gi});const oe=function(U){const L=[];let q=0;for(let ae=0;ae<U.length;ae++){let J=U.charCodeAt(ae);J<128?L[q++]=J:J<2048?(L[q++]=J>>6|192,L[q++]=63&J|128):55296==(64512&J)&&ae+1<U.length&&56320==(64512&U.charCodeAt(ae+1))?(J=65536+((1023&J)<<10)+(1023&U.charCodeAt(++ae)),L[q++]=J>>18|240,L[q++]=J>>12&63|128,L[q++]=J>>6&63|128,L[q++]=63&J|128):(L[q++]=J>>12|224,L[q++]=J>>6&63|128,L[q++]=63&J|128)}return L},he={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(U,L){if(!Array.isArray(U))throw Error("encodeByteArray takes an array as a parameter");this.init_();const q=L?this.byteToCharMapWebSafe_:this.byteToCharMap_,ae=[];for(let J=0;J<U.length;J+=3){const qe=U[J],St=J+1<U.length,kt=St?U[J+1]:0,rn=J+2<U.length,Ue=rn?U[J+2]:0;let fn=(15&kt)<<2|Ue>>6,wr=63&Ue;rn||(wr=64,St||(fn=64)),ae.push(q[qe>>2],q[(3&qe)<<4|kt>>4],q[fn],q[wr])}return ae.join("")},encodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?btoa(U):this.encodeByteArray(oe(U),L)},decodeString(U,L){return this.HAS_NATIVE_SUPPORT&&!L?atob(U):function(U){const L=[];let q=0,ae=0;for(;q<U.length;){const J=U[q++];if(J<128)L[ae++]=String.fromCharCode(J);else if(J>191&&J<224){const qe=U[q++];L[ae++]=String.fromCharCode((31&J)<<6|63&qe)}else if(J>239&&J<365){const rn=((7&J)<<18|(63&U[q++])<<12|(63&U[q++])<<6|63&U[q++])-65536;L[ae++]=String.fromCharCode(55296+(rn>>10)),L[ae++]=String.fromCharCode(56320+(1023&rn))}else{const qe=U[q++],St=U[q++];L[ae++]=String.fromCharCode((15&J)<<12|(63&qe)<<6|63&St)}}return L.join("")}(this.decodeStringToByteArray(U,L))},decodeStringToByteArray(U,L){this.init_();const q=L?this.charToByteMapWebSafe_:this.charToByteMap_,ae=[];for(let J=0;J<U.length;){const qe=q[U.charAt(J++)],kt=J<U.length?q[U.charAt(J)]:0;++J;const Ue=J<U.length?q[U.charAt(J)]:64;++J;const gt=J<U.length?q[U.charAt(J)]:64;if(++J,null==qe||null==kt||null==Ue||null==gt)throw new de;ae.push(qe<<2|kt>>4),64!==Ue&&(ae.push(kt<<4&240|Ue>>2),64!==gt&&ae.push(Ue<<6&192|gt))}return ae},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let U=0;U<this.ENCODED_VALS.length;U++)this.byteToCharMap_[U]=this.ENCODED_VALS.charAt(U),this.charToByteMap_[this.byteToCharMap_[U]]=U,this.byteToCharMapWebSafe_[U]=this.ENCODED_VALS_WEBSAFE.charAt(U),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[U]]=U,U>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(U)]=U,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(U)]=U)}}};class de extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const pe=function(U){return function(U){const L=oe(U);return he.encodeByteArray(L,!0)}(U).replace(/\./g,"")},z=function(U){try{return he.decodeString(U,!0)}catch(L){console.error("base64Decode failed: ",L)}return null};function W(U,L){if(!(L instanceof Object))return L;switch(L.constructor){case Date:return new Date(L.getTime());case Object:void 0===U&&(U={});break;case Array:U=[];break;default:return L}for(const q in L)!L.hasOwnProperty(q)||!He(q)||(U[q]=W(U[q],L[q]));return U}function He(U){return"__proto__"!==U}const me=()=>{try{return function xe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const U=process.env.__FIREBASE_DEFAULTS__;return U?JSON.parse(U):void 0})()||(()=>{if(typeof document>"u")return;let U;try{U=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const L=U&&z(U[1]);return L&&JSON.parse(L)})()}catch(U){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${U}`)}},Pe=()=>{var U;return null===(U=me())||void 0===U?void 0:U.config},ve=U=>{var L;return null===(L=me())||void 0===L?void 0:L[`_${U}`]};class ge{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((L,q)=>{this.resolve=L,this.reject=q})}wrapCallback(L){return(q,ae)=>{q?this.reject(q):this.resolve(ae),"function"==typeof L&&(this.promise.catch(()=>{}),1===L.length?L(q):L(q,ae))}}}function ze(U,L){if(U.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const ae=L||"demo-project",J=U.iat||0,qe=U.sub||U.user_id;if(!qe)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const St=Object.assign({iss:`https://securetoken.google.com/${ae}`,aud:ae,iat:J,exp:J+3600,auth_time:J,sub:qe,user_id:qe,firebase:{sign_in_provider:"custom",identities:{}}},U);return[pe(JSON.stringify({alg:"none",type:"JWT"})),pe(JSON.stringify(St)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function et(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function te(){var U;const L=null===(U=me())||void 0===U?void 0:U.forceEnvironment;if("node"===L)return!0;if("browser"===L)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Rt(){return"object"==typeof self&&self.self===self}function st(){const U="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof U&&void 0!==U.id}function jt(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function fs(){const U=je();return U.indexOf("MSIE ")>=0||U.indexOf("Trident/")>=0}function Ji(){return!te()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ne(){try{return"object"==typeof indexedDB}catch{return!1}}function X(){return new Promise((U,L)=>{try{let q=!0;const ae="validate-browser-context-for-indexeddb-analytics-module",J=self.indexedDB.open(ae);J.onsuccess=()=>{J.result.close(),q||self.indexedDB.deleteDatabase(ae),U(!0)},J.onupgradeneeded=()=>{q=!1},J.onerror=()=>{var qe;L((null===(qe=J.error)||void 0===qe?void 0:qe.message)||"")}}catch(q){L(q)}})}function Ce(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class be extends Error{constructor(L,q,ae){super(q),this.code=L,this.customData=ae,this.name="FirebaseError",Object.setPrototypeOf(this,be.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fe.prototype.create)}}class fe{constructor(L,q,ae){this.service=L,this.serviceName=q,this.errors=ae}create(L,...q){const ae=q[0]||{},J=`${this.service}/${L}`,qe=this.errors[L],St=qe?function dt(U,L){return U.replace(Pt,(q,ae)=>{const J=L[ae];return null!=J?String(J):`<${ae}?>`})}(qe,ae):"Error";return new be(J,`${this.serviceName}: ${St} (${J}).`,ae)}}const Pt=/\{\$([^}]+)}/g;function Tn(U,L){return Object.prototype.hasOwnProperty.call(U,L)}function $r(U){for(const L in U)if(Object.prototype.hasOwnProperty.call(U,L))return!1;return!0}function Hr(U,L){if(U===L)return!0;const q=Object.keys(U),ae=Object.keys(L);for(const J of q){if(!ae.includes(J))return!1;const qe=U[J],St=L[J];if(Ri(qe)&&Ri(St)){if(!Hr(qe,St))return!1}else if(qe!==St)return!1}for(const J of ae)if(!q.includes(J))return!1;return!0}function Ri(U){return null!==U&&"object"==typeof U}function No(U){const L=[];for(const[q,ae]of Object.entries(U))Array.isArray(ae)?ae.forEach(J=>{L.push(encodeURIComponent(q)+"="+encodeURIComponent(J))}):L.push(encodeURIComponent(q)+"="+encodeURIComponent(ae));return L.length?"&"+L.join("&"):""}function gi(U){const L={};return U.replace(/^\?/,"").split("&").forEach(ae=>{if(ae){const[J,qe]=ae.split("=");L[decodeURIComponent(J)]=decodeURIComponent(qe)}}),L}function ir(U){const L=U.indexOf("?");if(!L)return"";const q=U.indexOf("#",L);return U.substring(L,q>0?q:void 0)}function Qt(U,L){const q=new tt(U,L);return q.subscribe.bind(q)}class tt{constructor(L,q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=q,this.task.then(()=>{L(this)}).catch(ae=>{this.error(ae)})}next(L){this.forEachObserver(q=>{q.next(L)})}error(L){this.forEachObserver(q=>{q.error(L)}),this.close(L)}complete(){this.forEachObserver(L=>{L.complete()}),this.close()}subscribe(L,q,ae){let J;if(void 0===L&&void 0===q&&void 0===ae)throw new Error("Missing Observer.");J=function hn(U,L){if("object"!=typeof U||null===U)return!1;for(const q of L)if(q in U&&"function"==typeof U[q])return!0;return!1}(L,["next","error","complete"])?L:{next:L,error:q,complete:ae},void 0===J.next&&(J.next=Xi),void 0===J.error&&(J.error=Xi),void 0===J.complete&&(J.complete=Xi);const qe=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?J.error(this.finalError):J.complete()}catch{}}),this.observers.push(J),qe}unsubscribeOne(L){void 0===this.observers||void 0===this.observers[L]||(delete this.observers[L],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(L){if(!this.finalized)for(let q=0;q<this.observers.length;q++)this.sendOne(q,L)}sendOne(L,q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[L])try{q(this.observers[L])}catch(ae){typeof console<"u"&&console.error&&console.error(ae)}})}close(L){this.finalized||(this.finalized=!0,void 0!==L&&(this.finalError=L),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xi(){}function es(U,L=1e3,q=2){const ae=L*Math.pow(q,U),J=Math.round(.5*ae*(Math.random()-.5)*2);return Math.min(144e5,ae+J)}function zr(U){return U&&U._delegate?U._delegate:U}},2833:(yt,Me,F)=>{var f=F(4650);let K=null;function O(){return K}const de=new f.OlP("DocumentToken");let we=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function pe(){return(0,f.LFG)(j)}()},providedIn:"platform"}),n})();const z=new f.OlP("Location Initialized");let j=(()=>{class n extends we{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return O().getBaseHref(this._doc)}onPopState(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=O().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,r,s){W()?this._history.pushState(t,r,s):this.location.hash=s}replaceState(t,r,s){W()?this._history.replaceState(t,r,s):this.location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function He(){return new j((0,f.LFG)(de))}()},providedIn:"platform"}),n})();function W(){return!!window.history.pushState}function xe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function De(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Xe(n){return n&&"?"!==n[0]?"?"+n:n}let ye=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(pt)},providedIn:"root"}),n})();const me=new f.OlP("appBaseHref");let pt=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return xe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Xe(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const c=this.prepareExternalUrl(s+Xe(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,s,u){const c=this.prepareExternalUrl(s+Xe(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(we),f.LFG(me,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),It=(()=>{class n extends ye{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=xe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let c=this.prepareExternalUrl(s+Xe(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,s,u){let c=this.prepareExternalUrl(s+Xe(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(we),f.LFG(me,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),Pe=(()=>{class n{constructor(t){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._baseHref=De(ze(r)),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Xe(r))}normalize(t){return n.stripTrailingSlash(function ge(n,e){return n&&e.startsWith(n)?e.substring(n.length):e}(this._baseHref,ze(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Xe(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Xe,n.joinWithSlash=xe,n.stripTrailingSlash=De,n.\u0275fac=function(t){return new(t||n)(f.LFG(ye))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function ve(){return new Pe((0,f.LFG)(ye))}()},providedIn:"root"}),n})();function ze(n){return n.replace(/\/index.html$/,"")}function ma(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}class Pl{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let yn=(()=>{class n{constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,c)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new Pl(s.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const m=r.get(u);r.move(m,c),$s(m,s)}});for(let s=0,u=r.length;s<u;s++){const m=r.get(s).context;m.index=s,m.count=u,m.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{$s(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function $s(n,e){n.context.$implicit=e.item}let dr=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new dd,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){or("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){or("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class dd{constructor(){this.$implicit=null,this.ngIf=null}}function or(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let Ul=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();function _u(n){return"server"===n}let ms=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Eu((0,f.LFG)(de),window)}),n})();class Eu{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Wr(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=vi(this.window.history)||vi(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function vi(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class va{}class Ql extends class mf extends class he{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){!function se(n){K||(K=n)}(new Ql)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Mu(){return xu=xu||document.querySelector("base"),xu?xu.getAttribute("href"):null}();return null==t?null:function yf(n){Ru=Ru||document.createElement("a"),Ru.setAttribute("href",n);const e=Ru.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){xu=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ma(document.cookie,e)}}let Ru,xu=null;const $o=new f.OlP("TRANSITION_ID"),Jl=[{provide:f.ip1,useFactory:function Od(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=O(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[$o,de,f.zs3],multi:!0}];let vf=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ns=new f.OlP("EventManagerPlugins");let Aa=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const c=s[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ns),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class ws{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=O().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let lo=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),rs=(()=>{class n extends lo{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,s.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Nu),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Nu))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Nu(n){O().remove(n)}const xa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},_i=/%COMP%/g;function fo(n,e,t){for(let r=0;r<e.length;r++){let s=e[r];Array.isArray(s)?fo(n,s,t):(s=s.replace(_i,n),t.push(s))}return t}function Pu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Ra=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new Go(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new po(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case 1:case f.ifc.ShadowDom:return new wf(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=fo(r.id,r.styles,[]);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Aa),f.LFG(rs),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Go{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(xa[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Na(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Na(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=xa[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=xa[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,s&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Pu(r)):this.eventManager.addEventListener(e,t,Pu(r))}}function Na(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class po extends Go{constructor(e,t,r,s){super(e),this.component=r;const u=fo(s+"-"+r.id,r.styles,[]);t.addStyles(u),this.contentAttr=function ho(n){return"_ngcontent-%COMP%".replace(_i,n)}(s+"-"+r.id),this.hostAttr=function Ma(n){return"_nghost-%COMP%".replace(_i,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class wf extends Go{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=fo(s.id,s.styles,[]);for(let c=0;c<u.length;c++){const m=document.createElement("style");m.textContent=u[c],this.shadowRoot.appendChild(m)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ou=(()=>{class n extends ws{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const ss=["alt","control","meta","shift"],jg={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Dn={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let tc=(()=>{class n extends ws{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>O().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let c="",m=r.indexOf("code");if(m>-1&&(r.splice(m,1),c="code."),ss.forEach(b=>{const A=r.indexOf(b);A>-1&&(r.splice(A,1),c+=b+".")}),c+=u,0!=r.length||0===u.length)return null;const w={};return w.domEventName=s,w.fullKey=c,w}static matchEventFullKeyCode(t,r){let s=jg[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),ss.forEach(c=>{c!==s&&(0,Dn[c])(t)&&(u+=c+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Fu=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function go(){Ql.makeCurrent()},multi:!0},{provide:de,useFactory:function zo(){return(0,f.RDi)(document),document},deps:[]}]),Oa=new f.OlP(""),cn=[{provide:f.rWj,useClass:class Sa{addToWindow(e){f.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const s=f.dqk.getAllAngularTestabilities();let u=s.length,c=!1;const m=function(w){c=c||w,u--,0==u&&r(c)};s.forEach(function(w){w.whenStable(m)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?O().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],nc=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Cr(){return new f.qLn},deps:[]},{provide:ns,useClass:Ou,multi:!0,deps:[de,f.R0b,f.Lbi]},{provide:ns,useClass:tc,multi:!0,deps:[de]},{provide:Ra,useClass:Ra,deps:[Aa,rs,f.AFp]},{provide:f.FYo,useExisting:Ra},{provide:lo,useExisting:rs},{provide:rs,useClass:rs,deps:[de]},{provide:Aa,useClass:Aa,deps:[ns,f.R0b]},{provide:va,useClass:vf,deps:[]},[]];let rc=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:$o,useExisting:f.AFp},Jl]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Oa,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[...nc,...cn],imports:[Ul,f.hGG]}),n})(),bf=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Df(){return new bf((0,f.LFG)(de))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var sn=F(8996),Bi=F(7669);function ht(...n){const e=(0,Bi.yG)(n);return(0,sn.D)(n,e)}var Kn=F(7579);class Yn extends Kn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const La=(0,F(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ji=F(9751);const{isArray:zu}=Array,{getPrototypeOf:Va,prototype:mo,keys:kr}=Object;function qu(n){if(1===n.length){const e=n[0];if(zu(e))return{args:e,keys:null};if(function Vn(n){return n&&"object"==typeof n&&Va(n)===mo}(e)){const t=kr(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Wo=F(4671),Dt=F(4004);const{isArray:Bd}=Array;function Wu(n){return(0,Dt.U)(e=>function yo(n,e){return Bd(e)?n(...e):n(e)}(n,e))}function Zu(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Qn=F(5403),jd=F(9672);function Gs(...n){const e=(0,Bi.yG)(n),t=(0,Bi.jO)(n),{args:r,keys:s}=qu(n);if(0===r.length)return(0,sn.D)([],e);const u=new ji.y(function ac(n,e,t=Wo.y){return r=>{vo(e,()=>{const{length:s}=n,u=new Array(s);let c=s,m=s;for(let w=0;w<s;w++)vo(e,()=>{const b=(0,sn.D)(n[w],e);let A=!1;b.subscribe((0,Qn.x)(r,R=>{u[w]=R,A||(A=!0,m--),m||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,s?c=>Zu(s,c):Wo.y));return t?u.pipe(Wu(t)):u}function vo(n,e,t){n?(0,jd.f)(t,n,e):e()}var Zo=F(8189);function Cs(...n){return function xf(){return(0,Zo.J)(1)}()((0,sn.D)(n,(0,Bi.yG)(n)))}var _o=F(8421);function Ua(n){return new ji.y(e=>{(0,_o.Xf)(n()).subscribe(e)})}var $d=F(9635),uc=F(576);function Ei(n,e){const t=(0,uc.m)(n)?n:()=>n,r=s=>s.error(t());return new ji.y(e?s=>e.schedule(r,0,s):r)}var $i=F(515),Hd=F(727),Dr=F(4482);function Ku(){return(0,Dr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Qn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Mf extends ji.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Dr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Hd.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Qn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Hd.w0.EMPTY)}return e}refCount(){return Ku()(this)}}function Jn(n,e){return(0,Dr.e)((t,r)=>{let s=null,u=0,c=!1;const m=()=>c&&!s&&r.complete();t.subscribe((0,Qn.x)(r,w=>{s?.unsubscribe();let b=0;const A=u++;(0,_o.Xf)(n(w,A)).subscribe(s=(0,Qn.x)(r,R=>r.next(e?e(w,R,A,b++):R),()=>{s=null,m()}))},()=>{c=!0,m()}))})}function Ba(n){return n<=0?()=>$i.E:(0,Dr.e)((e,t)=>{let r=0;e.subscribe((0,Qn.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function Ko(...n){const e=(0,Bi.yG)(n);return(0,Dr.e)((t,r)=>{(e?Cs(n,t,e):Cs(n,t)).subscribe(r)})}function Fr(n,e){return(0,Dr.e)((t,r)=>{let s=0;t.subscribe((0,Qn.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var Hn=F(5577);function zs(n){return(0,Dr.e)((e,t)=>{let r=!1;e.subscribe((0,Qn.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function Yo(n=Yu){return(0,Dr.e)((e,t)=>{let r=!1;e.subscribe((0,Qn.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function Yu(){return new La}function Hi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fr((s,u)=>n(s,u,r)):Wo.y,Ba(1),t?zs(e):Yo(()=>new La))}function Ii(n,e){return(0,uc.m)(e)?(0,Hn.z)(n,e,1):(0,Hn.z)(n,1)}var ar=F(8505);function os(n){return(0,Dr.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Qn.x)(t,void 0,void 0,c=>{u=(0,_o.Xf)(n(c,os(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Rf(n,e,t,r,s){return(u,c)=>{let m=t,w=e,b=0;u.subscribe((0,Qn.x)(c,A=>{const R=b++;w=m?n(w,A,R):(m=!0,A),r&&c.next(w)},s&&(()=>{m&&c.next(w),c.complete()})))}}function qs(n,e){return(0,Dr.e)(Rf(n,e,arguments.length>=2,!0))}function Nf(n){return n<=0?()=>$i.E:(0,Dr.e)((e,t)=>{let r=[];e.subscribe((0,Qn.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function Pf(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Fr((s,u)=>n(s,u,r)):Wo.y,Nf(1),t?zs(e):Yo(()=>new La))}function cc(n){return(0,Dr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const Ht="primary",ja=Symbol("RouteTitle");class Qo{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Ds(n){return new Qo(n)}function Ws(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const c=r[u],m=n[u];if(c.startsWith(":"))s[c.substring(1)]=m;else if(c!==m.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function as(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!Qu(n[s],e[s]))return!1;return!0}function Qu(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function dc(n){return Array.prototype.concat.apply([],n)}function Gi(n){return n.length>0?n[n.length-1]:null}function E(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function C(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,sn.D)(Promise.resolve(n)):ht(n)}const x=!1,H={exact:function $e(n,e,t){if(!fr(n.segments,e.segments)||!br(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!$e(n.children[r],e.children[r],t))return!1;return!0},subset:ct},Z={exact:function We(n,e){return as(n,e)},subset:function at(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Qu(n[t],e[t]))},ignored:()=>!0};function ce(n,e,t){return H[t.paths](n.root,e.root,t.matrixParams)&&Z[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function ct(n,e,t){return Ot(n,e,e.segments,t)}function Ot(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!fr(s,t)||e.hasChildren()||!br(s,t,r))}if(n.segments.length===t.length){if(!fr(n.segments,t)||!br(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!ct(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(fr(n.segments,s)&&br(n.segments,s,r)&&n.children[Ht])&&Ot(n.children[Ht],e,u,r)}}function br(n,e,t){return e.every((r,s)=>Z[t](n[s].parameters,r.parameters))}class mn{constructor(e,t,r){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ds(this.queryParams)),this._queryParamMap}toString(){return Gg.serialize(this)}}class ft{constructor(e,t){this.segments=e,this.children=t,this.parent=null,E(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Of(this)}}class zi{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Ds(this.parameters)),this._parameterMap}toString(){return zg(this)}}function fr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ju=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return new hc},providedIn:"root"}),n})();class hc{parse(e){const t=new pc(e);return new mn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Jo(e.root,!0)}`,r=function dv(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${$a(t)}=${$a(s)}`).join("&"):`${$a(t)}=${$a(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function zd(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Gg=new hc;function Of(n){return n.segments.map(e=>zg(e)).join("/")}function Jo(n,e){if(!n.hasChildren())return Of(n);if(e){const t=n.children[Ht]?Jo(n.children[Ht],!1):"",r=[];return E(n.children,(s,u)=>{u!==Ht&&r.push(`${u}:${Jo(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function bs(n,e){let t=[];return E(n.children,(r,s)=>{s===Ht&&(t=t.concat(e(r,s)))}),E(n.children,(r,s)=>{s!==Ht&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===Ht?[Jo(n.children[Ht],!1)]:[`${s}:${Jo(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[Ht]?`${Of(n)}/${t[0]}`:`${Of(n)}/(${t.join("//")})`}}function kf(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $a(n){return kf(n).replace(/%3B/gi,";")}function Xu(n){return kf(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function qd(n){return decodeURIComponent(n)}function Ff(n){return qd(n.replace(/\+/g,"%20"))}function zg(n){return`${Xu(n.path)}${function fc(n){return Object.keys(n).map(e=>`;${Xu(e)}=${Xu(n[e])}`).join("")}(n.parameters)}`}const qg=/^[^\/()?;=#]+/;function el(n){const e=n.match(qg);return e?e[0]:""}const Wg=/^[^=?&#]+/,pw=/^[^&#]+/;class pc{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new ft([],{}):new ft([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Ht]=new ft(e,t)),r}parseSegment(){const e=el(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new f.vHH(4009,x);return this.capture(e),new zi(qd(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=el(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=el(this.remaining);s&&(r=s,this.capture(r))}e[qd(t)]=qd(r)}parseQueryParam(e){const t=function Xo(n){const e=n.match(Wg);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function tl(n){const e=n.match(pw);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const s=Ff(t),u=Ff(r);if(e.hasOwnProperty(s)){let c=e[s];Array.isArray(c)||(c=[c],e[s]=c),c.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=el(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new f.vHH(4010,x);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=Ht);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[Ht]:new ft([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new f.vHH(4011,x)}}function Wd(n){return n.segments.length>0?new ft([],{[Ht]:n}):n}function nl(n){const e={};for(const r of Object.keys(n.children)){const u=nl(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function Lf(n){if(1===n.numberOfChildren&&n.children[Ht]){const e=n.children[Ht];return new ft(n.segments.concat(e.segments),e.children)}return n}(new ft(n.segments,e))}function Ha(n){return n instanceof mn}function fv(n,e,t,r,s){if(0===t.length)return za(e.root,e.root,e.root,r,s);const u=function Kd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Uf(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const m={};return E(u.outlets,(w,b)=>{m[b]="string"==typeof w?w.split("/"):w}),[...s,{outlets:m}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===c?(u.split("/").forEach((m,w)=>{0==w&&"."===m||(0==w&&""===m?t=!0:".."===m?e++:""!=m&&s.push(m))}),s):[...s,u]},[]);return new Uf(t,e,r)}(t);return u.toRoot()?za(e.root,e.root,new ft([],{}),r,s):function c(w){const b=function Eo(n,e,t,r){if(n.isAbsolute)return new qa(e.root,!0,0);if(-1===r)return new qa(t,t===e.root,0);return function mc(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new f.vHH(4005,!1);s=r.segments.length}return new qa(r,!1,s-u)}(t,r+(rl(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,w),A=b.processChildren?Wa(b.segmentGroup,b.index,u.commands):Bf(b.segmentGroup,b.index,u.commands);return za(e.root,b.segmentGroup,A,r,s)}(n.snapshot?._lastPathIndex)}function rl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ga(n){return"object"==typeof n&&null!=n&&n.outlets}function za(n,e,t,r,s){let c,u={};r&&E(r,(w,b)=>{u[b]=Array.isArray(w)?w.map(A=>`${A}`):`${w}`}),c=n===e?t:Zd(n,e,t);const m=Wd(nl(c));return new mn(m,u,s)}function Zd(n,e,t){const r={};return E(n.children,(s,u)=>{r[u]=s===e?t:Zd(s,e,t)}),new ft(n.segments,r)}class Uf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&rl(r[0]))throw new f.vHH(4003,!1);const s=r.find(Ga);if(s&&s!==Gi(r))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class qa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Bf(n,e,t){if(n||(n=new ft([],{})),0===n.segments.length&&n.hasChildren())return Wa(n,e,t);const r=function Yd(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const c=n.segments[s],m=t[r];if(Ga(m))break;const w=`${m}`,b=r<t.length-1?t[r+1]:null;if(s>0&&void 0===w)break;if(w&&b&&"object"==typeof b&&void 0===b.outlets){if(!$f(w,b,c))return u;r+=2}else{if(!$f(w,{},c))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new ft(n.segments.slice(0,r.pathIndex),{});return u.children[Ht]=new ft(n.segments.slice(r.pathIndex),n.children),Wa(u,0,s)}return r.match&&0===s.length?new ft(n.segments,{}):r.match&&!n.hasChildren()?jf(n,e,t):r.match?Wa(n,0,s):jf(n,e,t)}function Wa(n,e,t){if(0===t.length)return new ft(n.segments,{});{const r=function Kg(n){return Ga(n[0])?n[0].outlets:{[Ht]:n}}(t),s={};return E(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[c]=Bf(n.children[c],e,u))}),E(n.children,(u,c)=>{void 0===r[c]&&(s[c]=u)}),new ft(n.segments,s)}}function jf(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Ga(u)){const w=Yg(u.outlets);return new ft(r,w)}if(0===s&&rl(t[0])){r.push(new zi(n.segments[e].path,Qd(t[0]))),s++;continue}const c=Ga(u)?u.outlets[Ht]:`${u}`,m=s<t.length-1?t[s+1]:null;c&&m&&rl(m)?(r.push(new zi(c,Qd(m))),s+=2):(r.push(new zi(c,{})),s++)}return new ft(r,{})}function Yg(n){const e={};return E(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=jf(new ft([],{}),0,t))}),e}function Qd(n){const e={};return E(n,(t,r)=>e[r]=`${t}`),e}function $f(n,e,t){return n==t.path&&as(e,t.parameters)}class Ts{constructor(e,t){this.id=e,this.url=t}}class Jd extends Ts{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Ks extends Ts{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Ss extends Ts{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Hf extends Ts{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Xd extends Ts{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gf extends Ts{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zf extends Ts{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class yc extends Ts{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class pv extends Ts{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qf{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Wf{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Zf{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Kf{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yf{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class il{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class eh{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class sl{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=th(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=th(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Qg(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return Qg(e,this._root).map(t=>t.value)}}function th(n,e){if(n===e.value)return e;for(const t of e.children){const r=th(n,t);if(r)return r}return null}function Qg(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Qg(n,t);if(r.length)return r.unshift(e),r}return[]}class As{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ys(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class Jg extends sl{constructor(e,t){super(e),this.snapshot=t,sh(this,e)}toString(){return this.snapshot.toString()}}function nh(n,e){const t=function rh(n,e){const c=new vc([],{},{},"",{},Ht,e,null,n.root,-1,{});return new Qf("",new As(c,[]))}(n,e),r=new Yn([new zi("",{})]),s=new Yn({}),u=new Yn({}),c=new Yn({}),m=new Yn(""),w=new Zr(r,s,c,m,u,Ht,e,t.root);return w.snapshot=t.root,new Jg(new As(w,[]),t)}class Zr{constructor(e,t,r,s,u,c,m,w){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=c,this.component=m,this.title=this.data?.pipe((0,Dt.U)(b=>b[ja]))??ht(void 0),this._futureSnapshot=w}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Dt.U)(e=>Ds(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Dt.U)(e=>Ds(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ih(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function Xg(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class vc{constructor(e,t,r,s,u,c,m,w,b,A,R,V){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=c,this.component=m,this.title=this.data?.[ja],this.routeConfig=w,this._urlSegment=b,this._lastPathIndex=A,this._correctedLastPathIndex=V??A,this._resolve=R}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ds(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ds(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Qf extends sl{constructor(e,t){super(t),this.url=e,sh(this,t)}toString(){return ai(this._root)}}function sh(n,e){e.value._routerState=n,e.children.forEach(t=>sh(n,t))}function ai(n){const e=n.children.length>0?` { ${n.children.map(ai).join(", ")} } `:"";return`${n.value}${e}`}function _c(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,as(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),as(e.params,t.params)||n.params.next(t.params),function Gd(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!as(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),as(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function wc(n,e){const t=as(n.params,e.params)&&function Zs(n,e){return fr(n,e)&&n.every((t,r)=>as(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||wc(n.parent,e.parent))}function ur(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function Io(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return ur(n,r,s);return ur(n,r)})}(n,e,t);return new As(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(m=>ur(n,m)),c}}const r=function em(n){return new Zr(new Yn(n.url),new Yn(n.params),new Yn(n.queryParams),new Yn(n.fragment),new Yn(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>ur(n,u));return new As(r,s)}}const Jf="ngNavigationCancelingError";function mv(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Ha(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=Xf(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function Xf(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Jf]=!0,r.cancellationCode=e,t&&(r.url=t),r}function yv(n){return vv(n)&&Ha(n.url)}function vv(n){return n&&n[Jf]}class tm{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Ec,this.attachRef=null}}let Ec=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new tm,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const y=!1;let h=(()=>{class n{constructor(t,r,s,u,c){this.parentContexts=t,this.location=r,this.changeDetector=u,this.environmentInjector=c,this.activated=null,this._activatedRoute=null,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.name=s||Ht,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.getContext(this.name)?.outlet===this&&this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,y);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,y);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,y);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new f.vHH(4013,y);this._activatedRoute=t;const s=this.location,c=t._futureSnapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,w=new p(t,m,s.injector);if(r&&function _(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(c);this.activated=s.createComponent(b,s.length,w)}else this.activated=s.createComponent(c,{index:s.length,injector:w,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ec),f.Y36(f.s_b),f.$8M("name"),f.Y36(f.sBO),f.Y36(f.lqb))},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0}),n})();class p{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Zr?this.route:e===Ec?this.childContexts:this.parent.get(e,t)}}let T=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},dependencies:[h],encapsulation:2}),n})();function M(n,e){return n.providers&&!n._injector&&(n._injector=(0,f.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Ic(n){const e=n.children&&n.children.map(Ic),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Ht&&(t.component=T),t}function us(n){return n.outlet||Ht}function Cc(n,e){const t=n.filter(r=>us(r)===e);return t.push(...n.filter(r=>us(r)!==e)),t}function ol(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class ep{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),_c(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=Ys(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,s[c],r),delete s[c]}),E(s,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const c=r.getContext(s.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Ys(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],s);if(r&&r.outlet){const c=r.outlet.detach(),m=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:m})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=Ys(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=Ys(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new il(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Kf(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(_c(s),s===u)if(s.component){const c=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const c=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const m=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),c.children.onOutletReAttached(m.contexts),c.attachRef=m.componentRef,c.route=m.route.value,c.outlet&&c.outlet.attach(m.componentRef,m.route.value),_c(m.route.value),this.activateChildRoutes(e,null,c.children)}else{const m=ol(s.snapshot),w=m?.get(f._Vd)??null;c.attachRef=null,c.route=s,c.resolver=w,c.injector=m,c.outlet&&c.outlet.activateWith(s,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class tp{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class al{constructor(e,t){this.component=e,this.route=t}}function ul(n,e,t){const r=n._root;return Za(r,e?e._root:null,t,[r.value])}function ea(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,f.Z0I)(n)?e.get(n):n:r}function Za(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ys(e);return n.children.forEach(c=>{(function lr(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,m=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const w=function MD(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!fr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!fr(n.url,e.url)||!as(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!wc(n,e)||!as(n.queryParams,e.queryParams);default:return!wc(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);w?s.canActivateChecks.push(new tp(r)):(u.data=c.data,u._resolvedData=c._resolvedData),Za(n,e,u.component?m?m.children:null:t,r,s),w&&m&&m.outlet&&m.outlet.isActivated&&s.canDeactivateChecks.push(new al(m.outlet.component,c))}else c&&np(e,m,s),s.canActivateChecks.push(new tp(r)),Za(n,null,u.component?m?m.children:null:t,r,s)})(c,u[c.value.outlet],t,r.concat([c.value]),s),delete u[c.value.outlet]}),E(u,(c,m)=>np(c,t.getContext(m),s)),s}function np(n,e,t){const r=Ys(n),s=n.value;E(r,(u,c)=>{np(u,s.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new al(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Dc(n){return"function"==typeof n}function bc(n){return n instanceof La||"EmptyError"===n?.name}const oh=Symbol("INITIAL_VALUE");function Tc(){return Jn(n=>Gs(n.map(e=>e.pipe(Ba(1),Ko(oh)))).pipe((0,Dt.U)(e=>{for(const t of e)if(!0!==t){if(t===oh)return oh;if(!1===t||t instanceof mn)return t}return!0}),Fr(e=>e!==oh),Ba(1)))}function Ev(n){return(0,$d.z)((0,ar.b)(e=>{if(Ha(e))throw mv(0,e)}),(0,Dt.U)(e=>!0===e))}const Ka={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Iw(n,e,t,r,s){const u=rp(n,e,t);return u.matched?function Ew(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?ht(s.map(c=>{const m=ea(c,n);return C(function kD(n){return n&&Dc(n.canMatch)}(m)?m.canMatch(e,t):n.runInContext(()=>m(e,t)))})).pipe(Tc(),Ev()):ht(!0)}(r=M(e,r),e,t).pipe((0,Dt.U)(c=>!0===c?u:{...Ka})):ht(u)}function rp(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Ka}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||Ws)(t,n,e);if(!s)return{...Ka};const u={};E(s.posParams,(m,w)=>{u[w]=m.path});const c=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:c,positionalParamSegments:s.posParams??{}}}function Sc(n,e,t,r,s="corrected"){if(t.length>0&&function im(n,e,t){return t.some(r=>ip(n,e,r)&&us(r)!==Ht)}(n,t,r)){const c=new ft(e,function Iv(n,e,t,r){const s={};s[Ht]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&us(u)!==Ht){const c=new ft([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,s[us(u)]=c}return s}(n,e,r,new ft(t,n.children)));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:[]}}if(0===t.length&&function Ac(n,e,t){return t.some(r=>ip(n,e,r))}(n,t,r)){const c=new ft(n.segments,function VD(n,e,t,r,s,u){const c={};for(const m of r)if(ip(n,t,m)&&!s[us(m)]){const w=new ft([],{});w._sourceSegment=n,w._segmentIndexShift="legacy"===u?n.segments.length:e.length,c[us(m)]=w}return{...s,...c}}(n,e,t,r,n.children,s));return c._sourceSegment=n,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:t}}const u=new ft(n.segments,n.children);return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}function ip(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function sm(n,e,t,r){return!!(us(n)===r||r!==Ht&&ip(e,t,n))&&("**"===n.path||rp(e,n,t).matched)}function Cw(n,e,t){return 0===e.length&&!n.children[t]}const om=!1;class sp{constructor(e){this.segmentGroup=e||null}}class xc{constructor(e){this.urlTree=e}}function op(n){return Ei(new sp(n))}function Dw(n){return Ei(new xc(n))}class jD{constructor(e,t,r,s,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0}apply(){const e=Sc(this.urlTree.root,[],[],this.config).segmentGroup,t=new ft(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,Ht).pipe((0,Dt.U)(u=>this.createUrlTree(nl(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(os(u=>{if(u instanceof xc)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof sp?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,Ht).pipe((0,Dt.U)(s=>this.createUrlTree(nl(s),e.queryParams,e.fragment))).pipe(os(s=>{throw s instanceof sp?this.noMatchError(s):s}))}noMatchError(e){return new f.vHH(4002,om)}createUrlTree(e,t,r){const s=Wd(e);return new mn(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Dt.U)(u=>new ft([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,sn.D)(s).pipe(Ii(u=>{const c=r.children[u],m=Cc(t,u);return this.expandSegmentGroup(e,m,c,u).pipe((0,Dt.U)(w=>({segment:w,outlet:u})))}),qs((u,c)=>(u[c.outlet]=c.segment,u),{}),Pf())}expandSegment(e,t,r,s,u,c){return(0,sn.D)(r).pipe(Ii(m=>this.expandSegmentAgainstRoute(e,t,r,m,s,u,c).pipe(os(b=>{if(b instanceof sp)return ht(null);throw b}))),Hi(m=>!!m),os((m,w)=>{if(bc(m))return Cw(t,s,u)?ht(new ft([],{})):op(t);throw m}))}expandSegmentAgainstRoute(e,t,r,s,u,c,m){return sm(s,t,u,c)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,c):m&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c):op(t):op(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Dw(u):this.lineralizeSegments(r,u).pipe((0,Hn.z)(c=>{const m=new ft(c,{});return this.expandSegment(e,m,t,c,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,c){const{matched:m,consumedSegments:w,remainingSegments:b,positionalParamSegments:A}=rp(t,s,u);if(!m)return op(t);const R=this.applyRedirectCommands(w,s.redirectTo,A);return s.redirectTo.startsWith("/")?Dw(R):this.lineralizeSegments(s,R).pipe((0,Hn.z)(V=>this.expandSegment(e,t,r,V.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){return"**"===r.path?(e=M(r,e),r.loadChildren?(r._loadedRoutes?ht({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Dt.U)(m=>(r._loadedRoutes=m.routes,r._loadedInjector=m.injector,new ft(s,{})))):ht(new ft(s,{}))):Iw(t,r,s,e).pipe(Jn(({matched:c,consumedSegments:m,remainingSegments:w})=>c?this.getChildConfig(e=r._injector??e,r,s).pipe((0,Hn.z)(A=>{const R=A.injector??e,V=A.routes,{segmentGroup:G,slicedSegments:le}=Sc(t,m,w,V),Oe=new ft(G.segments,G.children);if(0===le.length&&Oe.hasChildren())return this.expandChildren(R,V,Oe).pipe((0,Dt.U)(Mt=>new ft(m,Mt)));if(0===V.length&&0===le.length)return ht(new ft(m,{}));const ke=us(r)===u;return this.expandSegment(R,Oe,V,le,ke?Ht:u,!0).pipe((0,Dt.U)(Tt=>new ft(m.concat(Tt.segments),Tt.children)))})):op(t)))}getChildConfig(e,t,r){return t.children?ht({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?ht({routes:t._loadedRoutes,injector:t._loadedInjector}):function wv(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?ht(!0):ht(s.map(c=>{const m=ea(c,n);return C(function RD(n){return n&&Dc(n.canLoad)}(m)?m.canLoad(e,t):n.runInContext(()=>m(e,t)))})).pipe(Tc(),Ev())}(e,t,r).pipe((0,Hn.z)(s=>s?this.configLoader.loadChildren(e,t).pipe((0,ar.b)(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function BD(n){return Ei(Xf(om,3))}())):ht({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return ht(r);if(s.numberOfChildren>1||!s.children[Ht])return Ei(new f.vHH(4e3,om));s=s.children[Ht]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new mn(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return E(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const m=s.substring(1);r[u]=t[m]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let c={};return E(t.children,(m,w)=>{c[w]=this.createSegmentGroup(e,m,r,s)}),new ft(u,c)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new f.vHH(4001,om);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class Tw{}class ap{constructor(e,t,r,s,u,c,m,w){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=u,this.paramsInheritanceStrategy=c,this.relativeLinkResolution=m,this.urlSerializer=w}recognize(){const e=Sc(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ht).pipe((0,Dt.U)(t=>{if(null===t)return null;const r=new vc([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ht,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new As(r,t),u=new Qf(this.url,s);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=ih(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,sn.D)(Object.keys(r.children)).pipe(Ii(s=>{const u=r.children[s],c=Cc(t,s);return this.processSegmentGroup(e,c,u,s)}),qs((s,u)=>s&&u?(s.push(...u),s):null),function lc(n,e=!1){return(0,Dr.e)((t,r)=>{let s=0;t.subscribe((0,Qn.x)(r,u=>{const c=n(u,s++);(c||e)&&r.next(u),!c&&r.complete()}))})}(s=>null!==s),zs(null),Pf(),(0,Dt.U)(s=>{if(null===s)return null;const u=Sw(s);return function HD(n){n.sort((e,t)=>e.value.outlet===Ht?-1:t.value.outlet===Ht?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,s,u){return(0,sn.D)(t).pipe(Ii(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,s,u)),Hi(c=>!!c),os(c=>{if(bc(c))return Cw(r,s,u)?ht([]):ht(null);throw c}))}processSegmentAgainstRoute(e,t,r,s,u){if(t.redirectTo||!sm(t,r,s,u))return ht(null);let c;if("**"===t.path){const m=s.length>0?Gi(s).parameters:{},w=Aw(r)+s.length;c=ht({snapshot:new vc(s,m,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mw(t),us(t),t.component??t._loadedComponent??null,t,Dv(r),w,bv(t),w),consumedSegments:[],remainingSegments:[]})}else c=Iw(r,t,s,e).pipe((0,Dt.U)(({matched:m,consumedSegments:w,remainingSegments:b,parameters:A})=>{if(!m)return null;const R=Aw(r)+w.length;return{snapshot:new vc(w,A,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Mw(t),us(t),t.component??t._loadedComponent??null,t,Dv(r),R,bv(t),R),consumedSegments:w,remainingSegments:b}}));return c.pipe(Jn(m=>{if(null===m)return ht(null);const{snapshot:w,consumedSegments:b,remainingSegments:A}=m;e=t._injector??e;const R=t._loadedInjector??e,V=function ah(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:G,slicedSegments:le}=Sc(r,b,A,V.filter(ke=>void 0===ke.redirectTo),this.relativeLinkResolution);if(0===le.length&&G.hasChildren())return this.processChildren(R,V,G).pipe((0,Dt.U)(ke=>null===ke?null:[new As(w,ke)]));if(0===V.length&&0===le.length)return ht([new As(w,[])]);const Oe=us(t)===u;return this.processSegment(R,V,G,le,Oe?Ht:u).pipe((0,Dt.U)(ke=>null===ke?null:[new As(w,ke)]))}))}}function up(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Sw(n){const e=[],t=new Set;for(const r of n){if(!up(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=Sw(r.children);e.push(new As(r.value,s))}return e.filter(r=>!t.has(r))}function Dv(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Aw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Mw(n){return n.data||{}}function bv(n){return n.resolve||{}}function Nw(n){return"string"==typeof n.title||null===n.title}function xv(n){return Jn(e=>{const t=n(e);return t?(0,sn.D)(t).pipe((0,Dt.U)(()=>e)):ht(e)})}let Pw=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===Ht);return r}getResolvedTitleForRoute(t){return t.data[ja]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(Ow)},providedIn:"root"}),n})(),Ow=(()=>{class n extends Pw{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(bf))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class zD{}class uh extends class qD{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const um=new f.OlP("",{providedIn:"root",factory:()=>({})}),Fw=new f.OlP("ROUTES");let Lw=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return ht(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=C(t.loadComponent()).pipe((0,ar.b)(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),cc(()=>{this.componentLoaders.delete(t)})),s=new Mf(r,()=>new Kn.x).pipe(Ku());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ht({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Dt.U)(m=>{this.onLoadEndListener&&this.onLoadEndListener(r);let w,b,A=!1;Array.isArray(m)?b=m:(w=m.create(t).injector,b=dc(w.get(Fw,[],f.XFs.Self|f.XFs.Optional)));return{routes:b.map(Ic),injector:w}}),cc(()=>{this.childrenLoaders.delete(r)})),c=new Mf(u,()=>new Kn.x).pipe(Ku());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return C(t()).pipe((0,Hn.z)(r=>r instanceof f.YKP||Array.isArray(r)?ht(r):(0,sn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3),f.LFG(f.Sil))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Vw{}class yx{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function vx(n){throw n}function Uw(n,e,t){return e.parse("/")}const WD={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Bw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};function jw(){const n=(0,f.f3M)(Ju),e=(0,f.f3M)(Ec),t=(0,f.f3M)(Pe),r=(0,f.f3M)(f.zs3),s=(0,f.f3M)(f.Sil),u=(0,f.f3M)(Fw,{optional:!0})??[],c=(0,f.f3M)(um,{optional:!0})??{},m=(0,f.f3M)(Ow),w=(0,f.f3M)(Pw,{optional:!0}),b=(0,f.f3M)(Vw,{optional:!0}),A=(0,f.f3M)(zD,{optional:!0}),R=new xn(null,n,e,t,r,s,dc(u));return b&&(R.urlHandlingStrategy=b),A&&(R.routeReuseStrategy=A),R.titleStrategy=w??m,function ZD(n,e){n.errorHandler&&(e.errorHandler=n.errorHandler),n.malformedUriErrorHandler&&(e.malformedUriErrorHandler=n.malformedUriErrorHandler),n.onSameUrlNavigation&&(e.onSameUrlNavigation=n.onSameUrlNavigation),n.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=n.paramsInheritanceStrategy),n.relativeLinkResolution&&(e.relativeLinkResolution=n.relativeLinkResolution),n.urlUpdateStrategy&&(e.urlUpdateStrategy=n.urlUpdateStrategy),n.canceledNavigationResolution&&(e.canceledNavigationResolution=n.canceledNavigationResolution)}(c,R),R}let xn=(()=>{class n{constructor(t,r,s,u,c,m,w){this.rootComponentType=t,this.urlSerializer=r,this.rootContexts=s,this.location=u,this.config=w,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Kn.x,this.errorHandler=vx,this.malformedUriErrorHandler=Uw,this.navigated=!1,this.lastSuccessfulId=-1,this.afterPreactivation=()=>ht(void 0),this.urlHandlingStrategy=new yx,this.routeReuseStrategy=new uh,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.configLoader=c.get(Lw),this.configLoader.onLoadEndListener=V=>this.triggerEvent(new Wf(V)),this.configLoader.onLoadStartListener=V=>this.triggerEvent(new qf(V)),this.ngModule=c.get(f.h0i),this.console=c.get(f.c2e);const R=c.get(f.R0b);this.isNgZoneEnabled=R instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(w),this.currentUrlTree=function P(){return new mn(new ft([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=nh(this.currentUrlTree,this.rootComponentType),this.transitions=new Yn({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){return this.location.getState()?.\u0275routerPageId}setupNavigations(t){const r=this.events;return t.pipe(Fr(s=>0!==s.id),(0,Dt.U)(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Jn(s=>{let u=!1,c=!1;return ht(s).pipe((0,ar.b)(m=>{this.currentNavigation={id:m.id,initialUrl:m.rawUrl,extractedUrl:m.extractedUrl,trigger:m.source,extras:m.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Jn(m=>{const w=this.browserUrlTree.toString(),b=!this.navigated||m.extractedUrl.toString()!==w||w!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||b)&&this.urlHandlingStrategy.shouldProcessUrl(m.rawUrl))return Mv(m.source)&&(this.browserUrlTree=m.extractedUrl),ht(m).pipe(Jn(R=>{const V=this.transitions.getValue();return r.next(new Jd(R.id,this.serializeUrl(R.extractedUrl),R.source,R.restoredState)),V!==this.transitions.getValue()?$i.E:Promise.resolve(R)}),function bw(n,e,t,r){return Jn(s=>function Cv(n,e,t,r,s){return new jD(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,Dt.U)(u=>({...s,urlAfterRedirects:u}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,ar.b)(R=>{this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects},s.urlAfterRedirects=R.urlAfterRedirects}),function Rw(n,e,t,r,s,u){return(0,Hn.z)(c=>function $D(n,e,t,r,s,u,c="emptyOnly",m="legacy"){return new ap(n,e,t,r,s,c,m,u).recognize().pipe(Jn(w=>null===w?function px(n){return new ji.y(e=>e.error(n))}(new Tw):ht(w)))}(n,e,t,c.urlAfterRedirects,r.serialize(c.urlAfterRedirects),r,s,u).pipe((0,Dt.U)(m=>({...c,targetSnapshot:m}))))}(this.ngModule.injector,this.rootComponentType,this.config,this.urlSerializer,this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,ar.b)(R=>{if(s.targetSnapshot=R.targetSnapshot,"eager"===this.urlUpdateStrategy){if(!R.extras.skipLocationChange){const G=this.urlHandlingStrategy.merge(R.urlAfterRedirects,R.rawUrl);this.setBrowserUrl(G,R)}this.browserUrlTree=R.urlAfterRedirects}const V=new Xd(R.id,this.serializeUrl(R.extractedUrl),this.serializeUrl(R.urlAfterRedirects),R.targetSnapshot);r.next(V)}));if(b&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:V,extractedUrl:G,source:le,restoredState:Oe,extras:ke}=m,Je=new Jd(V,this.serializeUrl(G),le,Oe);r.next(Je);const Tt=nh(G,this.rootComponentType).snapshot;return ht(s={...m,targetSnapshot:Tt,urlAfterRedirects:G,extras:{...ke,skipLocationChange:!1,replaceUrl:!1}})}return this.rawUrlTree=m.rawUrl,m.resolve(null),$i.E}),(0,ar.b)(m=>{const w=new Gf(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot);this.triggerEvent(w)}),(0,Dt.U)(m=>s={...m,guards:ul(m.targetSnapshot,m.currentSnapshot,this.rootContexts)}),function yw(n,e){return(0,Hn.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?ht({...t,guardsResult:!0}):function vw(n,e,t,r){return(0,sn.D)(n).pipe((0,Hn.z)(s=>function LD(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?ht(u.map(m=>{const w=ol(e)??s,b=ea(m,w);return C(function OD(n){return n&&Dc(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):w.runInContext(()=>b(n,e,t,r))).pipe(Hi())})).pipe(Tc()):ht(!0)}(s.component,s.route,t,e,r)),Hi(s=>!0!==s,!0))}(c,r,s,n).pipe((0,Hn.z)(m=>m&&function mw(n){return"boolean"==typeof n}(m)?function FD(n,e,t,r){return(0,sn.D)(e).pipe(Ii(s=>Cs(function ww(n,e){return null!==n&&e&&e(new Zf(n)),ht(!0)}(s.route.parent,r),function _w(n,e){return null!==n&&e&&e(new Yf(n)),ht(!0)}(s.route,r),function fx(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function rm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Ua(()=>ht(c.guards.map(w=>{const b=ol(c.node)??t,A=ea(w,b);return C(function PD(n){return n&&Dc(n.canActivateChild)}(A)?A.canActivateChild(r,n):b.runInContext(()=>A(r,n))).pipe(Hi())})).pipe(Tc())));return ht(u).pipe(Tc())}(n,s.path,t),function _v(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return ht(!0);const s=r.map(u=>Ua(()=>{const c=ol(e)??t,m=ea(u,c);return C(function ND(n){return n&&Dc(n.canActivate)}(m)?m.canActivate(e,n):c.runInContext(()=>m(e,n))).pipe(Hi())}));return ht(s).pipe(Tc())}(n,s.route,t))),Hi(s=>!0!==s,!0))}(r,u,n,e):ht(m)),(0,Dt.U)(m=>({...t,guardsResult:m})))})}(this.ngModule.injector,m=>this.triggerEvent(m)),(0,ar.b)(m=>{if(s.guardsResult=m.guardsResult,Ha(m.guardsResult))throw mv(0,m.guardsResult);const w=new zf(m.id,this.serializeUrl(m.extractedUrl),this.serializeUrl(m.urlAfterRedirects),m.targetSnapshot,!!m.guardsResult);this.triggerEvent(w)}),Fr(m=>!!m.guardsResult||(this.restoreHistory(m),this.cancelNavigationTransition(m,"",3),!1)),xv(m=>{if(m.guards.canActivateChecks.length)return ht(m).pipe((0,ar.b)(w=>{const b=new yc(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(b)}),Jn(w=>{let b=!1;return ht(w).pipe(function Tv(n,e){return(0,Hn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return ht(t);let u=0;return(0,sn.D)(s).pipe(Ii(c=>function Sv(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!Nw(s)&&(u[ja]=s.title),function GD(n,e,t,r){const s=function Av(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return ht({});const u={};return(0,sn.D)(s).pipe((0,Hn.z)(c=>function lp(n,e,t,r){const s=ol(e)??r,u=ea(n,s);return C(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(Hi(),(0,ar.b)(m=>{u[c]=m}))),Nf(1),function wo(n){return(0,Dt.U)(()=>n)}(u),os(c=>bc(c)?$i.E:Ei(c)))}(u,n,e,r).pipe((0,Dt.U)(c=>(n._resolvedData=c,n.data=ih(n,t).resolve,s&&Nw(s)&&(n.data[ja]=s.title),null)))}(c.route,r,n,e)),(0,ar.b)(()=>u++),Nf(1),(0,Hn.z)(c=>u===s.length?ht(t):$i.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,ar.b)({next:()=>b=!0,complete:()=>{b||(this.restoreHistory(w),this.cancelNavigationTransition(w,"",2))}}))}),(0,ar.b)(w=>{const b=new pv(w.id,this.serializeUrl(w.extractedUrl),this.serializeUrl(w.urlAfterRedirects),w.targetSnapshot);this.triggerEvent(b)}))}),xv(m=>{const w=b=>{const A=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&A.push(this.configLoader.loadComponent(b.routeConfig).pipe((0,ar.b)(R=>{b.component=R}),(0,Dt.U)(()=>{})));for(const R of b.children)A.push(...w(R));return A};return Gs(w(m.targetSnapshot.root)).pipe(zs(),Ba(1))}),xv(()=>this.afterPreactivation()),(0,Dt.U)(m=>{const w=function gv(n,e,t){const r=ur(n,e._root,t?t._root:void 0);return new Jg(r,e)}(this.routeReuseStrategy,m.targetSnapshot,m.currentRouterState);return s={...m,targetRouterState:w}}),(0,ar.b)(m=>{this.currentUrlTree=m.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(m.urlAfterRedirects,m.rawUrl),this.routerState=m.targetRouterState,"deferred"===this.urlUpdateStrategy&&(m.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,m),this.browserUrlTree=m.urlAfterRedirects)}),((n,e,t)=>(0,Dt.U)(r=>(new ep(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,this.routeReuseStrategy,m=>this.triggerEvent(m)),(0,ar.b)({next(){u=!0},complete(){u=!0}}),cc(()=>{u||c||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),os(m=>{if(c=!0,vv(m)){yv(m)||(this.navigated=!0,this.restoreHistory(s,!0));const w=new Ss(s.id,this.serializeUrl(s.extractedUrl),m.message,m.cancellationCode);if(r.next(w),yv(m)){const b=this.urlHandlingStrategy.merge(m.url,this.rawUrlTree),A={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Mv(s.source)};this.scheduleNavigation(b,"imperative",null,A,{resolve:s.resolve,reject:s.reject,promise:s.promise})}else s.resolve(!1)}else{this.restoreHistory(s,!0);const w=new Hf(s.id,this.serializeUrl(s.extractedUrl),m,s.targetSnapshot??void 0);r.next(w);try{s.resolve(this.errorHandler(m))}catch(b){s.reject(b)}}return $i.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}setTransition(t){this.transitions.next({...this.transitions.value,...t})}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{const s={replaceUrl:!0},u=t.state?.navigationId?t.state:null;if(u){const m={...u};delete m.navigationId,delete m.\u0275routerPageId,0!==Object.keys(m).length&&(s.state=m)}const c=this.parseUrl(t.url);this.scheduleNavigation(c,r,u,s)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){this.config=t.map(Ic),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:c,queryParamsHandling:m,preserveFragment:w}=r,b=s||this.routerState.root,A=w?this.currentUrlTree.fragment:c;let R=null;switch(m){case"merge":R={...this.currentUrlTree.queryParams,...u};break;case"preserve":R=this.currentUrlTree.queryParams;break;default:R=u||null}return null!==R&&(R=this.removeEmptyProps(R)),fv(b,this.currentUrlTree,t,R,A??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=Ha(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,"imperative",null,r)}navigate(t,r={skipLocationChange:!1}){return function KD(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new f.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...WD}:!1===r?{...Bw}:r,Ha(t))return ce(this.currentUrlTree,t,s);const u=this.parseUrl(t);return ce(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Ks(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.titleStrategy?.updateTitle(this.routerState.snapshot),t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,r,s,u,c){if(this.disposed)return Promise.resolve(!1);let m,w,b;c?(m=c.resolve,w=c.reject,b=c.promise):b=new Promise((V,G)=>{m=V,w=G});const A=++this.navigationId;let R;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(s=this.location.getState()),R=s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1):R=0,this.setTransition({id:A,targetPageId:R,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:u,resolve:m,reject:w,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(V=>Promise.reject(V))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.currentNavigation?.finalUrl||0===s?this.currentUrlTree===this.currentNavigation?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,r,s){const u=new Ss(t.id,this.serializeUrl(t.extractedUrl),r,s);this.triggerEvent(u),t.resolve(!1)}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:function(){return jw()},providedIn:"root"}),n})();function Mv(n){return"imperative"!==n}class Pv{}let JD=(()=>{class n{constructor(t,r,s,u,c){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Fr(t=>t instanceof Ks),Ii(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,f.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,m=u._loadedInjector??c;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?s.push(this.preloadConfig(c,u)):(u.children||u._loadedRoutes)&&s.push(this.processRoutes(m,u.children??u._loadedRoutes))}return(0,sn.D)(s).pipe((0,Zo.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):ht(null);const u=s.pipe((0,Hn.z)(c=>null===c?ht(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,sn.D)([u,c]).pipe((0,Zo.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(xn),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Pv),f.LFG(Lw))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Vt=new f.OlP("");let Ov=(()=>{class n{constructor(t,r,s={}){this.router=t,this.viewportScroller=r,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration=s.scrollPositionRestoration||"disabled",s.anchorScrolling=s.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof Jd?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Ks&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof eh&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.router.triggerEvent(new eh(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function lh(n,e){return{\u0275kind:n,\u0275providers:e}}function lm(n){return[{provide:Fw,multi:!0,useValue:n}]}function kv(){const n=(0,f.f3M)(f.zs3);return e=>{const t=n.get(f.z2F);if(e!==t.components[0])return;const r=n.get(xn),s=n.get(Hw);1===n.get(Fv)&&r.initialNavigation(),n.get(ll,null,f.XFs.Optional)?.setUpPreloading(),n.get(Vt,null,f.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.unsubscribe())}}const Hw=new f.OlP("",{factory:()=>new Kn.x}),Fv=new f.OlP("",{providedIn:"root",factory:()=>1});const ll=new f.OlP("");function eb(n){return lh(0,[{provide:ll,useExisting:JD},{provide:Pv,useExisting:n}])}const tb=new f.OlP("ROUTER_FORROOT_GUARD"),Dx=[Pe,{provide:Ju,useClass:hc},{provide:xn,useFactory:jw},Ec,{provide:Zr,useFactory:function $w(n){return n.routerState.root},deps:[xn]},Lw];function bx(){return new f.PXZ("Router",xn)}let Ww=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Dx,[],lm(t),{provide:tb,useFactory:dh,deps:[[xn,new f.FiY,new f.tp0]]},{provide:um,useValue:r||{}},r?.useHash?{provide:ye,useClass:It}:{provide:ye,useClass:pt},{provide:Vt,useFactory:()=>{const n=(0,f.f3M)(xn),e=(0,f.f3M)(ms),t=(0,f.f3M)(um);return t.scrollOffset&&e.setOffset(t.scrollOffset),new Ov(n,e,t)}},r?.preloadingStrategy?eb(r.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:bx},r?.initialNavigation?rb(r):[],[{provide:Lv,useFactory:kv},{provide:f.tb,multi:!0,useExisting:Lv}]]}}static forChild(t){return{ngModule:n,providers:[lm(t)]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(tb,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[T]}),n})();function dh(n){return"guarded"}function rb(n){return["disabled"===n.initialNavigation?lh(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const e=(0,f.f3M)(xn);return()=>{e.setUpLocationChangeListener()}}},{provide:Fv,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?lh(2,[{provide:Fv,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:e=>{const t=e.get(z,Promise.resolve());let r=!1;return()=>t.then(()=>new Promise(u=>{const c=e.get(xn),m=e.get(Hw);(function s(u){e.get(xn).events.pipe(Fr(m=>m instanceof Ks||m instanceof Ss||m instanceof Hf),(0,Dt.U)(m=>m instanceof Ks||m instanceof Ss&&(0===m.code||1===m.code)&&null),Fr(m=>null!==m),Ba(1)).subscribe(()=>{u()})})(()=>{u(!0),r=!0}),c.afterPreactivation=()=>(u(!0),r||m.closed?ht(void 0):m),c.initialNavigation()}))}}]).\u0275providers:[]]}const Lv=new f.OlP("");let Yw=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),Mc=(()=>{class n extends Yw{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const ta=new f.OlP("NgValueAccessor"),Jw={provide:ta,useExisting:(0,f.Gpc)(()=>hp),multi:!0},Xw=new f.OlP("CompositionEventMode");let hp=(()=>{class n extends Yw{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function sb(){const n=O()?O().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(Xw,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([Jw]),f.qOj]}),n})();function Rc(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function dm(n){return null!=n&&"number"==typeof n.length}const Ci=new f.OlP("NgValidators"),Nc=new f.OlP("NgAsyncValidators"),hh=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class xs{static min(e){return function Uv(n){return e=>{if(Rc(e.value)||Rc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function fp(n){return e=>{if(Rc(e.value)||Rc(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Qs(n){return Rc(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Bv(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function eE(n){return Rc(n.value)||hh.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function hm(n){return e=>Rc(e.value)||!dm(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function na(n){return e=>dm(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function fm(n){if(!n)return pp;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Rc(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return mm(e)}static composeAsync(e){return ym(e)}}function pp(n){return null}function pm(n){return null!=n}function ob(n){return(0,f.QGY)(n)?(0,sn.D)(n):n}function jv(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function ab(n,e){return e.map(t=>t(n))}function gp(n){return n.map(e=>function gm(n){return!n.validate}(e)?e:t=>e.validate(t))}function mm(n){if(!n)return null;const e=n.filter(pm);return 0==e.length?null:function(t){return jv(ab(t,e))}}function mp(n){return null!=n?mm(gp(n)):null}function ym(n){if(!n)return null;const e=n.filter(pm);return 0==e.length?null:function(t){return function Kw(...n){const e=(0,Bi.jO)(n),{args:t,keys:r}=qu(n),s=new ji.y(u=>{const{length:c}=t;if(!c)return void u.complete();const m=new Array(c);let w=c,b=c;for(let A=0;A<c;A++){let R=!1;(0,_o.Xf)(t[A]).subscribe((0,Qn.x)(u,V=>{R||(R=!0,b--),m[A]=V},()=>w--,void 0,()=>{(!w||!R)&&(b||u.next(r?Zu(r,m):m),u.complete())}))}});return e?s.pipe(Wu(e)):s}(ab(t,e).map(ob)).pipe((0,Dt.U)(jv))}}function tE(n){return null!=n?ym(gp(n)):null}function nE(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function rE(n){return n._rawValidators}function iE(n){return n._rawAsyncValidators}function $v(n){return n?Array.isArray(n)?n:[n]:[]}function yp(n,e){return Array.isArray(n)?n.includes(e):n===e}function ub(n,e){const t=$v(e);return $v(n).forEach(s=>{yp(t,s)||t.push(s)}),t}function sE(n,e){return $v(e).filter(t=>!yp(n,t))}class lb{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=mp(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=tE(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Di extends lb{get formDirective(){return null}get path(){return null}}class Qa extends lb{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class oE{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let cb=(()=>{class n extends oE{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Qa,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[f.qOj]}),n})(),db=(()=>{class n extends oE{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Di,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[f.qOj]}),n})();const vp="VALID",_p="INVALID",fh="PENDING",wp="DISABLED";function ph(n){return(gh(n)?n.validators:n)||null}function Oc(n){return Array.isArray(n)?mp(n):n||null}function Ep(n,e){return(gh(e)?e.asyncValidators:n)||null}function kc(n){return Array.isArray(n)?tE(n):n||null}function gh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function Ip(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[t])throw new f.vHH(1001,"")}function zv(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new f.vHH(1002,"")})}class Cp{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=Oc(this._rawValidators),this._composedAsyncValidatorFn=kc(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===vp}get invalid(){return this.status===_p}get pending(){return this.status==fh}get disabled(){return this.status===wp}get enabled(){return this.status!==wp}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=Oc(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=kc(e)}addValidators(e){this.setValidators(ub(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(ub(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(sE(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(sE(e,this._rawAsyncValidators))}hasValidator(e){return yp(this._rawValidators,e)}hasAsyncValidator(e){return yp(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=fh,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=wp,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=vp,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===vp||this.status===fh)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?wp:vp}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=fh,this._hasOwnPendingAsyncValidator=!0;const t=ob(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?wp:this.errors?_p:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(fh)?fh:this._anyControlsHaveStatus(_p)?_p:vp}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}}class dl extends Cp{constructor(e,t,r){super(ph(t),Ep(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){zv(this,0,e),Object.keys(e).forEach(r=>{Ip(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class _m extends dl{}function Dp(n,e){Em(n,e),e.valueAccessor.writeValue(n.value),n.disabled&&e.valueAccessor.setDisabledState?.(!0),function Ms(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&yE(n,e)})}(n,e),function Nx(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function mE(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&yE(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function gE(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function bp(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Im(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function wm(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Em(n,e){const t=rE(n);null!==e.validator?n.setValidators(nE(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=iE(n);null!==e.asyncValidator?n.setAsyncValidators(nE(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();wm(e._rawValidators,s),wm(e._rawAsyncValidators,s)}function Im(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=rE(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(c=>c!==e.validator);u.length!==s.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const s=iE(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(c=>c!==e.asyncValidator);u.length!==s.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return wm(e._rawValidators,r),wm(e._rawAsyncValidators,r),t}function yE(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function Dm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function EE(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const ra=class extends Cp{constructor(e=null,t,r){super(ph(t),Ep(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=EE(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Dm(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Dm(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){EE(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let bm=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Lx={provide:ta,useExisting:(0,f.Gpc)(()=>Tm),multi:!0};let Tm=(()=>{class n extends Mc{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[f._Bn([Lx]),f.qOj]}),n})(),Qv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const Fc=new f.OlP("NgModelWithFormControlWarning"),TE={provide:Di,useExisting:(0,f.Gpc)(()=>xm)};let xm=(()=>{class n extends Di{constructor(t,r){super(),this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Im(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Dp(r,t),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){bp(t.control||null,t,!1),function vb(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function Zv(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(bp(r||null,t),(n=>n instanceof ra)(s)&&(Dp(s,t),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function vE(n,e){Em(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function Wv(n,e){return Im(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Em(this.form,this),this._oldForm&&Im(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ci,10),f.Y36(Nc,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([TE]),f.qOj,f.TTD]}),n})();const Vx={provide:Qa,useExisting:(0,f.Gpc)(()=>Xv)};let Xv=(()=>{class n extends Qa{constructor(t,r,s,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function Kv(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===hp?t=u:function yb(n){return Object.getPrototypeOf(n.constructor)===Mc}(u)?r=u:s=u}),s||r||t||null}(0,u)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function Cm(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function qv(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(Di,13),f.Y36(Ci,10),f.Y36(Nc,10),f.Y36(ta,10),f.Y36(Fc,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([Vx]),f.qOj,f.TTD]}),n})(),Bc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Qv]}),n})(),_h=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Bc]}),n})(),jc=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Fc,useValue:t.warnOnNgModelWithFormControl}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Bc]}),n})();class i_ extends Cp{constructor(e,t,r){super(ph(t),Ep(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let s=this._adjustIndex(e);s<0&&(s=0),this.controls[s]&&this.controls[s]._registerOnCollectionChange(()=>{}),this.controls.splice(s,1),t&&(this.controls.splice(s,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){zv(this,0,e),e.forEach((r,s)=>{Ip(this,!1,s),this.at(s).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,s)=>{this.at(s)&&this.at(s).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function s_(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let OE=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const s=this._reduceControls(t);let u={};return s_(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new dl(s,u)}record(t,r=null){const s=this._reduceControls(t);return new _m(s,r)}control(t,r,s){let u={};return this.useNonNullable?(s_(r)?u=r:(u.validators=r,u.asyncValidators=s),new ra(t,{...u,nonNullable:!0})):new ra(t,r,s)}array(t,r,s){const u=t.map(c=>this._createControl(c));return new i_(u,r,s)}_reduceControls(t){const r={};return Object.keys(t).forEach(s=>{r[s]=this._createControl(t[s])}),r}_createControl(t){return t instanceof ra||t instanceof Cp?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:jc}),n})();var kE=F(4986),ui=F(2088);function o_(){return(0,Dr.e)((n,e)=>{let t,r=!1;n.subscribe((0,Qn.x)(e,s=>{const u=t;t=s,r&&e.next([u,s]),r=!0}))})}function Lb(n,e){return n===e}var Ke,Co=F(2011),_e=(F(8463),F(6101),F(5861)),oa=(F(7212),F(1617),F(9357)),dn=F(5578),u_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ps={},Rm=Rm||{},Lt=u_||self;function kp(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function wh(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var Nm="closure_uid_"+(1e9*Math.random()>>>0),Vb=0;function VE(n,e,t){return n.call.apply(n.bind,arguments)}function UE(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function li(n,e,t){return(li=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?VE:UE).apply(null,arguments)}function Fp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function fl(){this.s=this.s,this.o=this.o}fl.prototype.s=!1,fl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function l_(n){Object.prototype.hasOwnProperty.call(n,Nm)&&n[Nm]||(n[Nm]=++Vb)}(this)},fl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const c_=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Lp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function d_(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(kp(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let c=0;c<u;c++)n[s+c]=r[c]}else n.push(r)}}function ci(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ci.prototype.h=function(){this.defaultPrevented=!0};var BE=function(){if(!Lt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Lt.addEventListener("test",()=>{},e),Lt.removeEventListener("test",()=>{},e)}catch{}return n}();function Eh(n){return/^[\s\xa0]*$/.test(n)}function Vp(){var n=Lt.navigator;return n&&(n=n.userAgent)?n:""}function Do(n){return-1!=Vp().indexOf(n)}function Pm(n){return Pm[" "](n),n}Pm[" "]=function(){};var f_,jx=Do("Opera"),Ih=Do("Trident")||Do("MSIE"),$E=Do("Edge"),Om=$E||Ih,HE=Do("Gecko")&&!(-1!=Vp().toLowerCase().indexOf("webkit")&&!Do("Edge"))&&!(Do("Trident")||Do("MSIE"))&&!Do("Edge"),Lr=-1!=Vp().toLowerCase().indexOf("webkit")&&!Do("Edge");function h_(){var n=Lt.document;return n?n.documentMode:void 0}e:{var p_="",km=function(){var n=Vp();return HE?/rv:([^\);]+)(\)|;)/.exec(n):$E?/Edge\/([\d\.]+)/.exec(n):Ih?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):Lr?/WebKit\/(\S+)/.exec(n):jx?/(?:Version)[ \/]?(\S+)/.exec(n):void 0}();if(km&&(p_=km?km[1]:""),Ih){var g_=h_();if(null!=g_&&g_>parseFloat(p_)){f_=String(g_);break e}}f_=p_}var Ch=Lt.document&&Ih&&(h_()||parseInt(f_,10))||void 0;function Up(n,e){if(ci.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(HE){e:{try{Pm(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:Bb[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Up.$.h.call(this)}}var Bb={2:"touch",3:"pen",4:"mouse"};Up.prototype.h=function(){Up.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Dh="closure_listenable_"+(1e6*Math.random()|0),jb=0;function GE(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=s,this.key=++jb,this.fa=this.ia=!1}function y_(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function Lm(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function bo(n){const e={};for(const t in n)e[t]=n[t];return e}const zE="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function qE(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<zE.length;u++)t=zE[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function Os(n){this.src=n,this.g={},this.h=0}function ks(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=c_(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(y_(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function Fs(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.fa&&u.listener==e&&u.capture==!!t&&u.la==r)return s}return-1}Os.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=Fs(n,e,r,s);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new GE(e,this.src,u,!!r,s)).ia=t,n.push(e)),e};var Vm="closure_lm_"+(1e6*Math.random()|0),Um={};function WE(n,e,t,r,s){if(r&&r.once)return KE(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)WE(n,e[u],t,r,s);return null}return t=$m(t),n&&n[Dh]?n.O(e,t,wh(r)?!!r.capture:!!r,s):ZE(n,e,t,!1,r,s)}function ZE(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var c=wh(s)?!!s.capture:!!s,m=__(n);if(m||(n[Vm]=m=new Os(n)),(t=m.add(e,t,r,c,u)).proxy)return t;if(r=function $b(){const e=QE;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)BE||(s=c),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(YE(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function KE(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)KE(n,e[u],t,r,s);return null}return t=$m(t),n&&n[Dh]?n.P(e,t,wh(r)?!!r.capture:!!r,s):ZE(n,e,t,!0,r,s)}function Bm(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)Bm(n,e[u],t,r,s);else r=wh(r)?!!r.capture:!!r,t=$m(t),n&&n[Dh]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=Fs(u=n.g[e],t,r,s))&&(y_(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=__(n))&&(e=n.g[e.toString()],n=-1,e&&(n=Fs(e,t,r,s)),(t=-1<n?e[n]:null)&&Hc(t))}function Hc(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Dh])ks(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(YE(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=__(e))?(ks(t,n),0==t.h&&(t.src=null,e[Vm]=null)):y_(n)}}}function YE(n){return n in Um?Um[n]:Um[n]="on"+n}function QE(n,e){if(n.fa)n=!0;else{e=new Up(e,this);var t=n.listener,r=n.la||n.src;n.ia&&Hc(n),n=t.call(r,e)}return n}function __(n){return(n=n[Vm])instanceof Os?n:null}var jm="__closure_events_fn_"+(1e9*Math.random()>>>0);function $m(n){return"function"==typeof n?n:(n[jm]||(n[jm]=function(e){return n.handleEvent(e)}),n[jm])}function gr(){fl.call(this),this.i=new Os(this),this.S=this,this.J=null}function di(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new ci(e,n);else if(e instanceof ci)e.target=e.target||n;else{var s=e;qE(e=new ci(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];s=Bp(c,r,!0,e)&&s}if(s=Bp(c=e.g=n,r,!0,e)&&s,s=Bp(c,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=Bp(c=e.g=t[u],r,!1,e)&&s}function Bp(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.fa&&c.capture==t){var m=c.listener,w=c.la||c.src;c.ia&&ks(n.i,c),s=!1!==m.call(w,r)&&s}}return s&&!r.defaultPrevented}gr.prototype[Dh]=!0,gr.prototype.removeEventListener=function(n,e,t,r){Bm(this,n,e,t,r)},gr.prototype.N=function(){if(gr.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)y_(t[r]);delete n.g[e],n.h--}}this.J=null},gr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},gr.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var Hm=Lt.JSON.stringify;class w_{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function E_(){var n=Gm;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}class JE{constructor(){this.h=this.g=null}add(e,t){const r=I_.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}}var I_=new w_(()=>new XE,n=>n.reset());class XE{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function eI(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function tI(n){Lt.setTimeout(()=>{throw n},0)}let bh,Th=!1,Gm=new JE,nI=()=>{const n=Lt.Promise.resolve(void 0);bh=()=>{n.then(Hb)}};var Hb=()=>{for(var n;n=E_();){try{n.h.call(n.g)}catch(t){tI(t)}var e=I_;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Th=!1};function zm(n,e){gr.call(this),this.h=n||1,this.g=e||Lt,this.j=li(this.qb,this),this.l=Date.now()}function C_(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function D_(n,e,t){if("function"==typeof n)t&&(n=li(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=li(n.handleEvent,n)}return 2147483647<Number(e)?-1:Lt.setTimeout(n,e||0)}function rI(n){n.g=D_(()=>{n.g=null,n.i&&(n.i=!1,rI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}(Ke=zm.prototype).ga=!1,Ke.T=null,Ke.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),di(this,"tick"),this.ga&&(C_(this),this.start()))}},Ke.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ke.N=function(){zm.$.N.call(this),C_(this),delete this.g};class Gb extends fl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:rI(this)}N(){super.N(),this.g&&(Lt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jp(n){fl.call(this),this.h=n,this.g={}}var iI=[];function sI(n,e,t,r){Array.isArray(t)||(t&&(iI[0]=t.toString()),t=iI);for(var s=0;s<t.length;s++){var u=WE(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function oI(n){Lm(n.g,function(e,t){this.g.hasOwnProperty(t)&&Hc(e)},n),n.g={}}function qm(){this.g=!0}function Sh(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function Zb(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<s.length;c++)s[c]=""}}}return Hm(t)}catch{return e}}(n,t)+(r?" "+r:"")})}jp.prototype.N=function(){jp.$.N.call(this),oI(this)},jp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},qm.prototype.Ea=function(){this.g=!1},qm.prototype.info=function(){};var Gc={},b_=null;function $p(){return b_=b_||new gr}function T_(n){ci.call(this,Gc.Ta,n)}function Ah(n){const e=$p();di(e,new T_(e))}function S_(n,e){ci.call(this,Gc.STAT_EVENT,n),this.stat=e}function Ti(n){const e=$p();di(e,new S_(e,n))}function A_(n,e){ci.call(this,Gc.Ua,n),this.size=e}function xh(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return Lt.setTimeout(function(){n()},e)}Gc.Ta="serverreachability",Gc.STAT_EVENT="statevent",Gc.Ua="timingevent";var Hp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},x_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function aI(){}var zp,Gp={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function gl(){ci.call(this,"d")}function uI(){ci.call(this,"c")}function M_(){}function Mh(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new jp(this),this.P=$x,this.V=new zm(n=Om?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new R_}function R_(){this.i=null,this.g="",this.h=!1}M_.prototype.g=function(){return new XMLHttpRequest},M_.prototype.i=function(){return{}},zp=new M_;var $x=45e3,Nt={},Zm={};function N_(n,e,t){n.L=1,n.v=Wc(Ja(e)),n.s=t,n.S=!0,lI(n,null)}function lI(n,e){n.G=Date.now(),ml(n),n.A=Ja(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),mI(t.i,"t",r),n.C=0,t=n.l.J,n.h=new R_,n.g=ay(n.l,t?e:null,!n.s),0<n.O&&(n.M=new Gb(li(n.Pa,n,n.g),n.O)),sI(n.U,n.g,"readystatechange",n.nb),e=n.I?bo(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),Ah(),function zb(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var c="",m=u.split("&"),w=0;w<m.length;w++){var b=m[w].split("=");if(1<b.length){var A=b[0];b=b[1];var R=A.split("_");c=2<=R.length&&"type"==R[1]?c+(A+"=")+b+"&":c+(A+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function zc(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function cI(n,e,t){let s,r=!0;for(;!n.J&&n.C<t.length;){if(s=Km(n,t),s==Zm){4==e&&(n.o=4,Ti(14),r=!1),Sh(n.j,n.m,null,"[Incomplete Response]");break}if(s==Nt){n.o=4,Ti(15),Sh(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}Sh(n.j,n.m,s,null),O_(n,s)}zc(n)&&s!=Zm&&s!=Nt&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Ti(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),z_(e),e.M=!0,Ti(11))):(Sh(n.j,n.m,t,"[Invalid Chunked Response]"),yl(n),Rh(n))}function Km(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Zm:(t=Number(e.substring(t,r)),isNaN(t)?Nt:(r+=1)+t>e.length?Zm:(e=e.slice(r,r+t),n.C=r+t,e))}function ml(n){n.Y=Date.now()+n.P,Xn(n,n.P)}function Xn(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=xh(li(n.lb,n),e)}function P_(n){n.B&&(Lt.clearTimeout(n.B),n.B=null)}function Rh(n){0==n.l.H||n.J||MI(n.l,n)}function yl(n){P_(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,C_(n.V),oI(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function O_(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||Qm(t.i,n)))if(!n.K&&Qm(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;sy(t),ry(t)}G_(t),Ti(18)}}else t.Fa=s[1],0<t.Fa-t.V&&37500>s[2]&&t.G&&0==t.A&&!t.v&&(t.v=xh(li(t.ib,t),6e3));if(1>=nT(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else tu(t,11)}else if((n.K||t.g==n)&&sy(t),!Eh(e))for(s=t.Ja.g.parse(e),e=0;e<s.length;e++){let b=s[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.K=b[1],t.pa=b[2];const A=b[3];null!=A&&(t.ra=A,t.l.info("VER="+t.ra));const R=b[4];null!=R&&(t.Ga=R,t.l.info("SVER="+t.Ga));const V=b[5];null!=V&&"number"==typeof V&&0<V&&(t.L=r=1.5*V,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const le=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(le){var u=r.i;u.g||-1==le.indexOf("spdy")&&-1==le.indexOf("quic")&&-1==le.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(Oh(u,u.h),u.h=null))}if(r.F){const Oe=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;Oe&&(r.Da=Oe,Un(r.I,r.F,Oe))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=W_(r,r.J?r.pa:null,r.Y),c.K){yI(r.i,c);var m=c,w=r.L;w&&m.setTimeout(w),m.B&&(P_(m),ml(m)),r.g=c}else H_(r);0<t.j.length&&iy(t)}else"stop"!=b[0]&&"close"!=b[0]||tu(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?tu(t,7):j_(t):"noop"!=b[0]&&t.h&&t.h.Aa(b),t.A=0)}Ah()}catch{}}function k_(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(kp(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function hI(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(kp(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function dI(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(kp(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(Ke=Mh.prototype).setTimeout=function(n){this.P=n},Ke.nb=function(n){n=n.target;const e=this.M;e&&3==aa(n)?e.l():this.Pa(n)},Ke.Pa=function(n){try{if(n==this.g)e:{const A=aa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>A)&&(3!=A||Om||this.g&&(this.h.h||this.g.ja()||TI(this.g)))){this.J||4!=A||7==e||Ah(),P_(this);var t=this.g.da();this.ca=t;t:if(zc(this)){var r=TI(this.g);n="";var s=r.length,u=4==aa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){yl(this),Rh(this);var c="";break t}this.h.i=new Lt.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function qb(n,e,t,r,s,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.W,A,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var m,w=this.g;if((m=w.g?w.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Eh(m)){var b=m;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,Ti(12),yl(this),Rh(this);break e}Sh(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,O_(this,t)}this.S?(cI(this,A,c),Om&&this.i&&3==A&&(sI(this.U,this.V,"tick",this.mb),this.V.start())):(Sh(this.j,this.m,c,null),O_(this,c)),4==A&&yl(this),this.i&&!this.J&&(4==A?MI(this.l,this):(this.i=!1,ml(this)))}else(function aT(n){const e={};n=(n.g&&2<=aa(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Eh(n[r]))continue;var t=eI(n[r]);const s=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const u=e[s]||[];e[s]=u,u.push(t)}!function v_(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<c.indexOf("Unknown SID")?(this.o=3,Ti(12)):(this.o=0,Ti(13)),yl(this),Rh(this)}}}catch{}},Ke.mb=function(){if(this.g){var n=aa(this.g),e=this.g.ja();this.C<e.length&&(P_(this),cI(this,n,e),this.i&&4!=n&&ml(this))}},Ke.cancel=function(){this.J=!0,yl(this)},Ke.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function Wb(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Ah(),Ti(17)),yl(this),this.o=2,Rh(this)):Xn(this,this.Y-n)};var F_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function qc(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof qc){this.h=n.h,vl(this,n.j),this.s=n.s,this.g=n.g,Ym(this,n.m),this.l=n.l;var e=n.i,t=new Zp;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),fI(this,t),this.o=n.o}else n&&(e=String(n).match(F_))?(this.h=!1,vl(this,e[1]||"",!0),this.s=Nh(e[2]||""),this.g=Nh(e[3]||"",!0),Ym(this,e[4]),this.l=Nh(e[5]||"",!0),fI(this,e[6]||"",!0),this.o=Nh(e[7]||"")):(this.h=!1,this.i=new Zp(null,this.h))}function Ja(n){return new qc(n)}function vl(n,e,t){n.j=t?Nh(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function Ym(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function fI(n,e,t){e instanceof Zp?(n.i=e,function Jb(n,e){e&&!n.j&&(Xa(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(L_(this,r),mI(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Ph(e,Yb)),n.i=new Zp(e,n.h))}function Un(n,e,t){n.i.set(e,t)}function Wc(n){return Un(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function Nh(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Ph(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,pI),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function pI(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}qc.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Ph(e,gI,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Ph(e,gI,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Ph(t,"/"==t.charAt(0)?Wp:qp,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Ph(t,Qb)),n.join("")};var gI=/[#\/\?@]/g,qp=/[#\?:]/g,Wp=/[#\?]/g,Yb=/[#\?@]/g,Qb=/#/g;function Zp(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Xa(n){n.g||(n.g=new Map,n.h=0,n.i&&function Kb(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function L_(n,e){Xa(n),e=Zc(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function V_(n,e){return Xa(n),e=Zc(n,e),n.g.has(e)}function mI(n,e,t){L_(n,e),0<t.length&&(n.i=null,n.g.set(Zc(n,e),Lp(t)),n.h+=t.length)}function Zc(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function eT(n){this.l=n||Hx,n=Lt.PerformanceNavigationTiming?0<(n=Lt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(Lt.g&&Lt.g.Ka&&Lt.g.Ka()&&Lt.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ke=Zp.prototype).add=function(n,e){Xa(this),this.i=null,n=Zc(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ke.forEach=function(n,e){Xa(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},Ke.ta=function(){Xa(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},Ke.Z=function(n){Xa(this);let e=[];if("string"==typeof n)V_(this,n)&&(e=e.concat(this.g.get(Zc(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ke.set=function(n,e){return Xa(this),this.i=null,V_(this,n=Zc(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ke.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ke.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var s=u;""!==c[r]&&(s+="="+encodeURIComponent(String(c[r]))),n.push(s)}}return this.i=n.join("&")};var n,Hx=10;function tT(n){return!!n.h||!!n.g&&n.g.size>=n.j}function nT(n){return n.h?1:n.g?n.g.size:0}function Qm(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Oh(n,e){n.g?n.g.add(e):n.h=e}function yI(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function vI(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return Lp(n.i)}function Kp(){this.g=new class{stringify(n){return Lt.JSON.stringify(n,void 0)}parse(n){return Lt.JSON.parse(n,void 0)}}}function rT(n,e,t){const r=t||"";try{k_(n,function(s,u){let c=s;wh(s)&&(c=Hm(s)),e.push(r+u+"="+encodeURIComponent(c))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function Jm(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function Yp(n){this.l=n.fc||null,this.j=n.ob||!1}function Xm(n,e){gr.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=ey,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}eT.prototype.cancel=function(){if(this.i=vI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},Yp.prototype.g=function(){return new Xm(this.l,this.j)},Yp.prototype.i=(n={},function(){return n});var ey=0;function wI(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Qp(n){n.readyState=4,n.l=null,n.j=null,n.A=null,eu(n)}function eu(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ke=Xm.prototype).open=function(n,e){if(this.readyState!=ey)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,eu(this)},Ke.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||Lt).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ke.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Qp(this)),this.readyState=ey},Ke.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,eu(this)),this.g&&(this.readyState=3,eu(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Lt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;wI(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ke.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Qp(this):eu(this),3==this.readyState&&wI(this)}},Ke.Za=function(n){this.g&&(this.response=this.responseText=n,Qp(this))},Ke.Ya=function(n){this.g&&(this.response=n,Qp(this))},Ke.ka=function(){this.g&&Qp(this)},Ke.setRequestHeader=function(n,e){this.v.append(n,e)},Ke.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ke.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")};var sT=Lt.JSON.parse;function er(n){gr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=EI,this.L=this.M=!1}var EI="",II=/^https?$/i,oT=["POST","PUT"];function DI(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ty(n),Jp(n)}function ty(n){n.F||(n.F=!0,di(n,"complete"),di(n,"error"))}function bI(n){if(n.h&&typeof Rm<"u"&&(!n.C[1]||4!=aa(n)||2!=n.da()))if(n.v&&4==aa(n))D_(n.La,0,n);else if(di(n,"readystatechange"),4==aa(n)){n.h=!1;try{const c=n.da();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===c){var s=String(n.I).match(F_)[1]||null;!s&&Lt.self&&Lt.self.location&&(s=Lt.self.location.protocol.slice(0,-1)),r=!II.test(s?s.toLowerCase():"")}t=r}if(t)di(n,"complete"),di(n,"success");else{n.m=6;try{var u=2<aa(n)?n.g.statusText:""}catch{u=""}n.j=u+" ["+n.da()+"]",ty(n)}}finally{Jp(n)}}}function Jp(n,e){if(n.g){U_(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||di(n,"ready");try{t.onreadystatechange=r}catch{}}}function U_(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Lt.clearTimeout(n.A),n.A=null)}function aa(n){return n.g?n.g.readyState:0}function TI(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case EI:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function ny(n){let e="";return Lm(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function B_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=ny(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Un(n,e,t))}function kh(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function SI(n){this.Ga=0,this.j=[],this.l=new qm,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=kh("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=kh("baseRetryDelayMs",5e3,n),this.hb=kh("retryDelaySeedMs",1e4,n),this.eb=kh("forwardChannelMaxRetries",2,n),this.xa=kh("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new eT(n&&n.concurrentRequestLimit),this.Ja=new Kp,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function j_(n){if(AI(n),3==n.H){var e=n.W++,t=Ja(n.I);if(Un(t,"SID",n.K),Un(t,"RID",e),Un(t,"TYPE","terminate"),Xp(n,t),(e=new Mh(n,n.l,e)).L=2,e.v=Wc(Ja(t)),t=!1,Lt.navigator&&Lt.navigator.sendBeacon)try{t=Lt.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&Lt.Image&&((new Image).src=e.v,t=!0),t||(e.g=ay(e.l,null),e.g.ha(e.v)),e.G=Date.now(),ml(e)}oy(n)}function ry(n){n.g&&(z_(n),n.g.cancel(),n.g=null)}function AI(n){ry(n),n.u&&(Lt.clearTimeout(n.u),n.u=null),sy(n),n.i.cancel(),n.m&&("number"==typeof n.m&&Lt.clearTimeout(n.m),n.m=null)}function iy(n){if(!tT(n.i)&&!n.m){n.m=!0;var e=n.Na;bh||nI(),Th||(bh(),Th=!0),Gm.add(e,n),n.C=0}}function xI(n,e){var t;t=e?e.m:n.W++;const r=Ja(n.I);Un(r,"SID",n.K),Un(r,"RID",t),Un(r,"AID",n.V),Xp(n,r),n.o&&n.s&&B_(r,n.o,n.s),t=new Mh(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=$_(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Oh(n.i,t),N_(t,r,e)}function Xp(n,e){n.na&&Lm(n.na,function(t,r){Un(e,r,t)}),n.h&&k_({},function(t,r){Un(e,r,t)})}function $_(n,e,t){t=Math.min(n.j.length,t);var r=n.h?li(n.h.Va,n.h,n):null;e:{var s=n.j;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=s[0].g,c.push("ofs="+u)):u=0:c.push("ofs="+u);let m=!0;for(let w=0;w<t;w++){let b=s[w].g;const A=s[w].map;if(b-=u,0>b)u=Math.max(0,s[w].g-100),m=!1;else try{rT(A,c,"req"+b+"_")}catch{r&&r(A)}}if(m){r=c.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function H_(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;bh||nI(),Th||(bh(),Th=!0),Gm.add(e,n),n.A=0}}function G_(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=xh(li(n.Ma,n),RI(n,n.A)),n.A++,0))}function z_(n){null!=n.B&&(Lt.clearTimeout(n.B),n.B=null)}function q_(n){n.g=new Mh(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Ja(n.wa);Un(e,"RID","rpc"),Un(e,"SID",n.K),Un(e,"AID",n.V),Un(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Un(e,"TO",n.qa),Un(e,"TYPE","xmlhttp"),Xp(n,e),n.o&&n.s&&B_(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Wc(Ja(e)),t.s=null,t.S=!0,lI(t,n)}function sy(n){null!=n.v&&(Lt.clearTimeout(n.v),n.v=null)}function MI(n,e){var t=null;if(n.g==e){sy(n),z_(n),n.g=null;var r=2}else{if(!Qm(n.i,e))return;t=e.F,yI(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var s=n.C;di(r=$p(),new A_(r,t)),iy(n)}else H_(n);else if(3==(s=e.o)||0==s&&0<e.ca||!(1==r&&function uT(n,e){return!(nT(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=xh(li(n.Na,n,e),RI(n,n.C)),n.C++,0)))}(n,e)||2==r&&G_(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),s){case 1:tu(n,5);break;case 4:tu(n,10);break;case 3:tu(n,6);break;default:tu(n,2)}}function RI(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function tu(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=li(n.pb,n);t||(t=new qc("//www.google.com/images/cleardot.gif"),Lt.location&&"http"==Lt.location.protocol||vl(t,"https"),Wc(t)),function iT(n,e){const t=new qm;if(Lt.Image){const r=new Image;r.onload=Fp(Jm,t,r,"TestLoadImage: loaded",!0,e),r.onerror=Fp(Jm,t,r,"TestLoadImage: error",!1,e),r.onabort=Fp(Jm,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=Fp(Jm,t,r,"TestLoadImage: timeout",!1,e),Lt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Ti(2);n.H=0,n.h&&n.h.za(e),oy(n),AI(n)}function oy(n){if(n.H=0,n.ma=[],n.h){const e=vI(n.i);(0!=e.length||0!=n.j.length)&&(d_(n.ma,e),d_(n.ma,n.j),n.i.i.length=0,Lp(n.j),n.j.length=0),n.h.ya()}}function W_(n,e,t){var r=t instanceof qc?Ja(t):new qc(t);if(""!=r.g)e&&(r.g=e+"."+r.g),Ym(r,r.m);else{var s=Lt.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new qc(null);r&&vl(u,r),e&&(u.g=e),s&&Ym(u,s),t&&(u.l=t),r=u}return e=n.Da,(t=n.F)&&e&&Un(r,t,e),Un(r,"VER",n.ra),Xp(n,r),r}function ay(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new er(t&&n.Ha&&!n.va?new Yp({ob:!0}):n.va)).Oa(n.J),e}function uy(){if(Ih&&!(10<=Number(Ch)))throw Error("Environmental error: no available transport.")}function Wi(n,e){gr.call(this),this.g=new SI(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Eh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Eh(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new To(this)}function PI(n){gl.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function Z_(){uI.call(this),this.status=1}function To(n){this.g=n}function So(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function kI(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var s=0;16>s;++s)r[s]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(s=0;16>s;++s)r[s]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var u=n.g[3],c=(e=n.g[0])+(u^(t=n.g[1])&((s=n.g[2])^u))+r[0]+3614090360&4294967295;c=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=(t=(s=(u=(e=t+(c<<7&4294967295|c>>>25))+((c=u+(s^e&(t^s))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^u&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(u^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(s^u))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=u+(s^e&(t^s))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^u&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(u^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(s^u))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=u+(s^e&(t^s))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^u&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(u^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(u^t&(s^u))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=u+(s^e&(t^s))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=s+(t^u&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^s&(u^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(s^u&(t^s))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^s&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(u^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(s^u))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^u&(t^s))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^s&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(u^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(s^u))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^u&(t^s))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^s&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(u^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(s^u))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(s^u&(t^s))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=u+(t^s&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=s+(e^t&(u^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(u^e&(s^u))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^s^u)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^s)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=s+(u^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^u^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^u)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^s)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=s+(u^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^u^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^u)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^s)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=s+(u^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^u^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^s^u)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=u+(e^t^s)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=s+(u^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(s^u^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(s^(t|~u))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~s))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(u|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(s|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~u))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~s))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(u|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(s|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(s^(t|~u))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~s))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=s+(e^(u|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(u^(s|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((u=(e=t+((c=e+(s^(t|~u))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=u+(t^(e|~s))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((s=u+((c=s+(e^(u|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(s+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+s&4294967295,n.g[3]=n.g[3]+u&4294967295}function vn(n,e){this.h=e;for(var t=[],r=!0,s=n.length-1;0<=s;s--){var u=0|n[s];r&&u==e||(t[s]=u,r=!1)}this.g=t}(Ke=er.prototype).Oa=function(n){this.M=n},Ke.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zp.g(),this.C=function pl(n){return n.h||(n.h=n.i())}(this.u?this.u:zp),this.g.onreadystatechange=li(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(u){return void DI(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=Lt.FormData&&n instanceof Lt.FormData,!(0<=c_(oT,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{U_(this),0<this.B&&((this.L=function CI(n){return Ih&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=li(this.ua,this)):this.A=D_(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){DI(this,u)}},Ke.ua=function(){typeof Rm<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,di(this,"timeout"),this.abort(8))},Ke.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,di(this,"complete"),di(this,"abort"),Jp(this))},Ke.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Jp(this,!0)),er.$.N.call(this)},Ke.La=function(){this.s||(this.G||this.v||this.l?bI(this):this.kb())},Ke.kb=function(){bI(this)},Ke.isActive=function(){return!!this.g},Ke.da=function(){try{return 2<aa(this)?this.g.status:-1}catch{return-1}},Ke.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ke.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),sT(e)}},Ke.Ia=function(){return this.m},Ke.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ke=SI.prototype).ra=8,Ke.H=1,Ke.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const s=new Mh(this,this.l,n);let u=this.s;if(this.U&&(u?(u=bo(u),qE(u,this.U)):u=this.U),null!==this.o||this.O||(s.I=u,u=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=$_(this,s,e),Un(t=Ja(this.I),"RID",n),Un(t,"CVER",22),this.F&&Un(t,"X-HTTP-Session-Id",this.F),Xp(this,t),u&&(this.O?e="headers="+encodeURIComponent(String(ny(u)))+"&"+e:this.o&&B_(t,this.o,u)),Oh(this.i,s),this.bb&&Un(t,"TYPE","init"),this.P?(Un(t,"$req",e),Un(t,"SID","null"),s.aa=!0,N_(s,t,null)):N_(s,t,e),this.H=2}}else 3==this.H&&(n?xI(this,n):0==this.j.length||tT(this.i)||xI(this))},Ke.Ma=function(){if(this.u=null,q_(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=xh(li(this.jb,this),n)}},Ke.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ti(10),ry(this),q_(this))},Ke.ib=function(){null!=this.v&&(this.v=null,ry(this),G_(this),Ti(19))},Ke.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Ti(2)):(this.l.info("Failed to ping google.com"),Ti(1))},Ke.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ke=function NI(){}.prototype).Ba=function(){},Ke.Aa=function(){},Ke.za=function(){},Ke.ya=function(){},Ke.isActive=function(){return!0},Ke.Va=function(){},uy.prototype.g=function(n,e){return new Wi(n,e)},Wi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Ti(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=W_(n,null,n.Y),iy(n)},Wi.prototype.close=function(){j_(this.g)},Wi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=Hm(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&iy(e)},Wi.prototype.N=function(){this.g.h=null,delete this.j,j_(this.g),delete this.g,Wi.$.N.call(this)},To.prototype.Ba=function(){di(this.g,"a")},To.prototype.Aa=function(n){di(this.g,new PI(n))},To.prototype.za=function(n){di(this.g,new Z_)},To.prototype.ya=function(){di(this.g,"b")},So.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},So.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,s=this.h,u=0;u<e;){if(0==s)for(;u<=t;)kI(this,n,u),u+=this.blockSize;if("string"==typeof n){for(;u<e;)if(r[s++]=n.charCodeAt(u++),s==this.blockSize){kI(this,r),s=0;break}}else for(;u<e;)if(r[s++]=n[u++],s==this.blockSize){kI(this,r),s=0;break}}this.h=s,this.i+=e},So.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var K_={};function Y_(n){return-128<=n&&128>n?function jE(n,e){var t=K_;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new vn([0|e],0>e?-1:0)}):new vn([0|n],0>n?-1:0)}function eo(n){if(isNaN(n)||!isFinite(n))return _l;if(0>n)return hi(eo(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=ly;return new vn(e,0)}var ly=4294967296,_l=Y_(0),cy=Y_(1),Q_=Y_(16777216);function ua(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function Ls(n){return-1==n.h}function hi(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new vn(t,~n.h).add(cy)}function dy(n,e){return n.add(hi(e))}function hy(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function eg(n,e){this.g=n,this.h=e}function tg(n,e){if(ua(e))throw Error("division by zero");if(ua(n))return new eg(_l,_l);if(Ls(n))return e=tg(hi(n),e),new eg(hi(e.g),hi(e.h));if(Ls(e))return e=tg(n,hi(e)),new eg(hi(e.g),e.h);if(30<n.g.length){if(Ls(n)||Ls(e))throw Error("slowDivide_ only works with positive integers.");for(var t=cy,r=e;0>=r.X(n);)t=lT(t),r=lT(r);var s=Kc(t,1),u=Kc(r,1);for(r=Kc(r,2),t=Kc(t,2);!ua(r);){var c=u.add(r);0>=c.X(n)&&(s=s.add(t),u=c),r=Kc(r,1),t=Kc(t,1)}return e=dy(n,s.R(e)),new eg(s,e)}for(s=_l;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(u=eo(t)).R(e);Ls(c)||0<c.X(n);)c=(u=eo(t-=r)).R(e);ua(u)&&(u=cy),s=s.add(u),n=dy(n,c)}return new eg(s,n)}function lT(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new vn(t,n.h)}function Kc(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,s=[],u=0;u<r;u++)s[u]=0<e?n.D(u+t)>>>e|n.D(u+t+1)<<32-e:n.D(u+t);return new vn(s,n.h)}(Ke=vn.prototype).ea=function(){if(Ls(this))return-hi(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:ly+r)*e,e*=ly}return n},Ke.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(ua(this))return"0";if(Ls(this))return"-"+hi(this).toString(n);for(var e=eo(Math.pow(n,6)),t=this,r="";;){var s=tg(t,e).g,u=((0<(t=dy(t,s.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(ua(t=s))return u+r;for(;6>u.length;)u="0"+u;r=u+r}},Ke.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ke.X=function(n){return Ls(n=dy(this,n))?-1:ua(n)?0:1},Ke.abs=function(){return Ls(this)?hi(this):this},Ke.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,s=0;s<=e;s++){var u=r+(65535&this.D(s))+(65535&n.D(s)),c=(u>>>16)+(this.D(s)>>>16)+(n.D(s)>>>16);r=c>>>16,t[s]=(c&=65535)<<16|(u&=65535)}return new vn(t,-2147483648&t[t.length-1]?-1:0)},Ke.R=function(n){if(ua(this)||ua(n))return _l;if(Ls(this))return Ls(n)?hi(this).R(hi(n)):hi(hi(this).R(n));if(Ls(n))return hi(this.R(hi(n)));if(0>this.X(Q_)&&0>n.X(Q_))return eo(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var s=0;s<n.g.length;s++){var u=this.D(r)>>>16,c=65535&this.D(r),m=n.D(s)>>>16,w=65535&n.D(s);t[2*r+2*s]+=c*w,hy(t,2*r+2*s),t[2*r+2*s+1]+=u*w,hy(t,2*r+2*s+1),t[2*r+2*s+1]+=c*m,hy(t,2*r+2*s+1),t[2*r+2*s+2]+=u*m,hy(t,2*r+2*s+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new vn(t,0)},Ke.gb=function(n){return tg(this,n).h},Ke.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new vn(t,this.h&n.h)},Ke.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new vn(t,this.h|n.h)},Ke.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new vn(t,this.h^n.h)},uy.prototype.createWebChannel=uy.prototype.g,Wi.prototype.send=Wi.prototype.u,Wi.prototype.open=Wi.prototype.m,Wi.prototype.close=Wi.prototype.close,Hp.NO_ERROR=0,Hp.TIMEOUT=8,Hp.HTTP_ERROR=6,x_.COMPLETE="complete",aI.EventType=Gp,Gp.OPEN="a",Gp.CLOSE="b",Gp.ERROR="c",Gp.MESSAGE="d",gr.prototype.listen=gr.prototype.O,er.prototype.listenOnce=er.prototype.P,er.prototype.getLastError=er.prototype.Sa,er.prototype.getLastErrorCode=er.prototype.Ia,er.prototype.getStatus=er.prototype.da,er.prototype.getResponseJson=er.prototype.Wa,er.prototype.getResponseText=er.prototype.ja,er.prototype.send=er.prototype.ha,er.prototype.setWithCredentials=er.prototype.Oa,So.prototype.digest=So.prototype.l,So.prototype.reset=So.prototype.reset,So.prototype.update=So.prototype.j,vn.prototype.add=vn.prototype.add,vn.prototype.multiply=vn.prototype.R,vn.prototype.modulo=vn.prototype.gb,vn.prototype.compare=vn.prototype.X,vn.prototype.toNumber=vn.prototype.ea,vn.prototype.toString=vn.prototype.toString,vn.prototype.getBits=vn.prototype.D,vn.fromNumber=eo,vn.fromString=function FI(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return hi(FI(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=eo(Math.pow(e,8)),r=_l,s=0;s<n.length;s+=8){var u=Math.min(8,n.length-s),c=parseInt(n.substring(s,s+u),e);8>u?(u=eo(Math.pow(e,u)),r=r.R(u).add(eo(c))):r=(r=r.R(t)).add(eo(c))}return r};var cT=Ps.createWebChannelTransport=function(){return new uy},dT=Ps.getStatEventTarget=function(){return $p()},LI=Ps.ErrorCode=Hp,Gx=Ps.EventType=x_,hT=Ps.Event=Gc,VI=Ps.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},fT=Ps.FetchXmlHttpFactory=Yp,fy=Ps.WebChannel=aI,pT=Ps.XhrIo=er,gT=Ps.Md5=So,Fh=Ps.Integer=vn;class Yr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Yr.UNAUTHENTICATED=new Yr(null),Yr.GOOGLE_CREDENTIALS=new Yr("google-credentials-uid"),Yr.FIRST_PARTY=new Yr("first-party-uid"),Yr.MOCK_USER=new Yr("mock-user");let Lh="9.23.0";const wl=new oa.Yd("@firebase/firestore");function J_(){return wl.logLevel}function Le(n,...e){if(wl.logLevel<=oa.in.DEBUG){const t=e.map(py);wl.debug(`Firestore (${Lh}): ${n}`,...t)}}function cr(n,...e){if(wl.logLevel<=oa.in.ERROR){const t=e.map(py);wl.error(`Firestore (${Lh}): ${n}`,...t)}}function Vs(n,...e){if(wl.logLevel<=oa.in.WARN){const t=e.map(py);wl.warn(`Firestore (${Lh}): ${n}`,...t)}}function py(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function nt(n="Unexpected state"){const e=`FIRESTORE (${Lh}) INTERNAL ASSERTION FAILED: `+n;throw cr(e),new Error(e)}function mt(n,e){n||nt()}function Ye(n,e){return n}const ue={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ae extends dn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Vr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class yT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Yr.UNAUTHENTICATED))}shutdown(){}}class X_{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Yr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class la{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new X_(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Yr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}function _T(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class $I{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=_T(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function Ut(n,e){return n<e?-1:n>e?1:0}function nu(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class Gn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ae(ue.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gn.fromMillis(Date.now())}static fromDate(e){return Gn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Gn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ut(this.nanoseconds,e.nanoseconds):Ut(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new wt(e)}static min(){return new wt(new Gn(0,0))}static max(){return new wt(new Gn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vh{constructor(e,t,r){void 0===t?t=0:t>e.length&&nt(),void 0===r?r=e.length-t:r>e.length-t&&nt(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Vh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),c=t.get(s);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class en extends Vh{construct(e,t,r){return new en(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Ae(ue.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new en(t)}static emptyPath(){return new en([])}}const t0=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class tr extends Vh{construct(e,t,r){return new tr(e,t,r)}static isValidIdentifier(e){return t0.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),tr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new tr(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new Ae(ue.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;s<e.length;){const m=e[s];if("\\"===m){if(s+1===e.length)throw new Ae(ue.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const w=e[s+1];if("\\"!==w&&"."!==w&&"`"!==w)throw new Ae(ue.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=w,s+=2}else"`"===m?(c=!c,s++):"."!==m||c?(r+=m,s++):(u(),s++)}if(u(),c)throw new Ae(ue.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new tr(t)}static emptyPath(){return new tr([])}}class Ze{constructor(e){this.path=e}static fromPath(e){return new Ze(en.fromString(e))}static fromName(e){return new Ze(en.fromString(e).popFirst(5))}static empty(){return new Ze(en.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===en.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return en.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ze(new en(e.slice()))}}function zI(n){return new Us(n.readTime,n.key,-1)}class Us{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Us(wt.min(),Ze.empty(),-1)}static max(){return new Us(wt.max(),Ze.empty(),-1)}}function s0(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ze.comparator(n.documentKey,e.documentKey),0!==t?t:Ut(n.largestBatchId,e.largestBatchId))}const o0="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";function iu(n){return a0.apply(this,arguments)}function a0(){return a0=(0,_e.Z)(function*(n){if(n.code!==ue.FAILED_PRECONDITION||n.message!==o0)throw n;Le("LocalStore","Unexpectedly lost primary lease")}),a0.apply(this,arguments)}class ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&nt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ie((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ie?t:ie.resolve(t)}catch(t){return ie.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ie.reject(t)}static resolve(e){return new ie((t,r)=>{t(e)})}static reject(e){return new ie((t,r)=>{r(e)})}static waitFor(e){return new ie((t,r)=>{let s=0,u=0,c=!1;e.forEach(m=>{++s,m.next(()=>{++u,c&&u===s&&t()},w=>r(w))}),c=!0,u===s&&t()})}static or(e){let t=ie.resolve(!1);for(const r of e)t=t.next(s=>s?ie.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new ie((r,s)=>{const u=e.length,c=new Array(u);let m=0;for(let w=0;w<u;w++){const b=w;t(e[b]).next(A=>{c[b]=A,++m,m===u&&r(c)},A=>s(A))}})}static doWhile(e,t){return new ie((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}function El(n){return"IndexedDbTransactionError"===n.name}let to=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>r.writeSequenceNumber(s))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function vy(n){return null==n}function Bh(n){return 0===n&&1/n==-1/0}function rC(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function su(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function f0(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class On{constructor(e,t){this.comparator=e,this.root=t||Qr.EMPTY}insert(e,t){return new On(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Qr.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Qr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cy(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cy(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cy(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cy(this.root,e,this.comparator,!0)}}class Cy{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Qr{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??Qr.RED,this.left=s??Qr.EMPTY,this.right=u??Qr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Qr(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Qr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Qr.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Qr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Qr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw nt();const e=this.left.check();if(e!==this.right.check())throw nt();return e+(this.isRed()?0:1)}}Qr.EMPTY=null,Qr.RED=!0,Qr.BLACK=!1,Qr.EMPTY=new class{constructor(){this.size=0}get key(){throw nt()}get value(){throw nt()}get color(){throw nt()}get left(){throw nt()}get right(){throw nt()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Qr(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Bn{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new p0(this.data.getIterator())}getIteratorFrom(e){return new p0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Bn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Bn(this.comparator);return t.data=e,t}}class p0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Zi{constructor(e){this.fields=e,e.sort(tr.comparator)}static empty(){return new Zi([])}unionWith(e){let t=new Bn(tr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Zi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return nu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class g0 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new g0("Invalid base64 string: "+s):s}}(e);return new Br(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new Br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ut(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Br.EMPTY_BYTE_STRING=new Br("");const Zx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ou(n){if(mt(!!n),"string"==typeof n){let e=0;const t=Zx.exec(n);if(mt(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:mr(n.seconds),nanos:mr(n.nanos)}}function mr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Cl(n){return"string"==typeof n?Br.fromBase64String(n):Br.fromUint8Array(n)}function m0(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function y0(n){const e=n.mapValue.fields.__previous_value__;return m0(e)?y0(e):e}function Dy(n){const e=ou(n.mapValue.fields.__local_write_time__.timestampValue);return new Gn(e.seconds,e.nanos)}class Kx{constructor(e,t,r,s,u,c,m,w,b){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=w,this.useFetchStreams=b}}class Xc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Xc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Xc&&e.projectId===this.projectId&&e.database===this.database}}const ed_mapValue={fields:{__type__:{stringValue:"__max__"}}};function nd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?m0(n)?4:sC(n)?9007199254740991:10:nt()}function xo(n,e){if(n===e)return!0;const t=nd(n);if(t!==nd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Dy(n).isEqual(Dy(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=ou(r.timestampValue),c=ou(s.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,Cl(n.bytesValue).isEqual(Cl(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return mr(r.geoPointValue.latitude)===mr(s.geoPointValue.latitude)&&mr(r.geoPointValue.longitude)===mr(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return mr(r.integerValue)===mr(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=mr(r.doubleValue),c=mr(s.doubleValue);return u===c?Bh(u)===Bh(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return nu(n.arrayValue.values||[],e.arrayValue.values||[],xo);case 10:return function(r,s){const u=r.mapValue.fields||{},c=s.mapValue.fields||{};if(rC(u)!==rC(c))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(void 0===c[m]||!xo(u[m],c[m])))return!1;return!0}(n,e);default:return nt()}var s}function Dl(n,e){return void 0!==(n.values||[]).find(t=>xo(t,e))}function au(n,e){if(n===e)return 0;const t=nd(n),r=nd(e);if(t!==r)return Ut(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ut(n.booleanValue,e.booleanValue);case 2:return function(s,u){const c=mr(s.integerValue||s.doubleValue),m=mr(u.integerValue||u.doubleValue);return c<m?-1:c>m?1:c===m?0:isNaN(c)?isNaN(m)?0:-1:1}(n,e);case 3:return v0(n.timestampValue,e.timestampValue);case 4:return v0(Dy(n),Dy(e));case 5:return Ut(n.stringValue,e.stringValue);case 6:return function(s,u){const c=Cl(s),m=Cl(u);return c.compareTo(m)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const c=s.split("/"),m=u.split("/");for(let w=0;w<c.length&&w<m.length;w++){const b=Ut(c[w],m[w]);if(0!==b)return b}return Ut(c.length,m.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const c=Ut(mr(s.latitude),mr(u.latitude));return 0!==c?c:Ut(mr(s.longitude),mr(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const c=s.values||[],m=u.values||[];for(let w=0;w<c.length&&w<m.length;++w){const b=au(c[w],m[w]);if(b)return b}return Ut(c.length,m.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===ed_mapValue&&u===ed_mapValue)return 0;if(s===ed_mapValue)return 1;if(u===ed_mapValue)return-1;const c=s.fields||{},m=Object.keys(c),w=u.fields||{},b=Object.keys(w);m.sort(),b.sort();for(let A=0;A<m.length&&A<b.length;++A){const R=Ut(m[A],b[A]);if(0!==R)return R;const V=au(c[m[A]],w[b[A]]);if(0!==V)return V}return Ut(m.length,b.length)}(n.mapValue,e.mapValue);default:throw nt()}}function v0(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return Ut(n,e);const t=ou(n),r=ou(e),s=Ut(t.seconds,r.seconds);return 0!==s?s:Ut(t.nanos,r.nanos)}function ag(n){return ug(n)}function ug(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=ou(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Cl(n.bytesValue).toBase64():"referenceValue"in n?Ze.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const c of r.values||[])u?u=!1:s+=",",s+=ug(c);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const m of s)c?c=!1:u+=",",u+=`${m}:${ug(r.fields[m])}`;return u+"}"}(n.mapValue):nt();var e}function rd(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function by(n){return!!n&&"integerValue"in n}function Ty(n){return!!n&&"arrayValue"in n}function AT(n){return!!n&&"nullValue"in n}function iC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sy(n){return!!n&&"mapValue"in n}function bl(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return su(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=bl(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=bl(n.arrayValue.values[t]);return e}return Object.assign({},n)}function sC(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class fi{constructor(e){this.value=e}static empty(){return new fi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sy(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=bl(t)}setAll(e){let t=tr.emptyPath(),r={},s=[];e.forEach((c,m)=>{if(!t.isImmediateParentOf(m)){const w=this.getFieldsMap(t);this.applyChanges(w,r,s),r={},s=[],t=m.popLast()}c?r[m.lastSegment()]=bl(c):s.push(m.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());Sy(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];Sy(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){su(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new fi(bl(this.value))}}function aC(n){const e=[];return su(n.fields,(t,r)=>{const s=new tr([t]);if(Sy(r)){const u=aC(r.mapValue).fields;if(0===u.length)e.push(s);else for(const c of u)e.push(s.child(c))}else e.push(s)}),new Zi(e)}class zn{constructor(e,t,r,s,u,c,m){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=c,this.documentState=m}static newInvalidDocument(e){return new zn(e,0,wt.min(),wt.min(),wt.min(),fi.empty(),0)}static newFoundDocument(e,t,r,s){return new zn(e,1,t,wt.min(),r,s,0)}static newNoDocument(e,t){return new zn(e,2,t,wt.min(),wt.min(),fi.empty(),0)}static newUnknownDocument(e,t){return new zn(e,3,t,wt.min(),wt.min(),fi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(wt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=wt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof zn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new zn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Tl{constructor(e,t){this.position=e,this.inclusive=t}}function _0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],c=n.position[s];if(r=u.field.isKeyField()?Ze.comparator(Ze.fromName(c.referenceValue),t.key):au(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function w0(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!xo(n.position[t],e.position[t]))return!1;return!0}class cg{constructor(e,t="asc"){this.field=e,this.dir=t}}function Mo(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class uC{}class Zt extends uC{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new MT(e,t,r):"array-contains"===t?new fC(e,r):"in"===t?new pC(e,r):"not-in"===t?new b0(e,r):"array-contains-any"===t?new Sl(e,r):new Zt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new cC(e,r):new dC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(au(t,this.value)):null!==t&&nd(this.value)===nd(t)&&this.matchesComparison(au(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class wn extends uC{constructor(e,t){super(),this.filters=e,this.op=t,this.lt=null}static create(e,t){return new wn(e,t)}matches(e){return pi(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.lt||(this.lt=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(t=>t.isInequality());return null!==e?e.field:null}ft(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function pi(n){return"and"===n.op}function dg(n){return function lC(n){for(const e of n.filters)if(e instanceof wn)return!1;return!0}(n)&&pi(n)}function I0(n){if(n instanceof Zt)return n.field.canonicalString()+n.op.toString()+ag(n.value);if(dg(n))return n.filters.map(e=>I0(e)).join(",");{const e=n.filters.map(t=>I0(t)).join(",");return`${n.op}(${e})`}}function Ay(n,e){return n instanceof Zt?(t=n,(r=e)instanceof Zt&&t.op===r.op&&t.field.isEqual(r.field)&&xo(t.value,r.value)):n instanceof wn?function(t,r){return r instanceof wn&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,c)=>s&&Ay(u,r.filters[c]),!0)}(n,e):void nt();var t,r}function D0(n){return n instanceof Zt?`${(e=n).field.canonicalString()} ${e.op} ${ag(e.value)}`:n instanceof wn?function(e){return e.op.toString()+" {"+e.getFilters().map(D0).join(" ,")+"}"}(n):"Filter";var e}class MT extends Zt{constructor(e,t,r){super(e,t,r),this.key=Ze.fromName(r.referenceValue)}matches(e){const t=Ze.comparator(e.key,this.key);return this.matchesComparison(t)}}class cC extends Zt{constructor(e,t){super(e,"in",t),this.keys=hC(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class dC extends Zt{constructor(e,t){super(e,"not-in",t),this.keys=hC(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function hC(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ze.fromName(r.referenceValue))}class fC extends Zt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ty(t)&&Dl(t.arrayValue,this.value)}}class pC extends Zt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Dl(this.value.arrayValue,t)}}class b0 extends Zt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Dl(this.value.arrayValue,t)}}class Sl extends Zt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ty(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Dl(this.value.arrayValue,r))}}class gC{constructor(e,t=null,r=[],s=[],u=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=c,this.endAt=m,this.dt=null}}function hg(n,e=null,t=[],r=[],s=null,u=null,c=null){return new gC(n,e,t,r,s,u,c)}function Ki(n){const e=Ye(n);if(null===e.dt){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>I0(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),vy(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ag(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ag(r)).join(",")),e.dt=t}return e.dt}function fg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!Mo(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Ay(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!w0(n.startAt,e.startAt)&&w0(n.endAt,e.endAt)}function T0(n){return Ze.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class uu{constructor(e,t=null,r=[],s=[],u=null,c="F",m=null,w=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=c,this.startAt=m,this.endAt=w,this.wt=null,this._t=null}}function pg(n){return new uu(n)}function A0(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function x0(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function gg(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function vC(n){return null!==n.collectionGroup}function lu(n){const e=Ye(n);if(null===e.wt){e.wt=[];const t=gg(e),r=x0(e);if(null!==t&&null===r)t.isKeyField()||e.wt.push(new cg(t)),e.wt.push(new cg(tr.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.wt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new cg(tr.keyField(),u))}}}return e.wt}function Ai(n){const e=Ye(n);if(!e._t)if("F"===e.limitType)e._t=hg(e.path,e.collectionGroup,lu(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of lu(e))t.push(new cg(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new Tl(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new Tl(e.startAt.position,e.startAt.inclusive):null;e._t=hg(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function My(n,e){e.getFirstInequalityField(),gg(n);const t=n.filters.concat([e]);return new uu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function mg(n,e,t){return new uu(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function $h(n,e){return fg(Ai(n),Ai(e))&&n.limitType===e.limitType}function M0(n){return`${Ki(Ai(n))}|lt:${n.limitType}`}function Hh(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>D0(r)).join(", ")}]`),vy(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ag(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ag(r)).join(",")),`Target(${t})`}(Ai(n))}; limitType=${n.limitType})`}function Al(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Ze.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of lu(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,c){const m=_0(s,u,c);return s.inclusive?m<=0:m<0}(t.startAt,lu(t),r)||t.endAt&&!function(s,u,c){const m=_0(s,u,c);return s.inclusive?m>=0:m>0}(t.endAt,lu(t),r)));var t,r}function _C(n){return(e,t)=>{let r=!1;for(const s of lu(n)){const u=wC(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function wC(n,e,t){const r=n.field.isKeyField()?Ze.comparator(e.key,t.key):function(s,u,c){const m=u.data.field(s),w=c.data.field(s);return null!==m&&null!==w?au(m,w):nt()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return nt()}}class da{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){su(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return f0(this.inner)}size(){return this.innerSize}}const RT=new On(Ze.comparator);function ls(){return RT}const NT=new On(Ze.comparator);function Ry(...n){let e=NT;for(const t of n)e=e.insert(t.key,t);return e}function N0(n){let e=NT;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function ha(){return yg()}function EC(){return yg()}function yg(){return new da(n=>n.toString(),(n,e)=>n.isEqual(e))}const Jx=new On(Ze.comparator),Xx=new Bn(Ze.comparator);function Gt(...n){let e=Xx;for(const t of n)e=e.add(t);return e}const eM=new Bn(Ut);function CC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Bh(e)?"-0":e}}function vg(n){return{integerValue:""+n}}function DC(n,e){return function u0(n){return"number"==typeof n&&Number.isInteger(n)&&!Bh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?vg(e):CC(n,e)}class Ny{constructor(){this._=void 0}}function bC(n,e,t){return n instanceof xl?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&m0(s)&&(s=y0(s)),s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof cu?TC(n,e):n instanceof du?Py(n,e):function(r,s){const u=P0(r,s),c=PT(u)+PT(r.gt);return by(u)&&by(r.gt)?vg(c):CC(r.serializer,c)}(n,e)}function id(n,e,t){return n instanceof cu?TC(n,e):n instanceof du?Py(n,e):t}function P0(n,e){return n instanceof hu?by(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class xl extends Ny{}class cu extends Ny{constructor(e){super(),this.elements=e}}function TC(n,e){const t=OT(e);for(const r of n.elements)t.some(s=>xo(s,r))||t.push(r);return{arrayValue:{values:t}}}class du extends Ny{constructor(e){super(),this.elements=e}}function Py(n,e){let t=OT(e);for(const r of n.elements)t=t.filter(s=>!xo(s,r));return{arrayValue:{values:t}}}class hu extends Ny{constructor(e,t){super(),this.serializer=e,this.gt=t}}function PT(n){return mr(n.integerValue||n.doubleValue)}function OT(n){return Ty(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class SC{constructor(e,t){this.version=e,this.transformResults=t}}class qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new qn}static exists(e){return new qn(void 0,e)}static updateTime(e){return new qn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ky(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class Fy{}function AC(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new Ml(n.key,qn.none()):new zh(n.key,n.data,qn.none());{const t=n.data,r=fi.empty();let s=new Bn(tr.comparator);for(let u of e.fields)if(!s.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),s=s.add(u)}return new fa(n.key,r,new Zi(s.toArray()),qn.none())}}function xC(n,e,t){n instanceof zh?function(r,s,u){const c=r.value.clone(),m=kT(r.fieldTransforms,s,u.transformResults);c.setAll(m),s.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof fa?function(r,s,u){if(!ky(r.precondition,s))return void s.convertToUnknownDocument(u.version);const c=kT(r.fieldTransforms,s,u.transformResults),m=s.data;m.setAll(Ly(r)),m.setAll(c),s.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Gh(n,e,t,r){return n instanceof zh?function(s,u,c,m){if(!ky(s.precondition,u))return c;const w=s.value.clone(),b=O0(s.fieldTransforms,m,u);return w.setAll(b),u.convertToFoundDocument(u.version,w).setHasLocalMutations(),null}(n,e,t,r):n instanceof fa?function(s,u,c,m){if(!ky(s.precondition,u))return c;const w=O0(s.fieldTransforms,m,u),b=u.data;return b.setAll(Ly(s)),b.setAll(w),u.convertToFoundDocument(u.version,b).setHasLocalMutations(),null===c?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(A=>A.field))}(n,e,t,r):(c=t,ky(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function MC(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=P0(r.transform,s||null);null!=u&&(null===t&&(t=fi.empty()),t.set(r.field,u))}return t||null}function RC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&nu(t,r,(s,u)=>function tM(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof cu&&r instanceof cu||t instanceof du&&r instanceof du?nu(t.elements,r.elements,xo):t instanceof hu&&r instanceof hu?xo(t.gt,r.gt):t instanceof xl&&r instanceof xl);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class zh extends Fy{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class fa extends Fy{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Ly(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function kT(n,e,t){const r=new Map;mt(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],c=u.transform,m=e.data.field(u.field);r.set(u.field,id(c,m,t[s]))}return r}function O0(n,e,t){const r=new Map;for(const s of n){const u=s.transform,c=t.data.field(s.field);r.set(s.field,bC(u,c,e))}return r}class Ml extends Fy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class k0 extends Fy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class F0{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&xC(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Gh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Gh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=EC();return this.mutations.forEach(s=>{const u=e.get(s.key),c=u.overlayedDocument;let m=this.applyToLocalView(c,u.mutatedFields);m=t.has(s.key)?null:m;const w=AC(c,m);null!==w&&r.set(s.key,w),c.isValidDocument()||c.convertToNoDocument(wt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Gt())}isEqual(e){return this.batchId===e.batchId&&nu(this.mutations,e.mutations,(t,r)=>RC(t,r))&&nu(this.baseMutations,e.baseMutations,(t,r)=>RC(t,r))}}class NC{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){mt(e.mutations.length===r.length);let s=Jx;const u=e.mutations;for(let c=0;c<u.length;c++)s=s.insert(u[c].key,r[c].version);return new NC(e,t,r,s)}}class PC{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class LT{constructor(e,t){this.count=e,this.unchangedNames=t}}var Sr,on;function VT(n){switch(n){default:return nt();case ue.CANCELLED:case ue.UNKNOWN:case ue.DEADLINE_EXCEEDED:case ue.RESOURCE_EXHAUSTED:case ue.INTERNAL:case ue.UNAVAILABLE:case ue.UNAUTHENTICATED:return!1;case ue.INVALID_ARGUMENT:case ue.NOT_FOUND:case ue.ALREADY_EXISTS:case ue.PERMISSION_DENIED:case ue.FAILED_PRECONDITION:case ue.ABORTED:case ue.OUT_OF_RANGE:case ue.UNIMPLEMENTED:case ue.DATA_LOSS:return!0}}function UT(n){if(void 0===n)return cr("GRPC error has no .code"),ue.UNKNOWN;switch(n){case Sr.OK:return ue.OK;case Sr.CANCELLED:return ue.CANCELLED;case Sr.UNKNOWN:return ue.UNKNOWN;case Sr.DEADLINE_EXCEEDED:return ue.DEADLINE_EXCEEDED;case Sr.RESOURCE_EXHAUSTED:return ue.RESOURCE_EXHAUSTED;case Sr.INTERNAL:return ue.INTERNAL;case Sr.UNAVAILABLE:return ue.UNAVAILABLE;case Sr.UNAUTHENTICATED:return ue.UNAUTHENTICATED;case Sr.INVALID_ARGUMENT:return ue.INVALID_ARGUMENT;case Sr.NOT_FOUND:return ue.NOT_FOUND;case Sr.ALREADY_EXISTS:return ue.ALREADY_EXISTS;case Sr.PERMISSION_DENIED:return ue.PERMISSION_DENIED;case Sr.FAILED_PRECONDITION:return ue.FAILED_PRECONDITION;case Sr.ABORTED:return ue.ABORTED;case Sr.OUT_OF_RANGE:return ue.OUT_OF_RANGE;case Sr.UNIMPLEMENTED:return ue.UNIMPLEMENTED;case Sr.DATA_LOSS:return ue.DATA_LOSS;default:return nt()}}(on=Sr||(Sr={}))[on.OK=0]="OK",on[on.CANCELLED=1]="CANCELLED",on[on.UNKNOWN=2]="UNKNOWN",on[on.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",on[on.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",on[on.NOT_FOUND=5]="NOT_FOUND",on[on.ALREADY_EXISTS=6]="ALREADY_EXISTS",on[on.PERMISSION_DENIED=7]="PERMISSION_DENIED",on[on.UNAUTHENTICATED=16]="UNAUTHENTICATED",on[on.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",on[on.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",on[on.ABORTED=10]="ABORTED",on[on.OUT_OF_RANGE=11]="OUT_OF_RANGE",on[on.UNIMPLEMENTED=12]="UNIMPLEMENTED",on[on.INTERNAL=13]="INTERNAL",on[on.UNAVAILABLE=14]="UNAVAILABLE",on[on.DATA_LOSS=15]="DATA_LOSS";class OC{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return L0}static getOrCreateInstance(){return null===L0&&(L0=new OC),L0}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let L0=null;const nM=new Fh([4294967295,4294967295],0);function BT(n){const e=function kC(){return new TextEncoder}().encode(n),t=new gT;return t.update(e),new Uint8Array(t.digest())}function jT(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Fh([t,r],0),new Fh([s,u],0)]}class FC{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Vy(`Invalid padding: ${t}`);if(r<0)throw new Vy(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Vy(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Vy(`Invalid padding when bitmap length is 0: ${t}`);this.It=8*e.length-t,this.Tt=Fh.fromNumber(this.It)}Et(e,t,r){let s=e.add(t.multiply(Fh.fromNumber(r)));return 1===s.compare(nM)&&(s=new Fh([s.getBits(0),s.getBits(1)],0)),s.modulo(this.Tt).toNumber()}At(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}vt(e){if(0===this.It)return!1;const t=BT(e),[r,s]=jT(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,s,u);if(!this.At(c))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),c=new FC(u,s,t);return r.forEach(m=>c.insert(m)),c}insert(e){if(0===this.It)return;const t=BT(e),[r,s]=jT(t);for(let u=0;u<this.hashCount;u++){const c=this.Et(r,s,u);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Vy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uy{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,i.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Uy(wt.min(),s,new On(Ut),ls(),Gt())}}class i{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new i(r,t,Gt(),Gt(),Gt())}}class o{constructor(e,t,r,s){this.Pt=e,this.removedTargetIds=t,this.key=r,this.bt=s}}class a{constructor(e,t){this.targetId=e,this.Vt=t}}class l{constructor(e,t,r=Br.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class d{constructor(){this.St=0,this.Dt=I(),this.Ct=Br.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return 0!==this.St}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=Gt(),t=Gt(),r=Gt();return this.Dt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:nt()}}),new i(this.Ct,this.xt,e,t,r)}Ft(){this.Nt=!1,this.Dt=I()}Bt(e,t){this.Nt=!0,this.Dt=this.Dt.insert(e,t)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class g{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=ls(),this.zt=v(),this.Wt=new On(Ut)}Ht(e){for(const t of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(t,e.bt):this.Yt(t,e.key,e.bt);for(const t of e.removedTargetIds)this.Yt(t,e.key,e.bt)}Xt(e){this.forEachTarget(e,t=>{const r=this.Zt(t);switch(e.state){case 0:this.te(t)&&r.$t(e.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(e.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(t);break;case 3:this.te(t)&&(r.Kt(),r.$t(e.resumeToken));break;case 4:this.te(t)&&(this.ee(t),r.$t(e.resumeToken));break;default:nt()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qt.forEach((r,s)=>{this.te(s)&&t(s)})}ne(e){var t;const r=e.targetId,s=e.Vt.count,u=this.se(r);if(u){const c=u.target;if(T0(c))if(0===s){const m=new Ze(c.path);this.Yt(r,m,zn.newNoDocument(m,wt.min()))}else mt(1===s);else{const m=this.ie(r);if(m!==s){const w=this.re(e,m);0!==w&&(this.ee(r),this.Wt=this.Wt.insert(r,2===w?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=OC.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,A,R){var V,G,le,Oe,ke,Je;const Tt={localCacheCount:A,existenceFilterCount:R.count},Mt=R.unchangedNames;return Mt&&(Tt.bloomFilter={applied:0===b,hashCount:null!==(V=Mt?.hashCount)&&void 0!==V?V:0,bitmapLength:null!==(Oe=null===(le=null===(G=Mt?.bits)||void 0===G?void 0:G.bitmap)||void 0===le?void 0:le.length)&&void 0!==Oe?Oe:0,padding:null!==(Je=null===(ke=Mt?.bits)||void 0===ke?void 0:ke.padding)&&void 0!==Je?Je:0}),Tt}(w,m,e.Vt))}}}}re(e,t){const{unchangedNames:r,count:s}=e.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:u="",padding:c=0},hashCount:m=0}=r;let w,b;try{w=Cl(u).toUint8Array()}catch(A){if(A instanceof g0)return Vs("Decoding the base64 bloom filter in existence filter failed ("+A.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw A}try{b=new FC(w,c,m)}catch(A){return Vs(A instanceof Vy?"BloomFilter error: ":"Applying bloom filter failed: ",A),1}return 0===b.It?1:s!==t-this.oe(e.targetId,b)?2:0}oe(e,t){const r=this.Gt.getRemoteKeysForTarget(e);let s=0;return r.forEach(u=>{const c=this.Gt.ue(),m=`projects/${c.projectId}/databases/${c.database}/documents/${u.path.canonicalString()}`;t.vt(m)||(this.Yt(e,u,null),s++)}),s}ce(e){const t=new Map;this.Qt.forEach((u,c)=>{const m=this.se(c);if(m){if(u.current&&T0(m.target)){const w=new Ze(m.target.path);null!==this.jt.get(w)||this.ae(c,w)||this.Yt(c,w,zn.newNoDocument(w,e))}u.Mt&&(t.set(c,u.Ot()),u.Ft())}});let r=Gt();this.zt.forEach((u,c)=>{let m=!0;c.forEachWhile(w=>{const b=this.se(w);return!b||"TargetPurposeLimboResolution"===b.purpose||(m=!1,!1)}),m&&(r=r.add(u))}),this.jt.forEach((u,c)=>c.setReadTime(e));const s=new Uy(e,t,this.Wt,this.jt,r);return this.jt=ls(),this.zt=v(),this.Wt=new On(Ut),s}Jt(e,t){if(!this.te(e))return;const r=this.ae(e,t.key)?2:0;this.Zt(e).Bt(t.key,r),this.jt=this.jt.insert(t.key,t),this.zt=this.zt.insert(t.key,this.he(t.key).add(e))}Yt(e,t,r){if(!this.te(e))return;const s=this.Zt(e);this.ae(e,t)?s.Bt(t,1):s.Lt(t),this.zt=this.zt.insert(t,this.he(t).delete(e)),r&&(this.jt=this.jt.insert(t,r))}removeTarget(e){this.Qt.delete(e)}ie(e){const t=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let t=this.Qt.get(e);return t||(t=new d,this.Qt.set(e,t)),t}he(e){let t=this.zt.get(e);return t||(t=new Bn(Ut),this.zt=this.zt.insert(e,t)),t}te(e){const t=null!==this.se(e);return t||Le("WatchChangeAggregator","Detected inactive target",e),t}se(e){const t=this.Qt.get(e);return t&&t.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new d),this.Gt.getRemoteKeysForTarget(e).forEach(t=>{this.Yt(e,t,null)})}ae(e,t){return this.Gt.getRemoteKeysForTarget(e).has(t)}}function v(){return new On(Ze.comparator)}function I(){return new On(Ze.comparator)}const D=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),S=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),N=(()=>({and:"AND",or:"OR"}))();class k{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function $(n,e){return n.useProto3Json||vy(e)?e:{value:e}}function Q(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Ee(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function Be(n,e){return Q(n,e.toTimestamp())}function Ve(n){return mt(!!n),wt.fromTimestamp(function(e){const t=ou(e);return new Gn(t.seconds,t.nanos)}(n))}function ut(n,e){return(t=n,new en(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function xt(n){const e=en.fromString(n);return mt(oM(e)),e}function Se(n,e){return ut(n.databaseId,e.path)}function Et(n,e){const t=xt(e);if(t.get(1)!==n.databaseId.projectId)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Ae(ue.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ze(By(t))}function an(n,e){return ut(n.databaseId,e)}function Ro(n){return new en(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function By(n){return mt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function jy(n,e,t){return{name:Se(n,e),fields:t.value.mapValue.fields}}function Hy(n,e){return{documents:[an(n,e.path)]}}function $T(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=an(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=an(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(w){if(0!==w.length)return sM(wn.create(w,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(w){if(0!==w.length)return w.map(b=>{return{field:qh((A=b).field),direction:h1(A.dir)};var A})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=$(n,e.limit);var m,w;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(m=e.startAt).inclusive,values:m.position}),e.endAt&&(t.structuredQuery.endAt={before:!(w=e.endAt).inclusive,values:w.position}),t}function rM(n){let e=function jn(n){const e=xt(n);return 4===e.length?en.emptyPath():By(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){mt(1===r);const A=t.from[0];A.allDescendants?s=A.collectionId:e=e.child(A.collectionId)}let u=[];t.where&&(u=function(A){const R=iM(A);return R instanceof wn&&dg(R)?R.getFilters():[R]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(A=>{return new cg(Gy((R=A).field),function(V){switch(V){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(R.direction));var R}));let m=null;t.limit&&(m=function(A){let R;return R="object"==typeof A?A.value:A,vy(R)?null:R}(t.limit));let w=null;var A;t.startAt&&(w=new Tl((A=t.startAt).values||[],!!A.before));let b=null;return t.endAt&&(b=function(A){return new Tl(A.values||[],!A.before)}(t.endAt)),function S0(n,e,t,r,s,u,c,m){return new uu(n,e,t,r,s,u,c,m)}(e,s,c,u,m,"F",w,b)}function iM(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Gy(e.unaryFilter.field);return Zt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Gy(e.unaryFilter.field);return Zt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gy(e.unaryFilter.field);return Zt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Gy(e.unaryFilter.field);return Zt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return nt()}}(n):void 0!==n.fieldFilter?Zt.create(Gy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nt()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return wn.create(e.compositeFilter.filters.map(t=>iM(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return nt()}}(e.compositeFilter.op))}(n):nt();var e}function h1(n){return D[n]}function f1(n){return S[n]}function p1(n){return N[n]}function qh(n){return{fieldPath:n.canonicalString()}}function Gy(n){return tr.fromServerFormat(n.fieldPath)}function sM(n){return n instanceof Zt?function(e){if("=="===e.op){if(iC(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NAN"}};if(AT(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(iC(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NOT_NAN"}};if(AT(e.value))return{unaryFilter:{field:qh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qh(e.field),op:f1(e.op),value:e.value}}}(n):n instanceof wn?function(e){const t=e.getFilters().map(r=>sM(r));return 1===t.length?t[0]:{compositeFilter:{op:p1(e.op),filters:t}}}(n):nt()}function g1(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function oM(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class od{constructor(e,t,r,s,u=wt.min(),c=wt.min(),m=Br.EMPTY_BYTE_STRING,w=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=w}withSequenceNumber(e){return new od(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new od(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class aM{constructor(e){this.fe=e}}function HT(n){const e=rM({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?mg(e,e.limit,"L"):e}class Cg{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(mr(e.integerValue));else if("doubleValue"in e){const r=mr(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),Bh(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(Cl(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?sC(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):nt()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const s of Object.keys(r))this.Te(s,t),this.me(r[s],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const s of r)this.me(s,t)}ve(e,t){this.ye(t,37),Ze.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}Cg.Ve=new Cg;class D1{constructor(){this.rn=new KT}addToCollectionParentIndex(e,t){return this.rn.add(t),ie.resolve()}getCollectionParents(e,t){return ie.resolve(this.rn.getEntries(t))}addFieldIndex(e,t){return ie.resolve()}deleteFieldIndex(e,t){return ie.resolve()}getDocumentsMatchingTarget(e,t){return ie.resolve(null)}getIndexType(e,t){return ie.resolve(0)}getFieldIndexes(e,t){return ie.resolve([])}getNextCollectionGroupToUpdate(e){return ie.resolve(null)}getMinOffset(e,t){return ie.resolve(Us.min())}getMinOffsetFromCollectionGroup(e,t){return ie.resolve(Us.min())}updateCollectionGroup(e,t,r){return ie.resolve()}updateIndexEntries(e,t){return ie.resolve()}}class KT{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Bn(en.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Bn(en.comparator)).toArray()}}class cs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class bg{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new bg(0)}static Mn(){return new bg(-1)}}class N1{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class OM{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&Gh(r.mutation,s,Zi.empty(),Gn.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Gt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Gt()){const s=ha();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let c=Ry();return u.forEach((m,w)=>{c=c.insert(m,w.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=ha();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Gt()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((c,m)=>{t.set(c,m)})})}computeViews(e,t,r,s){let u=ls();const c=yg(),m=yg();return t.forEach((w,b)=>{const A=r.get(b.key);s.has(b.key)&&(void 0===A||A.mutation instanceof fa)?u=u.insert(b.key,b):void 0!==A?(c.set(b.key,A.mutation.getFieldMask()),Gh(A.mutation,b,A.mutation.getFieldMask(),Gn.now())):c.set(b.key,Zi.empty())}),this.recalculateAndSaveOverlays(e,u).next(w=>(w.forEach((b,A)=>c.set(b,A)),t.forEach((b,A)=>{var R;return m.set(b,new N1(A,null!==(R=c.get(b))&&void 0!==R?R:null))}),m))}recalculateAndSaveOverlays(e,t){const r=yg();let s=new On((c,m)=>c-m),u=Gt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const m of c)m.keys().forEach(w=>{const b=t.get(w);if(null===b)return;let A=r.get(w)||Zi.empty();A=m.applyToLocalView(b,A),r.set(w,A);const R=(s.get(m.batchId)||Gt()).add(w);s=s.insert(m.batchId,R)})}).next(()=>{const c=[],m=s.getReverseIterator();for(;m.hasNext();){const w=m.getNext(),b=w.key,A=w.value,R=EC();A.forEach(V=>{if(!u.has(V)){const G=AC(t.get(V),r.get(V));null!==G&&R.set(V,G),u=u.add(V)}}),c.push(this.documentOverlayCache.saveOverlays(e,b,R))}return ie.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ze.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):vC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const c=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):ie.resolve(ha());let m=-1,w=u;return c.next(b=>ie.forEach(b,(A,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(A)?ie.resolve():this.remoteDocumentCache.getEntry(e,A).next(V=>{w=w.insert(A,V)}))).next(()=>this.populateOverlays(e,b,u)).next(()=>this.computeViews(e,w,b,Gt())).next(A=>({batchId:m,changes:N0(A)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ze(t)).next(r=>{let s=Ry();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=Ry();return this.indexManager.getCollectionParents(e,s).next(c=>ie.forEach(c,m=>{const w=(b=t,A=m.child(s),new uu(A,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,A;return this.getDocumentsMatchingCollectionQuery(e,w,r).next(b=>{b.forEach((A,R)=>{u=u.insert(A,R)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(u=>(s=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s))).next(u=>{s.forEach((m,w)=>{const b=w.getKey();null===u.get(b)&&(u=u.insert(b,zn.newInvalidDocument(b)))});let c=Ry();return u.forEach((m,w)=>{const b=s.get(m);void 0!==b&&Gh(b.mutation,w,Zi.empty(),Gn.now()),Al(t,w)&&(c=c.insert(m,w))}),c})}}class P1{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,t){return ie.resolve(this.cs.get(t))}saveBundleMetadata(e,t){var r;return this.cs.set(t.id,{id:(r=t).id,version:r.version,createTime:Ve(r.createTime)}),ie.resolve()}getNamedQuery(e,t){return ie.resolve(this.hs.get(t))}saveNamedQuery(e,t){return this.hs.set(t.name,{name:(r=t).name,query:HT(r.bundledQuery),readTime:Ve(r.readTime)}),ie.resolve();var r}}class O1{constructor(){this.overlays=new On(Ze.comparator),this.ls=new Map}getOverlay(e,t){return ie.resolve(this.overlays.get(t))}getOverlays(e,t){const r=ha();return ie.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.we(e,t,u)}),ie.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.ls.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.ls.delete(r)),ie.resolve()}getOverlaysForCollection(e,t,r){const s=ha(),u=t.length+1,c=new Ze(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const w=m.getNext().value,b=w.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===u&&w.largestBatchId>r&&s.set(w.getKey(),w)}return ie.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new On((b,A)=>b-A);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let A=u.get(b.largestBatchId);null===A&&(A=ha(),u=u.insert(b.largestBatchId,A)),A.set(b.getKey(),b)}}const m=ha(),w=u.getIterator();for(;w.hasNext()&&(w.getNext().value.forEach((b,A)=>m.set(b,A)),!(m.size()>=s)););return ie.resolve(m)}we(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const c=this.ls.get(s.largestBatchId).delete(r.key);this.ls.set(s.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new PC(t,r));let u=this.ls.get(t);void 0===u&&(u=Gt(),this.ls.set(t,u)),this.ls.set(t,u.add(r.key))}}class YT{constructor(){this.fs=new Bn(xi.ds),this.ws=new Bn(xi._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,t){const r=new xi(e,t);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ys(new xi(e,t))}ps(e,t){e.forEach(r=>this.removeReference(r,t))}Is(e){const t=new Ze(new en([])),r=new xi(t,e),s=new xi(t,e+1),u=[];return this.ws.forEachInRange([r,s],c=>{this.ys(c),u.push(c.key)}),u}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const t=new Ze(new en([])),r=new xi(t,e),s=new xi(t,e+1);let u=Gt();return this.ws.forEachInRange([r,s],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new xi(e,0),r=this.fs.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class xi{constructor(e,t){this.key=e,this.As=t}static ds(e,t){return Ze.comparator(e.key,t.key)||Ut(e.As,t.As)}static _s(e,t){return Ut(e.As,t.As)||Ze.comparator(e.key,t.key)}}class k1{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.vs=1,this.Rs=new Bn(xi.ds)}checkEmpty(e){return ie.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.vs;this.vs++;const c=new F0(u,t,r,s);this.mutationQueue.push(c);for(const m of s)this.Rs=this.Rs.add(new xi(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return ie.resolve(c)}lookupMutationBatch(e,t){return ie.resolve(this.Ps(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.bs(t+1),u=s<0?0:s;return ie.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return ie.resolve(0===this.mutationQueue.length?-1:this.vs-1)}getAllMutationBatches(e){return ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new xi(t,0),s=new xi(t,Number.POSITIVE_INFINITY),u=[];return this.Rs.forEachInRange([r,s],c=>{const m=this.Ps(c.As);u.push(m)}),ie.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Bn(Ut);return t.forEach(s=>{const u=new xi(s,0),c=new xi(s,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([u,c],m=>{r=r.add(m.As)})}),ie.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;Ze.isDocumentKey(u)||(u=u.child(""));const c=new xi(new Ze(u),0);let m=new Bn(Ut);return this.Rs.forEachWhile(w=>{const b=w.key.path;return!!r.isPrefixOf(b)&&(b.length===s&&(m=m.add(w.As)),!0)},c),ie.resolve(this.Vs(m))}Vs(e){const t=[];return e.forEach(r=>{const s=this.Ps(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){mt(0===this.Ss(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return ie.forEach(t.mutations,s=>{const u=new xi(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Rs=r})}Cn(e){}containsKey(e,t){const r=new xi(t,0),s=this.Rs.firstAfterOrEqual(r);return ie.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return ie.resolve()}Ss(e,t){return this.bs(e)}bs(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Ps(e){const t=this.bs(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class F1{constructor(e){this.Ds=e,this.docs=new On(Ze.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,c=this.Ds(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ie.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(t))}getEntries(e,t){let r=ls();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():zn.newInvalidDocument(s))}),ie.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let u=ls();const c=t.path,m=new Ze(c.child("")),w=this.docs.getIteratorFrom(m);for(;w.hasNext();){const{key:b,value:{document:A}}=w.getNext();if(!c.isPrefixOf(b.path))break;b.path.length>c.length+1||s0(zI(A),r)<=0||(s.has(A.key)||Al(t,A))&&(u=u.insert(A.key,A.mutableCopy()))}return ie.resolve(u)}getAllFromCollectionGroup(e,t,r,s){nt()}Cs(e,t){return ie.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new L1(this)}getSize(e){return ie.resolve(this.size)}}class L1 extends class xM{constructor(){this.changes=new da(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?ie.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}{constructor(e){super(),this.os=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.os.addEntry(e,s)):this.os.removeEntry(r)}),ie.waitFor(t)}getFromCache(e,t){return this.os.getEntry(e,t)}getAllFromCache(e,t){return this.os.getEntries(e,t)}}class V1{constructor(e){this.persistence=e,this.xs=new da(t=>Ki(t),fg),this.lastRemoteSnapshotVersion=wt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new YT,this.targetCount=0,this.Ms=bg.kn()}forEachTarget(e,t){return this.xs.forEach((r,s)=>t(s)),ie.resolve()}getLastRemoteSnapshotVersion(e){return ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ie.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),ie.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Ns&&(this.Ns=t),ie.resolve()}Fn(e){this.xs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Ms=new bg(t),this.highestTargetId=t),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,t){return this.Fn(t),this.targetCount+=1,ie.resolve()}updateTargetData(e,t){return this.Fn(t),ie.resolve()}removeTargetData(e,t){return this.xs.delete(t.target),this.ks.Is(t.targetId),this.targetCount-=1,ie.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.xs.forEach((c,m)=>{m.sequenceNumber<=t&&null===r.get(m.targetId)&&(this.xs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),s++)}),ie.waitFor(u).next(()=>s)}getTargetCount(e){return ie.resolve(this.targetCount)}getTargetData(e,t){const r=this.xs.get(t)||null;return ie.resolve(r)}addMatchingKeys(e,t,r){return this.ks.gs(t,r),ie.resolve()}removeMatchingKeys(e,t,r){this.ks.ps(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(c=>{u.push(s.markPotentiallyOrphaned(e,c))}),ie.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.ks.Is(t),ie.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ks.Es(t);return ie.resolve(r)}containsKey(e,t){return ie.resolve(this.ks.containsKey(t))}}class QT{constructor(e,t){this.$s={},this.overlays={},this.Os=new to(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new V1(this),this.indexManager=new D1,this.remoteDocumentCache=new F1(r=>this.referenceDelegate.Ls(r)),this.serializer=new aM(t),this.qs=new P1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new O1,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.$s[e.toKey()];return r||(r=new k1(t,this.referenceDelegate),this.$s[e.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,t,r){Le("MemoryPersistence","Starting transaction:",e);const s=new U1(this.Os.next());return this.referenceDelegate.Us(),r(s).next(u=>this.referenceDelegate.Ks(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Gs(e,t){return ie.or(Object.values(this.$s).map(r=>()=>r.containsKey(e,t)))}}class U1 extends class yy{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}{constructor(e){super(),this.currentSequenceNumber=e}}class zC{constructor(e){this.persistence=e,this.Qs=new YT,this.js=null}static zs(e){return new zC(e)}get Ws(){if(this.js)return this.js;throw nt()}addReference(e,t,r){return this.Qs.addReference(r,t),this.Ws.delete(r.toString()),ie.resolve()}removeReference(e,t,r){return this.Qs.removeReference(r,t),this.Ws.add(r.toString()),ie.resolve()}markPotentiallyOrphaned(e,t){return this.Ws.add(t.toString()),ie.resolve()}removeTarget(e,t){this.Qs.Is(t.targetId).forEach(s=>this.Ws.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ws.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}Us(){this.js=new Set}Ks(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ie.forEach(this.Ws,r=>{const s=Ze.fromPath(r);return this.Hs(e,s).next(u=>{u||t.removeEntry(s,wt.min())})}).next(()=>(this.js=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hs(e,t).next(r=>{r?this.Ws.delete(t.toString()):this.Ws.add(t.toString())})}Ls(e){return 0}Hs(e,t){return ie.or([()=>ie.resolve(this.Qs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Gs(e,t)])}}class tS{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Fi=r,this.Bi=s}static Li(e,t){let r=Gt(),s=Gt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new tS(e,t.fromCache,r,s)}}class FM{constructor(){this.qi=!1}initialize(e,t){this.Ui=e,this.indexManager=t,this.qi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.Ki(e,t).next(u=>u||this.Gi(e,t,s,r)).next(u=>u||this.Qi(e,t))}Ki(e,t){if(A0(t))return ie.resolve(null);let r=Ai(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=mg(t,null,"F"),r=Ai(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=Gt(...u);return this.Ui.getDocuments(e,c).next(m=>this.indexManager.getMinOffset(e,r).next(w=>{const b=this.ji(t,m);return this.zi(t,b,c,w.readTime)?this.Ki(e,mg(t,null,"F")):this.Wi(e,b,t,w)}))})))}Gi(e,t,r,s){return A0(t)||s.isEqual(wt.min())?this.Qi(e,t):this.Ui.getDocuments(e,r).next(u=>{const c=this.ji(t,u);return this.zi(t,c,r,s)?this.Qi(e,t):(J_()<=oa.in.DEBUG&&Le("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Hh(t)),this.Wi(e,c,t,function GI(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=wt.fromTimestamp(1e9===r?new Gn(t+1,0):new Gn(t,r));return new Us(s,Ze.empty(),e)}(s,-1)))})}ji(e,t){let r=new Bn(_C(e));return t.forEach((s,u)=>{Al(e,u)&&(r=r.add(u))}),r}zi(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Qi(e,t){return J_()<=oa.in.DEBUG&&Le("QueryEngine","Using full collection scan to execute query:",Hh(t)),this.Ui.getDocumentsMatchingQuery(e,t,Us.min())}Wi(e,t,r,s){return this.Ui.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class j1{constructor(e,t,r,s){this.persistence=e,this.Hi=t,this.serializer=s,this.Ji=new On(Ut),this.Yi=new da(u=>Ki(u),fg),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(r)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new OM(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ji))}}function VM(n,e){return nS.apply(this,arguments)}function nS(){return nS=(0,_e.Z)(function*(n,e){const t=Ye(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.tr(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],m=[];let w=Gt();for(const b of s){c.push(b.batchId);for(const A of b.mutations)w=w.add(A.key)}for(const b of u){m.push(b.batchId);for(const A of b.mutations)w=w.add(A.key)}return t.localDocuments.getDocuments(r,w).next(b=>({er:b,removedBatchIds:c,addedBatchIds:m}))})})}),nS.apply(this,arguments)}function $1(n,e){const t=Ye(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Zi.newChangeBuffer({trackRemovals:!0});return function(c,m,w,b){const A=w.batch,R=A.keys();let V=ie.resolve();return R.forEach(G=>{V=V.next(()=>b.getEntry(m,G)).next(le=>{const Oe=w.docVersions.get(G);mt(null!==Oe),le.version.compareTo(Oe)<0&&(A.applyToRemoteDocument(le,w),le.isValidDocument()&&(le.setReadTime(w.commitVersion),b.addEntry(le)))})}),V.next(()=>c.mutationQueue.removeMutationBatch(m,A))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let m=Gt();for(let w=0;w<c.mutationResults.length;++w)c.mutationResults[w].transformResults.length>0&&(m=m.add(c.batch.mutations[w].key));return m}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function UM(n){const e=Ye(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Bs.getLastRemoteSnapshotVersion(t))}function H1(n,e){const t=Ye(n),r=e.snapshotVersion;let s=t.Ji;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Zi.newChangeBuffer({trackRemovals:!0});s=t.Ji;const m=[];e.targetChanges.forEach((A,R)=>{const V=s.get(R);if(!V)return;m.push(t.Bs.removeMatchingKeys(u,A.removedDocuments,R).next(()=>t.Bs.addMatchingKeys(u,A.addedDocuments,R)));let G=V.withSequenceNumber(u.currentSequenceNumber);var le,Oe,ke;null!==e.targetMismatches.get(R)?G=G.withResumeToken(Br.EMPTY_BYTE_STRING,wt.min()).withLastLimboFreeSnapshotVersion(wt.min()):A.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(A.resumeToken,r)),s=s.insert(R,G),Oe=G,ke=A,(0===(le=V).resumeToken.approximateByteSize()||Oe.snapshotVersion.toMicroseconds()-le.snapshotVersion.toMicroseconds()>=3e8||ke.addedDocuments.size+ke.modifiedDocuments.size+ke.removedDocuments.size>0)&&m.push(t.Bs.updateTargetData(u,G))});let w=ls(),b=Gt();if(e.documentUpdates.forEach(A=>{e.resolvedLimboDocuments.has(A)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(u,A))}),m.push(function BM(n,e,t){let r=Gt(),s=Gt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=ls();return t.forEach((m,w)=>{const b=u.get(m);w.isFoundDocument()!==b.isFoundDocument()&&(s=s.add(m)),w.isNoDocument()&&w.version.isEqual(wt.min())?(e.removeEntry(m,w.readTime),c=c.insert(m,w)):!b.isValidDocument()||w.version.compareTo(b.version)>0||0===w.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(w),c=c.insert(m,w)):Le("LocalStore","Ignoring outdated watch update for ",m,". Current version:",b.version," Watch version:",w.version)}),{nr:c,sr:s}})}(u,c,e.documentUpdates).next(A=>{w=A.nr,b=A.sr})),!r.isEqual(wt.min())){const A=t.Bs.getLastRemoteSnapshotVersion(u).next(R=>t.Bs.setTargetsMetadata(u,u.currentSequenceNumber,r));m.push(A)}return ie.waitFor(m).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,w,b)).next(()=>w)}).then(u=>(t.Ji=s,u))}function G1(n,e){const t=Ye(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Wy(n,e){const t=Ye(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Bs.getTargetData(r,e).next(u=>u?(s=u,ie.resolve(s)):t.Bs.allocateTargetId(r).next(c=>(s=new od(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Bs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.Ji.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ji=t.Ji.insert(r.targetId,r),t.Yi.set(e,r.targetId)),r})}function Zy(n,e,t){return rS.apply(this,arguments)}function rS(){return rS=(0,_e.Z)(function*(n,e,t){const r=Ye(n),s=r.Ji.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,s)))}catch(c){if(!El(c))throw c;Le("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Ji=r.Ji.remove(e),r.Yi.delete(s.target)}),rS.apply(this,arguments)}function ZC(n,e,t){const r=Ye(n);let s=wt.min(),u=Gt();return r.persistence.runTransaction("Execute query","readonly",c=>function(m,w,b){const A=Ye(m),R=A.Yi.get(b);return void 0!==R?ie.resolve(A.Ji.get(R)):A.Bs.getTargetData(w,b)}(r,c,Ai(e)).next(m=>{if(m)return s=m.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(c,m.targetId).next(w=>{u=w})}).next(()=>r.Hi.getDocumentsMatchingQuery(c,e,t?s:wt.min(),t?u:Gt())).next(m=>(function HM(n,e,t){let r=n.Xi.get(e)||wt.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Xi.set(e,r)}(r,function R0(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),m),{documents:m,ir:u})))}class uS{constructor(){this.activeTargetIds=function IC(){return eM}()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qM{constructor(){this.Hr=new uS,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,t,r){this.Jr[e]=t}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new uS,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class W1{Yr(e){}shutdown(){}}class WM{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let QC=null;function cS(){return null===QC?QC=268435456+Math.round(2147483648*Math.random()):QC++,"0x"+QC.toString(16)}const Z1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class K1{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}const ds="WebChannelConnection";class Y1 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.mo=(e.ssl?"https":"http")+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,t,r,s,u){const c=cS(),m=this.To(e,t);Le("RestConnection",`Sending RPC '${e}' ${c}:`,m,r);const w={};return this.Eo(w,s,u),this.Ao(e,m,w,r).then(b=>(Le("RestConnection",`Received RPC '${e}' ${c}: `,b),b),b=>{throw Vs("RestConnection",`RPC '${e}' ${c} failed with error: `,b,"url: ",m,"request:",r),b})}vo(e,t,r,s,u,c){return this.Io(e,t,r,s,u)}Eo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Lh,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}To(e,t){return`${this.mo}/v1/${t}:${Z1[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,t,r,s){const u=cS();return new Promise((c,m)=>{const w=new pT;w.setWithCredentials(!0),w.listenOnce(Gx.COMPLETE,()=>{try{switch(w.getLastErrorCode()){case LI.NO_ERROR:const A=w.getResponseJson();Le(ds,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(A)),c(A);break;case LI.TIMEOUT:Le(ds,`RPC '${e}' ${u} timed out`),m(new Ae(ue.DEADLINE_EXCEEDED,"Request time out"));break;case LI.HTTP_ERROR:const R=w.getStatus();if(Le(ds,`RPC '${e}' ${u} failed with status:`,R,"response text:",w.getResponseText()),R>0){let V=w.getResponseJson();Array.isArray(V)&&(V=V[0]);const G=V?.error;if(G&&G.status&&G.message){const le=function(Oe){const ke=Oe.toLowerCase().replace(/_/g,"-");return Object.values(ue).indexOf(ke)>=0?ke:ue.UNKNOWN}(G.status);m(new Ae(le,G.message))}else m(new Ae(ue.UNKNOWN,"Server responded with status "+w.getStatus()))}else m(new Ae(ue.UNAVAILABLE,"Connection failed."));break;default:nt()}}finally{Le(ds,`RPC '${e}' ${u} completed.`)}});const b=JSON.stringify(s);Le(ds,`RPC '${e}' ${u} sending request:`,s),w.send(t,"POST",b,r,15)})}Ro(e,t,r){const s=cS(),u=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=cT(),m=dT(),w={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;void 0!==b&&(w.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(w.xmlHttpFactory=new fT({})),this.Eo(w.initMessageHeaders,t,r),w.encodeInitMessageHeaders=!0;const A=u.join("");Le(ds,`Creating RPC '${e}' stream ${s}: ${A}`,w);const R=c.createWebChannel(A,w);let V=!1,G=!1;const le=new K1({ro:ke=>{G?Le(ds,`Not sending because RPC '${e}' stream ${s} is closed:`,ke):(V||(Le(ds,`Opening RPC '${e}' stream ${s} transport.`),R.open(),V=!0),Le(ds,`RPC '${e}' stream ${s} sending:`,ke),R.send(ke))},oo:()=>R.close()}),Oe=(ke,Je,Tt)=>{ke.listen(Je,Mt=>{try{Tt(Mt)}catch(Bt){setTimeout(()=>{throw Bt},0)}})};return Oe(R,fy.EventType.OPEN,()=>{G||Le(ds,`RPC '${e}' stream ${s} transport opened.`)}),Oe(R,fy.EventType.CLOSE,()=>{G||(G=!0,Le(ds,`RPC '${e}' stream ${s} transport closed`),le.wo())}),Oe(R,fy.EventType.ERROR,ke=>{G||(G=!0,Vs(ds,`RPC '${e}' stream ${s} transport errored:`,ke),le.wo(new Ae(ue.UNAVAILABLE,"The operation could not be completed")))}),Oe(R,fy.EventType.MESSAGE,ke=>{var Je;if(!G){const Tt=ke.data[0];mt(!!Tt);const Mt=Tt,Bt=Mt.error||(null===(Je=Mt[0])||void 0===Je?void 0:Je.error);if(Bt){Le(ds,`RPC '${e}' stream ${s} received error:`,Bt);const Kt=Bt.status;let un=function(Og){const s1=Sr[Og];if(void 0!==s1)return UT(s1)}(Kt),hs=Bt.message;void 0===un&&(un=ue.INTERNAL,hs="Unknown error status: "+Kt+" with message "+Bt.message),G=!0,le.wo(new Ae(un,hs)),R.close()}else Le(ds,`RPC '${e}' stream ${s} received:`,Tt),le._o(Tt)}}),Oe(m,hT.STAT_EVENT,ke=>{ke.stat===VI.PROXY?Le(ds,`RPC '${e}' stream ${s} detected buffering proxy`):ke.stat===VI.NOPROXY&&Le(ds,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{le.fo()},0),le}}function JC(){return typeof document<"u"?document:null}function K0(n){return new k(n,!0)}class dS{constructor(e,t,r=1e3,s=1.5,u=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=s,this.Vo=u,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),s=Math.max(0,t-r);s>0&&Le("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,s,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class KM{constructor(e,t,r,s,u,c,m,w){this.ii=e,this.$o=r,this.Oo=s,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=w,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new dS(e,t)}Uo(){return 1===this.state||5===this.state||this.Ko()}Ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Go()}stop(){var e=this;return(0,_e.Z)(function*(){e.Uo()&&(yield e.close(0))})()}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&null===this.Bo&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}zo(){var e=this;return(0,_e.Z)(function*(){if(e.Ko())return e.close(0)})()}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}close(e,t){var r=this;return(0,_e.Z)(function*(){r.Ho(),r.Jo(),r.qo.cancel(),r.Fo++,4!==e?r.qo.reset():t&&t.code===ue.RESOURCE_EXHAUSTED?(cr(t.toString()),cr("Using maximum backoff delay to prevent overloading the backend."),r.qo.xo()):t&&t.code===ue.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Yo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.ao(t)})()}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),t=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.Fo===t&&this.Zo(r,s)},r=>{e(()=>{const s=new Ae(ue.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(s)})})}Zo(e,t){const r=this.Xo(this.Fo);this.stream=this.eu(e,t),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(s=>{r(()=>this.tu(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Go(){var e=this;this.state=5,this.qo.No((0,_e.Z)(function*(){e.state=0,e.start()}))}tu(e){return Le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget(()=>this.Fo===e?t():(Le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Q1 extends KM{constructor(e,t,r,s,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,c),this.serializer=u}eu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.qo.reset();const t=function U0(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(w=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===w?1:"REMOVE"===w?2:"CURRENT"===w?3:"RESET"===w?4:nt(),s=e.targetChange.targetIds||[],u=function(w,b){return w.useProto3Json?(mt(void 0===b||"string"==typeof b),Br.fromBase64String(b||"")):(mt(void 0===b||b instanceof Uint8Array),Br.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&function(w){const b=void 0===w.code?ue.UNKNOWN:UT(w.code);return new Ae(b,w.message||"")}(c);t=new l(r,s,u,m||null)}else if("documentChange"in e){const r=e.documentChange,s=Et(n,r.document.name),u=Ve(r.document.updateTime),c=r.document.createTime?Ve(r.document.createTime):wt.min(),m=new fi({mapValue:{fields:r.document.fields}}),w=zn.newFoundDocument(s,u,c,m);t=new o(r.targetIds||[],r.removedTargetIds||[],w.key,w)}else if("documentDelete"in e){const r=e.documentDelete,s=Et(n,r.document),u=r.readTime?Ve(r.readTime):wt.min(),c=zn.newNoDocument(s,u);t=new o([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,s=Et(n,r.document);t=new o([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return nt();{const r=e.filter,{count:s=0,unchangedNames:u}=r,c=new LT(s,u);t=new a(r.targetId,c)}}var w;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return wt.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?wt.min():u.readTime?Ve(u.readTime):wt.min()}(e);return this.listener.nu(t,r)}su(e){const t={};t.database=Ro(this.serializer),t.addTarget=function(s,u){let c;const m=u.target;if(c=T0(m)?{documents:Hy(s,m)}:{query:$T(s,m)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){c.resumeToken=Ee(s,u.resumeToken);const w=$(s,u.expectedCount);null!==w&&(c.expectedCount=w)}else if(u.snapshotVersion.compareTo(wt.min())>0){c.readTime=Q(s,u.snapshotVersion.toTimestamp());const w=$(s,u.expectedCount);null!==w&&(c.expectedCount=w)}return c}(this.serializer,e);const r=function d1(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return nt()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Wo(t)}iu(e){const t={};t.database=Ro(this.serializer),t.removeTarget=e,this.Wo(t)}}class J1 extends KM{constructor(e,t,r,s,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,c),this.serializer=u,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const t=function B0(n,e){return n&&n.length>0?(mt(void 0!==e),n.map(t=>function(r,s){let u=Ve(r.updateTime?r.updateTime:s);return u.isEqual(wt.min())&&(u=Ve(s)),new SC(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Ve(e.commitTime);return this.listener.cu(r,t)}return mt(!e.writeResults||0===e.writeResults.length),this.ru=!0,this.listener.au()}hu(){const e={};e.database=Ro(this.serializer),this.Wo(e)}uu(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function sd(n,e){let t;if(e instanceof zh)t={update:jy(n,e.key,e.value)};else if(e instanceof Ml)t={delete:Se(n,e.key)};else if(e instanceof fa)t={update:jy(n,e.key,e.data),updateMask:g1(e.fieldMask)};else{if(!(e instanceof k0))return nt();t={verify:Se(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const c=u.transform;if(c instanceof xl)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof cu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof du)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof hu)return{fieldPath:u.field.canonicalString(),increment:c.gt};throw nt()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:Be(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:nt()),t;var s}(this.serializer,r))};this.Wo(t)}}class X1 extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.lu=!1}fu(){if(this.lu)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,t,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.Io(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ae(ue.UNKNOWN,s.toString())})}vo(e,t,r,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection.vo(e,t,r,u,c,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ue.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ae(ue.UNKNOWN,u.toString())})}terminate(){this.lu=!0}}class tP{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){0===this.wu&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){"Online"===this.state?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,"Online"===e&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(cr(t),this.mu=!1):Le("OnlineStateTracker",t)}Tu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class nP{constructor(e,t,r,s,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=u,this.Pu.Yr(m=>{r.enqueueAndForget((0,_e.Z)(function*(){var w;Yh(c)&&(Le("RemoteStore","Restarting streams for network reachability change."),yield(w=(0,_e.Z)(function*(b){const A=Ye(b);A.vu.add(4),yield Ky(A),A.bu.set("Unknown"),A.vu.delete(4),yield Y0(A)}),function(b){return w.apply(this,arguments)})(c))}))}),this.bu=new tP(r,s)}}function Y0(n){return fS.apply(this,arguments)}function fS(){return fS=(0,_e.Z)(function*(n){if(Yh(n))for(const e of n.Ru)yield e(!0)}),fS.apply(this,arguments)}function Ky(n){return pS.apply(this,arguments)}function pS(){return pS=(0,_e.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),pS.apply(this,arguments)}function XC(n,e){const t=Ye(n);t.Au.has(e.targetId)||(t.Au.set(e.targetId,e),yS(t)?mS(t):Qy(t).Ko()&&gS(t,e))}function Q0(n,e){const t=Ye(n),r=Qy(t);t.Au.delete(e),r.Ko()&&YM(t,e),0===t.Au.size&&(r.Ko()?r.jo():Yh(t)&&t.bu.set("Unknown"))}function gS(n,e){if(n.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(wt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Qy(n).su(e)}function YM(n,e){n.Vu.qt(e),Qy(n).iu(e)}function mS(n){n.Vu=new g({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),le:e=>n.Au.get(e)||null,ue:()=>n.datastore.serializer.databaseId}),Qy(n).start(),n.bu.gu()}function yS(n){return Yh(n)&&!Qy(n).Uo()&&n.Au.size>0}function Yh(n){return 0===Ye(n).vu.size}function QM(n){n.Vu=void 0}function rP(n){return vS.apply(this,arguments)}function vS(){return vS=(0,_e.Z)(function*(n){n.Au.forEach((e,t)=>{gS(n,e)})}),vS.apply(this,arguments)}function iP(n,e){return _S.apply(this,arguments)}function _S(){return _S=(0,_e.Z)(function*(n,e){QM(n),yS(n)?(n.bu.Iu(e),mS(n)):n.bu.set("Unknown")}),_S.apply(this,arguments)}function sP(n,e,t){return wS.apply(this,arguments)}function wS(){return wS=(0,_e.Z)(function*(n,e,t){if(n.bu.set("Online"),e instanceof l&&2===e.state&&e.cause)try{yield(r=(0,_e.Z)(function*(s,u){const c=u.cause;for(const m of u.targetIds)s.Au.has(m)&&(yield s.remoteSyncer.rejectListen(m,c),s.Au.delete(m),s.Vu.removeTarget(m))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield eD(n,r)}else if(e instanceof o?n.Vu.Ht(e):e instanceof a?n.Vu.ne(e):n.Vu.Xt(e),!t.isEqual(wt.min()))try{const r=yield UM(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const c=s.Vu.ce(u);return c.targetChanges.forEach((m,w)=>{if(m.resumeToken.approximateByteSize()>0){const b=s.Au.get(w);b&&s.Au.set(w,b.withResumeToken(m.resumeToken,u))}}),c.targetMismatches.forEach((m,w)=>{const b=s.Au.get(m);if(!b)return;s.Au.set(m,b.withResumeToken(Br.EMPTY_BYTE_STRING,b.snapshotVersion)),YM(s,m);const A=new od(b.target,m,w,b.sequenceNumber);gS(s,A)}),s.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Le("RemoteStore","Failed to raise snapshot:",r),yield eD(n,r)}var r}),wS.apply(this,arguments)}function eD(n,e,t){return ES.apply(this,arguments)}function ES(){return ES=(0,_e.Z)(function*(n,e,t){if(!El(e))throw e;n.vu.add(1),yield Ky(n),n.bu.set("Offline"),t||(t=()=>UM(n.localStore)),n.asyncQueue.enqueueRetryable((0,_e.Z)(function*(){Le("RemoteStore","Retrying IndexedDB access"),yield t(),n.vu.delete(1),yield Y0(n)}))}),ES.apply(this,arguments)}function JM(n,e){return e().catch(t=>eD(n,t,e))}function Yy(n){return IS.apply(this,arguments)}function IS(){return IS=(0,_e.Z)(function*(n){const e=Ye(n),t=Qh(e);let r=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;oP(e);)try{const s=yield G1(e.localStore,r);if(null===s){0===e.Eu.length&&t.jo();break}r=s.batchId,aP(e,s)}catch(s){yield eD(e,s)}XM(e)&&eR(e)}),IS.apply(this,arguments)}function oP(n){return Yh(n)&&n.Eu.length<10}function aP(n,e){n.Eu.push(e);const t=Qh(n);t.Ko()&&t.ou&&t.uu(e.mutations)}function XM(n){return Yh(n)&&!Qh(n).Uo()&&n.Eu.length>0}function eR(n){Qh(n).start()}function uP(n){return CS.apply(this,arguments)}function CS(){return CS=(0,_e.Z)(function*(n){Qh(n).hu()}),CS.apply(this,arguments)}function lP(n){return DS.apply(this,arguments)}function DS(){return DS=(0,_e.Z)(function*(n){const e=Qh(n);for(const t of n.Eu)e.uu(t.mutations)}),DS.apply(this,arguments)}function cP(n,e,t){return bS.apply(this,arguments)}function bS(){return bS=(0,_e.Z)(function*(n,e,t){const r=n.Eu.shift(),s=NC.from(r,e,t);yield JM(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Yy(n)}),bS.apply(this,arguments)}function dP(n,e){return TS.apply(this,arguments)}function TS(){return TS=(0,_e.Z)(function*(n,e){var t;e&&Qh(n).ou&&(yield(t=(0,_e.Z)(function*(r,s){if(VT(u=s.code)&&u!==ue.ABORTED){const c=r.Eu.shift();Qh(r).Qo(),yield JM(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,s)),yield Yy(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),XM(n)&&eR(n)}),TS.apply(this,arguments)}function tR(n,e){return SS.apply(this,arguments)}function SS(){return SS=(0,_e.Z)(function*(n,e){const t=Ye(n);t.asyncQueue.verifyOperationInProgress(),Le("RemoteStore","RemoteStore received new credentials");const r=Yh(t);t.vu.add(3),yield Ky(t),r&&t.bu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.vu.delete(3),yield Y0(t)}),SS.apply(this,arguments)}function xS(){return xS=(0,_e.Z)(function*(n,e){const t=Ye(n);e?(t.vu.delete(2),yield Y0(t)):e||(t.vu.add(2),yield Ky(t),t.bu.set("Unknown"))}),xS.apply(this,arguments)}function Qy(n){return n.Su||(n.Su=function(e,t,r){const s=Ye(e);return s.fu(),new Q1(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:rP.bind(null,n),ao:iP.bind(null,n),nu:sP.bind(null,n)}),n.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Su.Qo(),yS(n)?mS(n):n.bu.set("Unknown")):(yield n.Su.stop(),QM(n))});return function(t){return e.apply(this,arguments)}}())),n.Su}function Qh(n){return n.Du||(n.Du=function(e,t,r){const s=Ye(e);return s.fu(),new J1(t,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(n.datastore,n.asyncQueue,{uo:uP.bind(null,n),ao:dP.bind(null,n),au:lP.bind(null,n),cu:cP.bind(null,n)}),n.Ru.push(function(){var e=(0,_e.Z)(function*(t){t?(n.Du.Qo(),yield Yy(n)):(yield n.Du.stop(),n.Eu.length>0&&(Le("RemoteStore",`Stopping write stream with ${n.Eu.length} pending writes`),n.Eu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Du}class MS{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new Vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,s,u){const c=Date.now()+r,m=new MS(e,t,c,s,u);return m.start(r),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ae(ue.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jy(n,e){if(cr("AsyncQueue",`${e}: ${n}`),El(n))return new Ae(ue.UNAVAILABLE,`${e}: ${n}`);throw n}class Xy{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ze.comparator(t.key,r.key):(t,r)=>Ze.comparator(t.key,r.key),this.keyedMap=Ry(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new Xy(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Xy)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Xy;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class nR{constructor(){this.Cu=new On(Ze.comparator)}track(e){const t=e.doc.key,r=this.Cu.get(t);r?0!==e.type&&3===r.type?this.Cu=this.Cu.insert(t,e):3===e.type&&1!==r.type?this.Cu=this.Cu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Cu=this.Cu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Cu=this.Cu.remove(t):1===e.type&&2===r.type?this.Cu=this.Cu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Cu=this.Cu.insert(t,{type:2,doc:e.doc}):nt():this.Cu=this.Cu.insert(t,e)}xu(){const e=[];return this.Cu.inorderTraversal((t,r)=>{e.push(r)}),e}}class ev{constructor(e,t,r,s,u,c,m,w,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=w,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,s,u){const c=[];return t.forEach(m=>{c.push({type:0,doc:m})}),new ev(e,t,Xy.emptySet(t),c,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$h(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class hP{constructor(){this.Nu=void 0,this.listeners=[]}}class fP{constructor(){this.queries=new da(e=>M0(e),$h),this.onlineState="Unknown",this.ku=new Set}}function RS(n,e){return NS.apply(this,arguments)}function NS(){return NS=(0,_e.Z)(function*(n,e){const t=Ye(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new hP),s)try{u.Nu=yield t.onListen(r)}catch(c){const m=Jy(c,`Initialization of query '${Hh(e.query)}' failed`);return void e.onError(m)}t.queries.set(r,u),u.listeners.push(e),e.Mu(t.onlineState),u.Nu&&e.$u(u.Nu)&&kS(t)}),NS.apply(this,arguments)}function PS(n,e){return OS.apply(this,arguments)}function OS(){return OS=(0,_e.Z)(function*(n,e){const t=Ye(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),OS.apply(this,arguments)}function pP(n,e){const t=Ye(n);let r=!1;for(const s of e){const c=t.queries.get(s.query);if(c){for(const m of c.listeners)m.$u(s)&&(r=!0);c.Nu=s}}r&&kS(t)}function gP(n,e,t){const r=Ye(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function kS(n){n.ku.forEach(e=>{e.next()})}class FS{constructor(e,t,r){this.query=e,this.Ou=t,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new ev(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),t=!0):this.qu(e,this.onlineState)&&(this.Uu(e),t=!0),this.Bu=e,t}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let t=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),t=!0),t}qu(e,t){return!e.fromCache||(!this.options.Ku||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Lu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Uu(e){e=ev.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}class sR{constructor(e){this.key=e}}class oR{constructor(e){this.key=e}}class aR{constructor(e,t){this.query=e,this.Yu=t,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Gt(),this.mutatedKeys=Gt(),this.tc=_C(e),this.ec=new Xy(this.tc)}get nc(){return this.Yu}sc(e,t){const r=t?t.ic:new nR,s=t?t.ec:this.ec;let u=t?t.mutatedKeys:this.mutatedKeys,c=s,m=!1;const w="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,b="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((A,R)=>{const V=s.get(A),G=Al(this.query,R)?R:null,le=!!V&&this.mutatedKeys.has(V.key),Oe=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let ke=!1;V&&G?V.data.isEqual(G.data)?le!==Oe&&(r.track({type:3,doc:G}),ke=!0):this.rc(V,G)||(r.track({type:2,doc:G}),ke=!0,(w&&this.tc(G,w)>0||b&&this.tc(G,b)<0)&&(m=!0)):!V&&G?(r.track({type:0,doc:G}),ke=!0):V&&!G&&(r.track({type:1,doc:V}),ke=!0,(w||b)&&(m=!0)),ke&&(G?(c=c.add(G),u=Oe?u.add(A):u.delete(A)):(c=c.delete(A),u=u.delete(A)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const A="F"===this.query.limitType?c.last():c.first();c=c.delete(A.key),u=u.delete(A.key),r.track({type:1,doc:A})}return{ec:c,ic:r,zi:m,mutatedKeys:u}}rc(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const u=e.ic.xu();u.sort((b,A)=>function(R,V){const G=le=>{switch(le){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nt()}};return G(R)-G(V)}(b.type,A.type)||this.tc(b.doc,A.doc)),this.oc(r);const c=t?this.uc():[],m=0===this.Zu.size&&this.current?1:0,w=m!==this.Xu;return this.Xu=m,0!==u.length||w?{snapshot:new ev(this.query,e.ec,s,u,e.mutatedKeys,0===m,w,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:c}:{cc:c}}Mu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ec:this.ec,ic:new nR,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(t=>this.Yu=this.Yu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Yu=this.Yu.delete(t)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=Gt(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const t=[];return e.forEach(r=>{this.Zu.has(r)||t.push(new oR(r))}),this.Zu.forEach(r=>{e.has(r)||t.push(new sR(r))}),t}hc(e){this.Yu=e.ir,this.Zu=Gt();const t=this.sc(e.documents);return this.applyChanges(t,!0)}lc(){return ev.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,0===this.Xu,this.hasCachedResults)}}class vP{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class _P{constructor(e){this.key=e,this.fc=!1}}class wP{constructor(e,t,r,s,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.dc={},this.wc=new da(m=>M0(m),$h),this._c=new Map,this.mc=new Set,this.gc=new On(Ze.comparator),this.yc=new Map,this.Ic=new YT,this.Tc={},this.Ec=new Map,this.Ac=bg.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return!0===this.vc}}function EP(n,e){return LS.apply(this,arguments)}function LS(){return LS=(0,_e.Z)(function*(n,e){const t=oA(n);let r,s;const u=t.wc.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.lc();else{const c=yield Wy(t.localStore,Ai(e)),m=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,s=yield VS(t,e,r,"current"===m,c.resumeToken),t.isPrimaryClient&&XC(t.remoteStore,c)}return s}),LS.apply(this,arguments)}function VS(n,e,t,r,s){return US.apply(this,arguments)}function US(){return US=(0,_e.Z)(function*(n,e,t,r,s){n.Rc=(R,V,G)=>{return(le=(0,_e.Z)(function*(Oe,ke,Je,Tt){let Mt=ke.view.sc(Je);Mt.zi&&(Mt=yield ZC(Oe.localStore,ke.query,!1).then(({documents:un})=>ke.view.sc(un,Mt)));const Bt=Tt&&Tt.targetChanges.get(ke.targetId),Kt=ke.view.applyChanges(Mt,Oe.isPrimaryClient,Bt);return KS(Oe,ke.targetId,Kt.cc),Kt.snapshot}),function(Oe,ke,Je,Tt){return le.apply(this,arguments)})(n,R,V,G);var le};const u=yield ZC(n.localStore,e,!0),c=new aR(e,u.ir),m=c.sc(u.documents),w=i.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),b=c.applyChanges(m,n.isPrimaryClient,w);KS(n,t,b.cc);const A=new vP(e,t,c);return n.wc.set(e,A),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),US.apply(this,arguments)}function IP(n,e){return BS.apply(this,arguments)}function BS(){return BS=(0,_e.Z)(function*(n,e){const t=Ye(n),r=t.wc.get(e),s=t._c.get(r.targetId);if(s.length>1)return t._c.set(r.targetId,s.filter(u=>!$h(u,e))),void t.wc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zy(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Q0(t.remoteStore,r.targetId),tv(t,r.targetId)}).catch(iu))):(tv(t,r.targetId),yield Zy(t.localStore,r.targetId,!0))}),BS.apply(this,arguments)}function jS(){return jS=(0,_e.Z)(function*(n,e,t){const r=aA(n);try{const s=yield function(u,c){const m=Ye(u),w=Gn.now(),b=c.reduce((V,G)=>V.add(G.key),Gt());let A,R;return m.persistence.runTransaction("Locally write mutations","readwrite",V=>{let G=ls(),le=Gt();return m.Zi.getEntries(V,b).next(Oe=>{G=Oe,G.forEach((ke,Je)=>{Je.isValidDocument()||(le=le.add(ke))})}).next(()=>m.localDocuments.getOverlayedDocuments(V,G)).next(Oe=>{A=Oe;const ke=[];for(const Je of c){const Tt=MC(Je,A.get(Je.key).overlayedDocument);null!=Tt&&ke.push(new fa(Je.key,Tt,aC(Tt.value.mapValue),qn.exists(!0)))}return m.mutationQueue.addMutationBatch(V,w,ke,c)}).next(Oe=>{R=Oe;const ke=Oe.applyToLocalDocumentSet(A,le);return m.documentOverlayCache.saveOverlays(V,Oe.batchId,ke)})}).then(()=>({batchId:R.batchId,changes:N0(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,c,m){let w=u.Tc[u.currentUser.toKey()];w||(w=new On(Ut)),w=w.insert(c,m),u.Tc[u.currentUser.toKey()]=w}(r,s.batchId,t),yield ad(r,s.changes),yield Yy(r.remoteStore)}catch(s){const u=Jy(s,"Failed to persist write");t.reject(u)}}),jS.apply(this,arguments)}function uR(n,e){return $S.apply(this,arguments)}function $S(){return $S=(0,_e.Z)(function*(n,e){const t=Ye(n);try{const r=yield H1(t.localStore,e);e.targetChanges.forEach((s,u)=>{const c=t.yc.get(u);c&&(mt(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?c.fc=!0:s.modifiedDocuments.size>0?mt(c.fc):s.removedDocuments.size>0&&(mt(c.fc),c.fc=!1))}),yield ad(t,r,e)}catch(r){yield iu(r)}}),$S.apply(this,arguments)}function lR(n,e,t){const r=Ye(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.wc.forEach((u,c)=>{const m=c.view.Mu(e);m.snapshot&&s.push(m.snapshot)}),function(u,c){const m=Ye(u);m.onlineState=c;let w=!1;m.queries.forEach((b,A)=>{for(const R of A.listeners)R.Mu(c)&&(w=!0)}),w&&kS(m)}(r.eventManager,e),s.length&&r.dc.nu(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function DP(n,e,t){return HS.apply(this,arguments)}function HS(){return HS=(0,_e.Z)(function*(n,e,t){const r=Ye(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.yc.get(e),u=s&&s.key;if(u){let c=new On(Ze.comparator);c=c.insert(u,zn.newNoDocument(u,wt.min()));const m=Gt().add(u),w=new Uy(wt.min(),new Map,new On(Ut),c,m);yield uR(r,w),r.gc=r.gc.remove(u),r.yc.delete(e),YS(r)}else yield Zy(r.localStore,e,!1).then(()=>tv(r,e,t)).catch(iu)}),HS.apply(this,arguments)}function bP(n,e){return GS.apply(this,arguments)}function GS(){return GS=(0,_e.Z)(function*(n,e){const t=Ye(n),r=e.batch.batchId;try{const s=yield $1(t.localStore,e);ZS(t,r,null),WS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield ad(t,s)}catch(s){yield iu(s)}}),GS.apply(this,arguments)}function TP(n,e,t){return zS.apply(this,arguments)}function zS(){return zS=(0,_e.Z)(function*(n,e,t){const r=Ye(n);try{const s=yield function(u,c){const m=Ye(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",w=>{let b;return m.mutationQueue.lookupMutationBatch(w,c).next(A=>(mt(null!==A),b=A.keys(),m.mutationQueue.removeMutationBatch(w,A))).next(()=>m.mutationQueue.performConsistencyCheck(w)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(w,b,c)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(w,b)).next(()=>m.localDocuments.getDocuments(w,b))})}(r.localStore,e);ZS(r,e,t),WS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield ad(r,s)}catch(s){yield iu(s)}}),zS.apply(this,arguments)}function WS(n,e){(n.Ec.get(e)||[]).forEach(t=>{t.resolve()}),n.Ec.delete(e)}function ZS(n,e,t){const r=Ye(n);let s=r.Tc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.Tc[r.currentUser.toKey()]=s}}function tv(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.wc.delete(r),t&&n.dc.Pc(r,t);n._c.delete(e),n.isPrimaryClient&&n.Ic.Is(e).forEach(r=>{n.Ic.containsKey(r)||cR(n,r)})}function cR(n,e){n.mc.delete(e.path.canonicalString());const t=n.gc.get(e);null!==t&&(Q0(n.remoteStore,t),n.gc=n.gc.remove(e),n.yc.delete(t),YS(n))}function KS(n,e,t){for(const r of t)r instanceof sR?(n.Ic.addReference(r.key,e),AP(n,r)):r instanceof oR?(Le("SyncEngine","Document no longer in limbo: "+r.key),n.Ic.removeReference(r.key,e),n.Ic.containsKey(r.key)||cR(n,r.key)):nt()}function AP(n,e){const t=e.key,r=t.path.canonicalString();n.gc.get(t)||n.mc.has(r)||(Le("SyncEngine","New document in limbo: "+t),n.mc.add(r),YS(n))}function YS(n){for(;n.mc.size>0&&n.gc.size<n.maxConcurrentLimboResolutions;){const e=n.mc.values().next().value;n.mc.delete(e);const t=new Ze(en.fromString(e)),r=n.Ac.next();n.yc.set(r,new _P(t)),n.gc=n.gc.insert(t,r),XC(n.remoteStore,new od(Ai(pg(t.path)),r,"TargetPurposeLimboResolution",to.ct))}}function ad(n,e,t){return QS.apply(this,arguments)}function QS(){return QS=(0,_e.Z)(function*(n,e,t){const r=Ye(n),s=[],u=[],c=[];var m;r.wc.isEmpty()||(r.wc.forEach((m,w)=>{c.push(r.Rc(w,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(w.targetId,b?.fromCache?"not-current":"current"),b){s.push(b);const A=tS.Li(w.targetId,b);u.push(A)}}))}),yield Promise.all(c),r.dc.nu(s),yield(m=(0,_e.Z)(function*(w,b){const A=Ye(w);try{yield A.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>ie.forEach(b,V=>ie.forEach(V.Fi,G=>A.persistence.referenceDelegate.addReference(R,V.targetId,G)).next(()=>ie.forEach(V.Bi,G=>A.persistence.referenceDelegate.removeReference(R,V.targetId,G)))))}catch(R){if(!El(R))throw R;Le("LocalStore","Failed to update sequence numbers: "+R)}for(const R of b){const V=R.targetId;if(!R.fromCache){const G=A.Ji.get(V),Oe=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);A.Ji=A.Ji.insert(V,Oe)}}}),function(w,b){return m.apply(this,arguments)})(r.localStore,u))}),QS.apply(this,arguments)}function xP(n,e){return JS.apply(this,arguments)}function JS(){return JS=(0,_e.Z)(function*(n,e){const t=Ye(n);if(!t.currentUser.isEqual(e)){Le("SyncEngine","User change. New user:",e.toKey());const r=yield VM(t.localStore,e);t.currentUser=e,(s=t).Ec.forEach(c=>{c.forEach(m=>{m.reject(new Ae(ue.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Ec.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield ad(t,r.er)}var s}),JS.apply(this,arguments)}function MP(n,e){const t=Ye(n),r=t.yc.get(e);if(r&&r.fc)return Gt().add(r.key);{let s=Gt();const u=t._c.get(e);if(!u)return s;for(const c of u){const m=t.wc.get(c);s=s.unionWith(m.view.nc)}return s}}function oA(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=uR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MP.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=DP.bind(null,e),e.dc.nu=pP.bind(null,e.eventManager),e.dc.Pc=gP.bind(null,e.eventManager),e}function aA(n){const e=Ye(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=bP.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=TP.bind(null,e),e}class J0{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,_e.Z)(function*(){t.serializer=K0(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return function LM(n,e,t,r){return new j1(n,e,t,r)}(this.persistence,new FM,e.initialUser,this.serializer)}createPersistence(e){return new QT(zC.zs,this.serializer)}createSharedClientState(e){return new qM}terminate(){var e=this;return(0,_e.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class nv{initialize(e,t){var r=this;return(0,_e.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>lR(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=xP.bind(null,r.syncEngine),yield function AS(n,e){return xS.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new fP}createDatastore(e){const t=K0(e.databaseInfo.databaseId),r=new Y1(e.databaseInfo);return new X1(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=m=>lR(this.syncEngine,m,0),c=WM.D()?new WM:new W1,new nP(t,r,s,u,c);var t,r,s,u,c}createSyncEngine(e,t){return function(r,s,u,c,m,w,b){const A=new wP(r,s,u,c,m,w);return b&&(A.vc=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,_e.Z)(function*(t){const r=Ye(t);Le("RemoteStore","RemoteStore shutting down."),r.vu.add(5),yield Ky(r),r.Pu.shutdown(),r.bu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}class tD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):cr("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class HP{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Yr.UNAUTHENTICATED,this.clientId=$I.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,_e.Z)(function*(m){Le("FirestoreClient","Received user=",m.uid),yield u.authCredentialListener(m),u.user=m});return function(m){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Le("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,_e.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ae(ue.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,_e.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Jy(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function nD(n,e){return lA.apply(this,arguments)}function lA(){return lA=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Le("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,_e.Z)(function*(u){r.isEqual(u)||(yield VM(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),lA.apply(this,arguments)}function cA(n,e){return dA.apply(this,arguments)}function dA(){return dA=(0,_e.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield hA(n);Le("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>tR(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>tR(e.remoteStore,u)),n._onlineComponents=e}),dA.apply(this,arguments)}function gR(n){return"FirebaseError"===n.name?n.code===ue.FAILED_PRECONDITION||n.code===ue.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function hA(n){return fA.apply(this,arguments)}function fA(){return fA=(0,_e.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield nD(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!gR(t))throw t;Vs("Error using user provided cache. Falling back to memory cache: "+t),yield nD(n,new J0)}}else Le("FirestoreClient","Using default OfflineComponentProvider"),yield nD(n,new J0);return n._offlineComponents}),fA.apply(this,arguments)}function rD(n){return pA.apply(this,arguments)}function pA(){return pA=(0,_e.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Le("FirestoreClient","Using user provided OnlineComponentProvider"),yield cA(n,n._uninitializedComponentsProvider._online)):(Le("FirestoreClient","Using default OnlineComponentProvider"),yield cA(n,new nv))),n._onlineComponents}),pA.apply(this,arguments)}function iD(n){return hA(n).then(e=>e.localStore)}function rv(n){return mA.apply(this,arguments)}function mA(){return mA=(0,_e.Z)(function*(n){const e=yield rD(n),t=e.eventManager;return t.onListen=EP.bind(null,e.syncEngine),t.onUnlisten=IP.bind(null,e.syncEngine),t}),mA.apply(this,arguments)}function _R(n,e,t={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(s,u,c,m,w){const b=new tD({next:R=>{u.enqueueAndForget(()=>PS(s,A));const V=R.docs.has(c);!V&&R.fromCache?w.reject(new Ae(ue.UNAVAILABLE,"Failed to get document because the client is offline.")):V&&R.fromCache&&m&&"server"===m.source?w.reject(new Ae(ue.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):w.resolve(R)},error:R=>w.reject(R)}),A=new FS(pg(c.path),b,{includeMetadataChanges:!0,Ku:!0});return RS(s,A)}(yield rv(n),n.asyncQueue,e,t,r)})),r.promise}function wR(n,e,t={}){const r=new Vr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function(s,u,c,m,w){const b=new tD({next:R=>{u.enqueueAndForget(()=>PS(s,A)),R.fromCache&&"server"===m.source?w.reject(new Ae(ue.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):w.resolve(R)},error:R=>w.reject(R)}),A=new FS(c,b,{includeMetadataChanges:!0,Ku:!0});return RS(s,A)}(yield rv(n),n.asyncQueue,e,t,r)})),r.promise}function ER(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const IR=new Map;function yA(n,e,t){if(!t)throw new Ae(ue.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function DR(n){if(!Ze.isDocumentKey(n))throw new Ae(ue.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bR(n){if(Ze.isDocumentKey(n))throw new Ae(ue.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function sD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":nt()}function nn(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Ae(ue.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=sD(n);throw new Ae(ue.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function TR(n,e){if(e<=0)throw new Ae(ue.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class SR{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new Ae(ue.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ae(ue.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function CR(n,e,t,r){if(!0===e&&!0===r)throw new Ae(ue.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=ER(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new Ae(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Ae(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Ae(ue.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class X0{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new SR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ae(ue.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ae(ue.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new SR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new yT;switch(t.type){case"firstParty":return new la(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new Ae(ue.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=IR.get(e);t&&(Le("ComponentProvider","Removing Datastore"),IR.delete(e),t.terminate())}(this),Promise.resolve()}}class nr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nr(this.firestore,e,this._key)}}class Yi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Yi(this.firestore,e,this._query)}}class Rl extends Yi{constructor(e,t,r){super(e,t,pg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new nr(this.firestore,null,new Ze(e))}withConverter(e){return new Rl(this.firestore,e,this._path)}}function oD(n,e,...t){if(n=(0,dn.m9)(n),1===arguments.length&&(e=$I.A()),yA("doc","path",e),n instanceof X0){const r=en.fromString(e,...t);return DR(r),new nr(n,null,new Ze(r))}{if(!(n instanceof nr||n instanceof Rl))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return DR(r),new nr(n.firestore,n instanceof Rl?n.converter:null,new Ze(r))}}function MR(n,e){return n=(0,dn.m9)(n),e=(0,dn.m9)(e),(n instanceof nr||n instanceof Rl)&&(e instanceof nr||e instanceof Rl)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function vA(n,e){return n=(0,dn.m9)(n),e=(0,dn.m9)(e),n instanceof Yi&&e instanceof Yi&&n.firestore===e.firestore&&$h(n._query,e._query)&&n.converter===e.converter}class XP{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new dS(this,"async_queue_retry"),this.Xc=()=>{const t=JC();t&&Le("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=JC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=JC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Vr;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,_e.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!El(t))throw t;Le("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,cr("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const s=MS.createAndSchedule(this,e,t,r,u=>this.na(u));return this.zc.push(s),s}Zc(){this.Wc&&nt()}verifyOperationInProgress(){}sa(){var e=this;return(0,_e.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}function _A(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class rr extends X0{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new XP,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||RR(this),this._firestoreClient.terminate()}}function jr(n){return n._firestoreClient||RR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function RR(n){var e,t,r;const s=n._freezeSettings(),u=(m=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Kx(n._databaseId,m,n._persistenceKey,(b=s).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,ER(b.experimentalLongPollingOptions),b.useFetchStreams));var m,b;n._firestoreClient=new HP(n._authCredentials,n._appCheckCredentials,n._queue,u),(null===(t=s.cache)||void 0===t?void 0:t._offlineComponentProvider)&&(null===(r=s.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:s.cache.kind,_offline:s.cache._offlineComponentProvider,_online:s.cache._onlineComponentProvider})}class Nl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Nl(Br.fromBase64String(e))}catch(t){throw new Ae(ue.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Nl(Br.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ud{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Ae(ue.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new tr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Sg{constructor(e){this._methodName=e}}class aD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ae(ue.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ae(ue.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ut(this._lat,e._lat)||Ut(this._long,e._long)}}const dO=/^__.*__$/;class hO{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new fa(e,this.data,this.fieldMask,t,this.fieldTransforms):new zh(e,this.data,t,this.fieldTransforms)}}class OR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new fa(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function kR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nt()}}class uD{constructor(e,t,r,s,u,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,void 0===u&&this.ua(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new uD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.fa(e),s}da(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.aa({path:r,la:!1});return s.ua(),s}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return dD(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(0===e.length)throw this._a("Document fields must not be empty");if(kR(this.ca)&&dO.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class fO{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||K0(e)}ya(e,t,r,s=!1){return new uD({ca:e,methodName:t,ga:r,path:tr.emptyPath(),la:!1,ma:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ag(n){const e=n._freezeSettings(),t=K0(n._databaseId);return new fO(n._databaseId,!!e.ignoreUndefinedProperties,t)}function lD(n,e,t,r,s,u={}){const c=n.ya(u.merge||u.mergeFields?2:0,e,t,s);CA("Data must be an object, but it was:",c,r);const m=VR(r,c);let w,b;if(u.merge)w=new Zi(c.fieldMask),b=c.fieldTransforms;else if(u.mergeFields){const A=[];for(const R of u.mergeFields){const V=nw(e,R,t);if(!c.contains(V))throw new Ae(ue.INVALID_ARGUMENT,`Field '${V}' is specified in your field mask but missing from your input data.`);BR(A,V)||A.push(V)}w=new Zi(A),b=c.fieldTransforms.filter(R=>w.covers(R.field))}else w=null,b=c.fieldTransforms;return new hO(new fi(m),w,b)}class tw extends Sg{_toFieldTransform(e){if(2!==e.ca)throw e._a(1===e.ca?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tw}}function LR(n,e,t,r=!1){return xg(t,n.ya(r?4:3,e))}function xg(n,e){if(UR(n=(0,dn.m9)(n)))return CA("Unsupported field value:",e,n),VR(n,e);if(n instanceof Sg)return function(t,r){if(!kR(r.ca))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.la&&4!==e.ca)throw e._a("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const c of t){let m=xg(c,r.wa(u));null==m&&(m={nullValue:"NULL_VALUE"}),s.push(m),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,dn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return DC(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=Gn.fromDate(t);return{timestampValue:Q(r.serializer,s)}}if(t instanceof Gn){const s=new Gn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Q(r.serializer,s)}}if(t instanceof aD)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Nl)return{bytesValue:Ee(r.serializer,t._byteString)};if(t instanceof nr){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r._a(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ut(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${sD(t)}`)}(n,e)}function VR(n,e){const t={};return f0(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):su(n,(r,s)=>{const u=xg(s,e.ha(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function UR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Gn||n instanceof aD||n instanceof Nl||n instanceof nr||n instanceof Sg)}function CA(n,e,t){if(!UR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=sD(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function nw(n,e,t){if((e=(0,dn.m9)(e))instanceof ud)return e._internalPath;if("string"==typeof e)return cD(n,e);throw dD("Field path arguments must be of type string or ",n,!1,void 0,t)}const yO=new RegExp("[~\\*/\\[\\]]");function cD(n,e,t){if(e.search(yO)>=0)throw dD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ud(...e.split("."))._internalPath}catch{throw dD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function dD(n,e,t,r,s){const u=r&&!r.isEmpty(),c=void 0!==s;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let w="";return(u||c)&&(w+=" (found",u&&(w+=` in field ${r}`),c&&(w+=` in document ${s}`),w+=")"),new Ae(ue.INVALID_ARGUMENT,m+n+w)}function BR(n,e){return n.some(t=>t.isEqual(e))}class rw{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new nr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new vO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(hD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class vO extends rw{data(){return super.data()}}function hD(n,e){return"string"==typeof e?cD(n,e):e instanceof ud?e._internalPath:e._delegate._internalPath}function jR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new Ae(ue.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DA{}class iw extends DA{}function Jh(n,e,...t){let r=[];e instanceof DA&&r.push(e),r=r.concat(t),function(s){const u=s.filter(m=>m instanceof iv).length,c=s.filter(m=>m instanceof sw).length;if(u>1||u>0&&c>0)throw new Ae(ue.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class sw extends iw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new sw(e,t,r)}_apply(e){const t=this._parse(e);return zR(e._query,t),new Yi(e.firestore,e.converter,My(e._query,t))}_parse(e){const t=Ag(e.firestore);return function(s,u,c,m,w,b,A){let R;if(w.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new Ae(ue.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){GR(A,b);const V=[];for(const G of A)V.push(HR(m,s,G));R={arrayValue:{values:V}}}else R=HR(m,s,A)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||GR(A,b),R=LR(c,"where",A,"in"===b||"not-in"===b);return Zt.create(w,b,R)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class iv extends DA{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new iv(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:wn.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,s){let u=r;const c=s.getFlattenedFilters();for(const m of c)zR(u,m),u=My(u,m)}(e._query,t),new Yi(e.firestore,e.converter,My(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class bA extends iw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new bA(e,t)}_apply(e){const t=function(r,s,u){if(null!==r.startAt)throw new Ae(ue.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new Ae(ue.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new cg(s,u);return function(m,w){if(null===x0(m)){const b=gg(m);null!==b&&qR(0,b,w.field)}}(r,c),c}(e._query,this._field,this._direction);return new Yi(e.firestore,e.converter,function(r,s){const u=r.explicitOrderBy.concat([s]);return new uu(r.path,r.collectionGroup,u,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class fD extends iw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new fD(e,t,r)}_apply(e){return new Yi(e.firestore,e.converter,mg(e._query,this._limit,this._limitType))}}class pD extends iw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new pD(e,t,r)}_apply(e){const t=$R(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,(s=t,new uu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,s,r.endAt)));var r,s}}class gD extends iw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new gD(e,t,r)}_apply(e){const t=$R(e,this.type,this._docOrFields,this._inclusive);return new Yi(e.firestore,e.converter,(s=t,new uu((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,s)));var r,s}}function $R(n,e,t,r){if(t[0]=(0,dn.m9)(t[0]),t[0]instanceof rw)return function(s,u,c,m,w){if(!m)throw new Ae(ue.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const A of lu(s))if(A.field.isKeyField())b.push(rd(u,m.key));else{const R=m.data.field(A.field);if(m0(R))throw new Ae(ue.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+A.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===R){const V=A.field.canonicalString();throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${V}' (used as the orderBy) does not exist.`)}b.push(R)}return new Tl(b,w)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const s=Ag(n.firestore);return function(u,c,m,w,b,A){const R=u.explicitOrderBy;if(b.length>R.length)throw new Ae(ue.INVALID_ARGUMENT,`Too many arguments provided to ${w}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const V=[];for(let G=0;G<b.length;G++){const le=b[G];if(R[G].field.isKeyField()){if("string"!=typeof le)throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${w}(), but got a ${typeof le}`);if(!vC(u)&&-1!==le.indexOf("/"))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${w}() must be a plain document ID, but '${le}' contains a slash.`);const Oe=u.path.child(en.fromString(le));if(!Ze.isDocumentKey(Oe))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${w}() must result in a valid document path, but '${Oe}' is not because it contains an odd number of segments.`);const ke=new Ze(Oe);V.push(rd(c,ke))}else{const Oe=LR(m,w,le);V.push(Oe)}}return new Tl(V,A)}(n._query,n.firestore._databaseId,s,e,t,r)}}function HR(n,e,t){if("string"==typeof(t=(0,dn.m9)(t))){if(""===t)throw new Ae(ue.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!vC(e)&&-1!==t.indexOf("/"))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(en.fromString(t));if(!Ze.isDocumentKey(r))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return rd(n,new Ze(r))}if(t instanceof nr)return rd(n,t._key);throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sD(t)}.`)}function GR(n,e){if(!Array.isArray(n)||0===n.length)throw new Ae(ue.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function zR(n,e){if(e.isInequality()){const r=gg(n),s=e.field;if(null!==r&&!r.isEqual(s))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${s.toString()}'`);const u=x0(n);null!==u&&qR(0,s,u)}const t=function(r,s){for(const u of r)for(const c of u.getFlattenedFilters())if(s.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new Ae(ue.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function qR(n,e,t){if(!t.isEqual(e))throw new Ae(ue.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class TA{convertValue(e,t="none"){switch(nd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return mr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Cl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nt()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return su(e,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new aD(mr(e.latitude),mr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=y0(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Dy(e));default:return null}}convertTimestamp(e){const t=ou(e);return new Gn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=en.fromString(e);mt(oM(r));const s=new Xc(r.get(1),r.get(3)),u=new Ze(r.popFirst(5));return s.isEqual(t)||cr(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}function mD(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class Mg{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ld extends rw{constructor(e,t,r,s,u,c){super(e,t,r,s,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ow(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(hD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ow extends ld{data(e={}){return super.data(e)}}class Xh{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Mg(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ow(this._firestore,this._userDataWriter,r.key,r,new Mg(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ae(ue.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new ow(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Mg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>s||3!==c.type).map(c=>{const m=new ow(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Mg(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let w=-1,b=-1;return 0!==c.type&&(w=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),b=u.indexOf(c.doc.key)),{type:xO(c.type),doc:m,oldIndex:w,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function xO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nt()}}function ZR(n,e){return n instanceof ld&&e instanceof ld?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Xh&&e instanceof Xh&&n._firestore===e._firestore&&vA(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class ef extends TA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Nl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new nr(this.firestore,null,t)}}function KR(n,e,t){n=nn(n,nr);const r=nn(n.firestore,rr),s=mD(n.converter,e,t);return sv(r,[lD(Ag(r),"setDoc",n._key,s,null!==n.converter,t).toMutation(n._key,qn.none())])}function YR(n,e,t,...r){n=nn(n,nr);const s=nn(n.firestore,rr),u=Ag(s);let c;return c="string"==typeof(e=(0,dn.m9)(e))||e instanceof ud?function IA(n,e,t,r,s,u){const c=n.ya(1,e,t),m=[nw(e,r,t)],w=[s];if(u.length%2!=0)throw new Ae(ue.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let V=0;V<u.length;V+=2)m.push(nw(e,u[V])),w.push(u[V+1]);const b=[],A=fi.empty();for(let V=m.length-1;V>=0;--V)if(!BR(b,m[V])){const G=m[V];let le=w[V];le=(0,dn.m9)(le);const Oe=c.da(G);if(le instanceof tw)b.push(G);else{const ke=xg(le,Oe);null!=ke&&(b.push(G),A.set(G,ke))}}const R=new Zi(b);return new OR(A,R,c.fieldTransforms)}(u,"updateDoc",n._key,e,t,r):function EA(n,e,t,r){const s=n.ya(1,e,t);CA("Data must be an object, but it was:",s,r);const u=[],c=fi.empty();su(r,(w,b)=>{const A=cD(e,w,t);b=(0,dn.m9)(b);const R=s.da(A);if(b instanceof tw)u.push(A);else{const V=xg(b,R);null!=V&&(u.push(A),c.set(A,V))}});const m=new Zi(u);return new OR(c,m,s.fieldTransforms)}(u,"updateDoc",n._key,e),sv(s,[c.toMutation(n._key,qn.exists(!0))])}function QR(n,...e){var t,r,s;n=(0,dn.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||_A(e[c])||(u=e[c],c++);const m={includeMetadataChanges:u.includeMetadataChanges};if(_A(e[c])){const R=e[c];e[c]=null===(t=R.next)||void 0===t?void 0:t.bind(R),e[c+1]=null===(r=R.error)||void 0===r?void 0:r.bind(R),e[c+2]=null===(s=R.complete)||void 0===s?void 0:s.bind(R)}let w,b,A;if(n instanceof nr)b=nn(n.firestore,rr),A=pg(n._key.path),w={next:R=>{e[c]&&e[c](SA(b,n,R))},error:e[c+1],complete:e[c+2]};else{const R=nn(n,Yi);b=nn(R.firestore,rr),A=R._query;const V=new ef(b);w={next:G=>{e[c]&&e[c](new Xh(b,V,R,G))},error:e[c+1],complete:e[c+2]},jR(n._query)}return function(R,V,G,le){const Oe=new tD(le),ke=new FS(V,Oe,G);return R.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return RS(yield rv(R),ke)})),()=>{Oe.Dc(),R.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return PS(yield rv(R),ke)}))}}(jr(b),A,m,w)}function sv(n,e){return function(t,r){const s=new Vr;return t.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return function CP(n,e,t){return jS.apply(this,arguments)}(yield function gA(n){return rD(n).then(e=>e.syncEngine)}(t),r,s)})),s.promise}(jr(n),e)}function SA(n,e,t){const r=t.docs.get(e._key),s=new ef(n);return new ld(n,s,e._key,r,new Mg(t.hasPendingWrites,t.fromCache),e.converter)}function eN(){if(typeof Uint8Array>"u")throw new Ae("unimplemented","Uint8Arrays are not available in this environment.")}function tN(){if(!function ST(){return typeof atob<"u"}())throw new Ae("unimplemented","Blobs are unavailable in Firestore in this environment.")}class aw{constructor(e){this._delegate=e}static fromBase64String(e){return tN(),new aw(Nl.fromBase64String(e))}static fromUint8Array(e){return eN(),new aw(Nl.fromUint8Array(e))}toBase64(){return tN(),this._delegate.toBase64()}toUint8Array(){return eN(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function xA(n){return function rk(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class yD extends TA{constructor(e){super(),this.firestore=e}convertBytes(e){return new aw(new Nl(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return pa.forKey(t,this.firestore,null)}}class Rg{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new ow(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=Rg.INSTANCES;let s=r.get(e);s||(s=new WeakMap,r.set(e,s));let u=s.get(t);return u||(u=new Rg(e,new yD(e),t),s.set(t,u)),u}}Rg.INSTANCES=new WeakMap;class pa{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yD(e)}static forPath(e,t,r){if(e.length%2!=0)throw new Ae("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new pa(t,new nr(t._delegate,r,new Ze(e)))}static forKey(e,t,r){return new pa(t,new nr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ov(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ov(this.firestore,function xR(n,e,...t){if(n=(0,dn.m9)(n),yA("collection","path",e),n instanceof X0){const r=en.fromString(e,...t);return bR(r),new Rl(n,null,r)}{if(!(n instanceof nr||n instanceof Rl))throw new Ae(ue.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(en.fromString(e,...t));return bR(r),new Rl(n.firestore,null,r)}}(this._delegate,e))}catch(t){throw Bs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,dn.m9)(e))instanceof nr&&MR(this._delegate,e)}set(e,t){t=function AA(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new Ae("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}("DocumentReference.set",t);try{return t?KR(this._delegate,e,t):KR(this._delegate,e)}catch(r){throw Bs(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?YR(this._delegate,e):YR(this._delegate,e,t,...r)}catch(s){throw Bs(s,"updateDoc()","DocumentReference.update()")}}delete(){return function FO(n){return sv(nn(n.firestore,rr),[new Ml(n._key,qn.none())])}(this._delegate)}onSnapshot(...e){const t=sN(e),r=oN(e,s=>new uw(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,s._key,s._document,s.metadata,this._delegate.converter)));return QR(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function RO(n){n=nn(n,nr);const e=nn(n.firestore,rr),t=jr(e),r=new ef(e);return function qP(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(s,u,c){try{const m=yield function(w,b){const A=Ye(w);return A.persistence.runTransaction("read document","readonly",R=>A.localDocuments.getDocument(R,b))}(s,u);m.isFoundDocument()?c.resolve(m):m.isNoDocument()?c.resolve(null):c.reject(new Ae(ue.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(m){const w=Jy(m,`Failed to get document '${u} from cache`);c.reject(w)}}),function(s,u,c){return r.apply(this,arguments)})(yield iD(n),e,t);var r})),t.promise}(t,n._key).then(s=>new ld(e,r,n._key,s,new Mg(null!==s&&s.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function NO(n){n=nn(n,nr);const e=nn(n.firestore,rr);return _R(jr(e),n._key,{source:"server"}).then(t=>SA(e,n,t))}(this._delegate):function MO(n){n=nn(n,nr);const e=nn(n.firestore,rr);return _R(jr(e),n._key).then(t=>SA(e,n,t))}(this._delegate),t.then(r=>new uw(this.firestore,new ld(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new pa(this.firestore,this._delegate.withConverter(e?Rg.getInstance(this.firestore,e):null))}}function Bs(n,e,t){return n.message=n.message.replace(e,t),n}function sN(n){for(const e of n)if("object"==typeof e&&!xA(e))return e;return{}}function oN(n,e){var t,r;let s;return s=xA(n[0])?n[0]:xA(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:u=>{s.next&&s.next(e(u))},error:null===(t=s.error)||void 0===t?void 0:t.bind(s),complete:null===(r=s.complete)||void 0===r?void 0:r.bind(s)}}class uw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new pa(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return ZR(this._delegate,e._delegate)}}class lw extends uw{data(e){const t=this._delegate.data(e);return function mT(n,e){n||nt()}(void 0!==t),t}}class js{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new yD(e)}where(e,t,r){try{return new js(this.firestore,Jh(this._delegate,function _O(n,e,t){const r=e,s=hD("where",n);return sw._create(s,r,t)}(e,t,r)))}catch(s){throw Bs(s,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new js(this.firestore,Jh(this._delegate,function wO(n,e="asc"){const t=e,r=hD("orderBy",n);return bA._create(r,t)}(e,t)))}catch(r){throw Bs(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new js(this.firestore,Jh(this._delegate,function EO(n){return TR("limit",n),fD._create("limit",n,"F")}(e)))}catch(t){throw Bs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new js(this.firestore,Jh(this._delegate,function IO(n){return TR("limitToLast",n),fD._create("limitToLast",n,"L")}(e)))}catch(t){throw Bs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new js(this.firestore,Jh(this._delegate,function CO(...n){return pD._create("startAt",n,!0)}(...e)))}catch(t){throw Bs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new js(this.firestore,Jh(this._delegate,function DO(...n){return pD._create("startAfter",n,!1)}(...e)))}catch(t){throw Bs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new js(this.firestore,Jh(this._delegate,function bO(...n){return gD._create("endBefore",n,!1)}(...e)))}catch(t){throw Bs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new js(this.firestore,Jh(this._delegate,function TO(...n){return gD._create("endAt",n,!0)}(...e)))}catch(t){throw Bs(t,"endAt()","Query.endAt()")}}isEqual(e){return vA(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function OO(n){n=nn(n,Yi);const e=nn(n.firestore,rr),t=jr(e),r=new ef(e);return function WP(n,e){const t=new Vr;return n.asyncQueue.enqueueAndForget((0,_e.Z)(function*(){return(r=(0,_e.Z)(function*(s,u,c){try{const m=yield ZC(s,u,!0),w=new aR(u,m.ir),b=w.sc(m.documents),A=w.applyChanges(b,!1);c.resolve(A.snapshot)}catch(m){const w=Jy(m,`Failed to execute query '${u} against cache`);c.reject(w)}}),function(s,u,c){return r.apply(this,arguments)})(yield iD(n),e,t);var r})),t.promise}(t,n._query).then(s=>new Xh(e,r,n,s))}(this._delegate):"server"===e?.source?function kO(n){n=nn(n,Yi);const e=nn(n.firestore,rr),t=jr(e),r=new ef(e);return wR(t,n._query,{source:"server"}).then(s=>new Xh(e,r,n,s))}(this._delegate):function PO(n){n=nn(n,Yi);const e=nn(n.firestore,rr),t=jr(e),r=new ef(e);return jR(n._query),wR(t,n._query).then(s=>new Xh(e,r,n,s))}(this._delegate),t.then(r=>new MA(this.firestore,new Xh(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=sN(e),r=oN(e,s=>new MA(this.firestore,new Xh(this.firestore._delegate,this._userDataWriter,this._delegate,s._snapshot)));return QR(this._delegate,t,r)}withConverter(e){return new js(this.firestore,this._delegate.withConverter(e?Rg.getInstance(this.firestore,e):null))}}class ok{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class MA{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new js(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new ok(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new lw(this._firestore,r))})}isEqual(e){return ZR(this._delegate,e._delegate)}}class ov extends js{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new pa(this.firestore,e):null}doc(e){try{return new pa(this.firestore,void 0===e?oD(this._delegate):oD(this._delegate,e))}catch(t){throw Bs(t,"doc()","CollectionReference.doc()")}}add(e){return function LO(n,e){const t=nn(n.firestore,rr),r=oD(n),s=mD(n.converter,e);return sv(t,[lD(Ag(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,qn.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new pa(this.firestore,t))}isEqual(e){return MR(this._delegate,e._delegate)}withConverter(e){return new ov(this.firestore,this._delegate.withConverter(e?Rg.getInstance(this.firestore,e):null))}}var ck=F(6451),vD=F(5363),dk=F(6063);class hk extends Kn.x{constructor(e=1/0,t=1/0,r=dk.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!s&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const c=t.now();let m=0;for(let w=1;w<r.length&&r[w]<=c;w+=2)m=w;m&&r.splice(0,m+1)}}}var fk=F(3099);function aN(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,fk.B)({connector:()=>new hk(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function uN(n,e){return(0,uc.m)(e)?Jn(()=>n,e):Jn(()=>n)}var NA=F(9468);F(8140);class ex{constructor(){return(0,ui.vb)("app-check")}}typeof window<"u"&&window;var oF=F(1274);const RN=new f.OlP("angularfire2.auth.use-emulator"),NN=new f.OlP("angularfire2.auth.settings"),PN=new f.OlP("angularfire2.auth.tenant-id"),ON=new f.OlP("angularfire2.auth.langugage-code"),kN=new f.OlP("angularfire2.auth.use-device-language"),FN=new f.OlP("angularfire.auth.persistence"),LN=(n,e,t,r,s,u,c,m)=>(0,Co.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const w=e.runOutsideAngular(()=>n.auth());if(t&&w.useEmulator(...t),r&&(w.tenantId=r),w.languageCode=s,u&&w.useDeviceLanguage(),c)for(const[b,A]of Object.entries(c))w.settings[b]=A;return m&&w.setPersistence(m),w},[t,r,s,u,c,m]);let nx=(()=>{class n{constructor(t,r,s,u,c,m,w,b,A,R,V,G){const le=new Kn.x,Oe=ht(void 0).pipe((0,vD.Q)(c.outsideAngular),Jn(()=>u.runOutsideAngular(()=>Promise.resolve().then(F.bind(F,8463)))),(0,Dt.U)(()=>(0,Co.on)(t,u,r)),(0,Dt.U)(ke=>LN(ke,u,m,b,A,R,w,V)),aN({bufferSize:1,refCount:!1}));if(_u(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=ht(null);else{Oe.pipe(Hi()).subscribe();const Je=Oe.pipe(Jn(Bt=>Bt.getRedirectResult().then(Kt=>Kt,()=>null)),ui.iC,aN({bufferSize:1,refCount:!1})),Tt=Oe.pipe(Jn(Bt=>new ji.y(Kt=>({unsubscribe:u.runOutsideAngular(()=>Bt.onAuthStateChanged(un=>Kt.next(un),un=>Kt.error(un),()=>Kt.complete()))})))),Mt=Oe.pipe(Jn(Bt=>new ji.y(Kt=>({unsubscribe:u.runOutsideAngular(()=>Bt.onIdTokenChanged(un=>Kt.next(un),un=>Kt.error(un),()=>Kt.complete()))}))));this.authState=Je.pipe(uN(Tt),(0,NA.R)(c.outsideAngular),(0,vD.Q)(c.insideAngular)),this.user=Je.pipe(uN(Mt),(0,NA.R)(c.outsideAngular),(0,vD.Q)(c.insideAngular)),this.idToken=this.user.pipe(Jn(Bt=>Bt?(0,sn.D)(Bt.getIdToken()):ht(null))),this.idTokenResult=this.user.pipe(Jn(Bt=>Bt?(0,sn.D)(Bt.getIdTokenResult()):ht(null))),this.credential=(0,ck.T)(Je,le,this.authState.pipe(Fr(Bt=>!Bt))).pipe((0,Dt.U)(Bt=>Bt?.user?Bt:null),(0,NA.R)(c.outsideAngular),(0,vD.Q)(c.insideAngular))}return(0,Co.pX)(this,Oe,u,{spy:{apply:(ke,Je,Tt)=>{(ke.startsWith("signIn")||ke.startsWith("createUser"))&&Tt.then(Mt=>le.next(Mt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Co.Dh),f.LFG(Co.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ui.HU),f.LFG(RN,8),f.LFG(NN,8),f.LFG(PN,8),f.LFG(ON,8),f.LFG(kN,8),f.LFG(FN,8),f.LFG(ex,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();function VN(n,e){return function uF(n,e=kE.z){return new ji.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function rx(n,e){return VN(n,e).pipe((0,Dt.U)(t=>({payload:t,type:"query"})))}function SD(n,e){return rx(n,e).pipe(Ko(void 0),o_(),(0,Dt.U)(([t,r])=>{const s=r.payload.docChanges(),u=s.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,m)=>{const w=s.find(A=>A.doc.ref.isEqual(c.ref)),b=t?.payload.docs.find(A=>A.ref.isEqual(c.ref));w&&JSON.stringify(w.doc.metadata)===JSON.stringify(c.metadata)||!w&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||u.push({type:"modified",payload:{oldIndex:m,newIndex:m,type:"modified",doc:c}})}),u}))}function UN(n,e,t){return SD(n,t).pipe(qs((r,s)=>function cF(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function dF(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return ix(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return ix(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return ix(n,e.oldIndex,1)}return n}(n,r))}),n}(r,s.map(u=>u.payload),e),[]),function FE(n,e=Wo.y){return n=n??Lb,(0,Dr.e)((t,r)=>{let s,u=!0;t.subscribe((0,Qn.x)(r,c=>{const m=e(c);(u||!n(s,m))&&(u=!1,s=m,r.next(c))}))})}(),(0,Dt.U)(r=>r.map(s=>({type:s.type,payload:s}))))}function ix(n,e,t,...r){const s=n.slice();return s.splice(e,t,...r),s}function BN(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}class jN{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=SD(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Dt.U)(r=>r.filter(s=>e.indexOf(s.type)>-1)))),t.pipe(Ko(void 0),o_(),Fr(([r,s])=>s.length>0||!r),(0,Dt.U)(([r,s])=>s),ui.iC)}auditTrail(e){return this.stateChanges(e).pipe(qs((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=BN(e);return UN(this.query,t,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return rx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),ui.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(ui.iC)}add(e){return this.ref.add(e)}doc(e){return new $N(this.ref.doc(e),this.afs)}}class $N{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:s,query:u}=zN(r,t);return new jN(s,u,this.afs)}snapshotChanges(){return function lF(n,e){return VN(n,e).pipe(Ko(void 0),o_(),(0,Dt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Dt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,sn.D)(this.ref.get(e)).pipe(ui.iC)}}class hF{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?SD(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),Fr(t=>t.length>0),ui.iC):SD(this.query,this.afs.schedulers.outsideAngular).pipe(ui.iC)}auditTrail(e){return this.stateChanges(e).pipe(qs((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=BN(e);return UN(this.query,t,this.afs.schedulers.outsideAngular).pipe(ui.iC)}valueChanges(e={}){return rx(this.query,this.afs.schedulers.outsideAngular).pipe((0,Dt.U)(r=>r.payload.docs.map(s=>e.idField?Object.assign({[e.idField]:s.id},s.data()):s.data())),ui.iC)}get(e){return(0,sn.D)(this.query.get(e)).pipe(ui.iC)}}const HN=new f.OlP("angularfire2.enableFirestorePersistence"),GN=new f.OlP("angularfire2.firestore.persistenceSettings"),fF=new f.OlP("angularfire2.firestore.settings"),pF=new f.OlP("angularfire2.firestore.use-emulator");function zN(n,e=(t=>t)){return{query:e(n),ref:n}}let sx=(()=>{class n{constructor(t,r,s,u,c,m,w,b,A,R,V,G,le,Oe,ke,Je,Tt){this.schedulers=w;const Mt=(0,Co.on)(t,m,r),Bt=A;R&&LN(Mt,m,V,le,Oe,ke,G,Je),[this.firestore,this.persistenceEnabled$]=(0,Co.cc)(`${Mt.name}.firestore`,"AngularFirestore",Mt.name,()=>{const Kt=m.runOutsideAngular(()=>Mt.firestore());if(u&&Kt.settings(u),Bt&&Kt.useEmulator(...Bt),s&&!_u(c)){const un=()=>{try{return(0,sn.D)(Kt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(hs){return typeof console<"u"&&console.warn(hs),ht(!1)}};return[Kt,m.runOutsideAngular(un)]}return[Kt,ht(!1)]},[u,Bt,s])}collection(t,r){let s;s="string"==typeof t?this.firestore.collection(t):t;const{ref:u,query:c}=zN(s,r),m=this.schedulers.ngZone.run(()=>u);return new jN(m,c,this)}collectionGroup(t,r){const s=r||(c=>c),u=this.firestore.collectionGroup(t);return new hF(s(u),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const s=this.schedulers.ngZone.run(()=>r);return new $N(s,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Co.Dh),f.LFG(Co.xv,8),f.LFG(HN,8),f.LFG(fF,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(ui.HU),f.LFG(GN,8),f.LFG(pF,8),f.LFG(nx,8),f.LFG(RN,8),f.LFG(NN,8),f.LFG(PN,8),f.LFG(ON,8),f.LFG(kN,8),f.LFG(FN,8),f.LFG(ex,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})(),gF=(()=>{class n{constructor(){oF.Z.registerVersion("angularfire",ui.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:n,providers:[{provide:HN,useValue:!0},{provide:GN,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[sx]}),n})();function mF(n,e){if(1&n&&(f.TgZ(0,"div",4),f._uU(1),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Oqu(t.errorMessage)}}function yF(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"tr")(1,"td"),f._uU(2),f.qZA(),f.TgZ(3,"td"),f._uU(4),f.qZA(),f.TgZ(5,"td"),f._uU(6),f.qZA(),f.TgZ(7,"td"),f._uU(8),f.qZA(),f.TgZ(9,"td"),f._uU(10),f.qZA(),f.TgZ(11,"td")(12,"button",5),f.NdJ("click",function(){const u=f.CHM(t).$implicit,c=f.oxw();return f.KtG(c.deleteStudent(u.id))}),f._uU(13,"Delete"),f.qZA()()()}if(2&n){const t=e.$implicit;f.xp6(2),f.Oqu(t.fullName),f.xp6(2),f.Oqu(t.phoneNumber),f.xp6(2),f.Oqu(t.email),f.xp6(2),f.Oqu(t.subject),f.xp6(2),f.Oqu(t.message)}}let vF=(()=>{class n{constructor(t,r){this.afs=t,this.fb=r,this.students=[],this.showForm=!1,this.formTitle="Add",this.errorMessage=null,this.studentForm=this.fb.group({id:[""],name:["",xs.required],studentCode:["",xs.required],mobileNumber:["",xs.required],address:["",xs.required]})}ngOnInit(){this.getStudents().subscribe(t=>this.students=t,t=>this.handleError(t))}getStudents(){return this.afs.collection("students").valueChanges({idField:"id"})}addStudent(){this.showForm=!0,this.formTitle="Add",this.studentForm.reset()}deleteStudent(t){this.afs.doc(`students/${t}`).delete().then(()=>{alert("Student deleted successfully!")}).catch(r=>this.handleError(r))}cancel(){this.showForm=!1,this.studentForm.reset()}handleError(t){this.errorMessage=t.message||"An error occurred."}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(sx),f.Y36(OE))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-admin"]],decls:21,vars:2,consts:[[1,"container"],["class","alert alert-danger",4,"ngIf"],[1,"table","table-striped"],[4,"ngFor","ngForOf"],[1,"alert","alert-danger"],[1,"btn","btn-danger",3,"click"]],template:function(t,r){1&t&&(f.TgZ(0,"div",0)(1,"h2"),f._uU(2,"Contact List"),f.qZA(),f.YNc(3,mF,2,1,"div",1),f.TgZ(4,"table",2)(5,"thead")(6,"tr")(7,"th"),f._uU(8,"Full Name"),f.qZA(),f.TgZ(9,"th"),f._uU(10,"Mobile Number"),f.qZA(),f.TgZ(11,"th"),f._uU(12,"Email"),f.qZA(),f.TgZ(13,"th"),f._uU(14,"Subject"),f.qZA(),f.TgZ(15,"th"),f._uU(16,"Subject"),f.qZA(),f.TgZ(17,"th"),f._uU(18,"Message"),f.qZA()()(),f.TgZ(19,"tbody"),f.YNc(20,yF,14,5,"tr",3),f.qZA()()()),2&t&&(f.xp6(3),f.Q6J("ngIf",r.errorMessage),f.xp6(17),f.Q6J("ngForOf",r.students))},dependencies:[yn,dr],styles:["body[_ngcontent-%COMP%]{background-color:#000;color:#fff}.container[_ngcontent-%COMP%]{max-width:800px;margin:0 auto;padding:20px}h2[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px}.btn[_ngcontent-%COMP%], .alert[_ngcontent-%COMP%]{margin-bottom:20px}.table[_ngcontent-%COMP%]{width:100%;margin-bottom:20px;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{text-align:left;padding:10px;font-size:medium}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#343a40;color:#fff}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(even){background-color:#454d55}.table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:nth-child(odd){background-color:#212529}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(1){width:30%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2){width:20%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){width:20%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){width:20%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(5){width:10%}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(1){width:30%}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(2){width:20%}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){width:20%}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(4){width:20%}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(5){width:10%}.btn-danger[_ngcontent-%COMP%]{margin-top:5px}"]}),n})();class qN{}class WN{}class cd{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const s=t.slice(0,r),u=s.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(s,u),this.headers.has(u)?this.headers.get(u).push(c):this.headers.set(u,[c])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let r=e[t];const s=t.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(this.headers.set(s,r),this.maybeSetNormalizedName(t,s))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof cd?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new cd;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof cd?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const s=("a"===e.op?this.headers.get(t):void 0)||[];s.push(...r),this.headers.set(t,s);break;case"d":const u=e.value;if(u){let c=this.headers.get(t);if(!c)return;c=c.filter(m=>-1===u.indexOf(m)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class _F{encodeKey(e){return ZN(e)}encodeValue(e){return ZN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const EF=/%(\d[a-f0-9])/gi,IF={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function ZN(n){return encodeURIComponent(n).replace(EF,(e,t)=>IF[t]??e)}function AD(n){return`${n}`}class nf{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new _F,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function wF(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(s=>{const u=s.indexOf("="),[c,m]=-1==u?[e.decodeKey(s),""]:[e.decodeKey(s.slice(0,u)),e.decodeValue(s.slice(u+1))],w=t.get(c)||[];w.push(m),t.set(c,w)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],s=Array.isArray(r)?r.map(AD):[AD(r)];this.map.set(t,s)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const s=e[r];Array.isArray(s)?s.forEach(u=>{t.push({param:r,value:u,op:"a"})}):t.push({param:r,value:s,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new nf({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(AD(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const s=r.indexOf(AD(e.value));-1!==s&&r.splice(s,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class CF{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function KN(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function YN(n){return typeof Blob<"u"&&n instanceof Blob}function QN(n){return typeof FormData<"u"&&n instanceof FormData}class hw{constructor(e,t,r,s){let u;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function DF(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||s?(this.body=void 0!==r?r:null,u=s):u=r,u&&(this.reportProgress=!!u.reportProgress,this.withCredentials=!!u.withCredentials,u.responseType&&(this.responseType=u.responseType),u.headers&&(this.headers=u.headers),u.context&&(this.context=u.context),u.params&&(this.params=u.params)),this.headers||(this.headers=new cd),this.context||(this.context=new CF),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const m=t.indexOf("?");this.urlWithParams=t+(-1===m?"?":m<t.length-1?"&":"")+c}}else this.params=new nf,this.urlWithParams=t}serializeBody(){return null===this.body?null:KN(this.body)||YN(this.body)||QN(this.body)||function bF(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof nf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||QN(this.body)?null:YN(this.body)?this.body.type||null:KN(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof nf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,s=e.responseType||this.responseType,u=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,m=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let w=e.headers||this.headers,b=e.params||this.params;const A=e.context??this.context;return void 0!==e.setHeaders&&(w=Object.keys(e.setHeaders).reduce((R,V)=>R.set(V,e.setHeaders[V]),w)),e.setParams&&(b=Object.keys(e.setParams).reduce((R,V)=>R.set(V,e.setParams[V]),b)),new hw(t,r,u,{params:b,headers:w,context:A,reportProgress:m,responseType:s,withCredentials:c})}}var Jr=(()=>((Jr=Jr||{})[Jr.Sent=0]="Sent",Jr[Jr.UploadProgress=1]="UploadProgress",Jr[Jr.ResponseHeader=2]="ResponseHeader",Jr[Jr.DownloadProgress=3]="DownloadProgress",Jr[Jr.Response=4]="Response",Jr[Jr.User=5]="User",Jr))();class ox{constructor(e,t=200,r="OK"){this.headers=e.headers||new cd,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class ax extends ox{constructor(e={}){super(e),this.type=Jr.ResponseHeader}clone(e={}){return new ax({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xD extends ox{constructor(e={}){super(e),this.type=Jr.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new xD({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class JN extends ox{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function ux(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let XN=(()=>{class n{constructor(t){this.handler=t}request(t,r,s={}){let u;if(t instanceof hw)u=t;else{let w,b;w=s.headers instanceof cd?s.headers:new cd(s.headers),s.params&&(b=s.params instanceof nf?s.params:new nf({fromObject:s.params})),u=new hw(t,r,void 0!==s.body?s.body:null,{headers:w,context:s.context,params:b,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const c=ht(u).pipe(Ii(w=>this.handler.handle(w)));if(t instanceof hw||"events"===s.observe)return c;const m=c.pipe(Fr(w=>w instanceof xD));switch(s.observe||"body"){case"body":switch(u.responseType){case"arraybuffer":return m.pipe((0,Dt.U)(w=>{if(null!==w.body&&!(w.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return w.body}));case"blob":return m.pipe((0,Dt.U)(w=>{if(null!==w.body&&!(w.body instanceof Blob))throw new Error("Response is not a Blob.");return w.body}));case"text":return m.pipe((0,Dt.U)(w=>{if(null!==w.body&&"string"!=typeof w.body)throw new Error("Response is not a string.");return w.body}));default:return m.pipe((0,Dt.U)(w=>w.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new nf).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,s={}){return this.request("PATCH",t,ux(s,r))}post(t,r,s={}){return this.request("POST",t,ux(s,r))}put(t,r,s={}){return this.request("PUT",t,ux(s,r))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(qN))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class e1{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const t1=new f.OlP("HTTP_INTERCEPTORS");let TF=(()=>{class n{intercept(t,r){return r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const SF=/^\)\]\}',?\n/;let n1=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new ji.y(r=>{const s=this.xhrFactory.build();if(s.open(t.method,t.urlWithParams),t.withCredentials&&(s.withCredentials=!0),t.headers.forEach((G,le)=>s.setRequestHeader(G,le.join(","))),t.headers.has("Accept")||s.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const G=t.detectContentTypeHeader();null!==G&&s.setRequestHeader("Content-Type",G)}if(t.responseType){const G=t.responseType.toLowerCase();s.responseType="json"!==G?G:"text"}const u=t.serializeBody();let c=null;const m=()=>{if(null!==c)return c;const G=s.statusText||"OK",le=new cd(s.getAllResponseHeaders()),Oe=function AF(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(s)||t.url;return c=new ax({headers:le,status:s.status,statusText:G,url:Oe}),c},w=()=>{let{headers:G,status:le,statusText:Oe,url:ke}=m(),Je=null;204!==le&&(Je=typeof s.response>"u"?s.responseText:s.response),0===le&&(le=Je?200:0);let Tt=le>=200&&le<300;if("json"===t.responseType&&"string"==typeof Je){const Mt=Je;Je=Je.replace(SF,"");try{Je=""!==Je?JSON.parse(Je):null}catch(Bt){Je=Mt,Tt&&(Tt=!1,Je={error:Bt,text:Je})}}Tt?(r.next(new xD({body:Je,headers:G,status:le,statusText:Oe,url:ke||void 0})),r.complete()):r.error(new JN({error:Je,headers:G,status:le,statusText:Oe,url:ke||void 0}))},b=G=>{const{url:le}=m(),Oe=new JN({error:G,status:s.status||0,statusText:s.statusText||"Unknown Error",url:le||void 0});r.error(Oe)};let A=!1;const R=G=>{A||(r.next(m()),A=!0);let le={type:Jr.DownloadProgress,loaded:G.loaded};G.lengthComputable&&(le.total=G.total),"text"===t.responseType&&!!s.responseText&&(le.partialText=s.responseText),r.next(le)},V=G=>{let le={type:Jr.UploadProgress,loaded:G.loaded};G.lengthComputable&&(le.total=G.total),r.next(le)};return s.addEventListener("load",w),s.addEventListener("error",b),s.addEventListener("timeout",b),s.addEventListener("abort",b),t.reportProgress&&(s.addEventListener("progress",R),null!==u&&s.upload&&s.upload.addEventListener("progress",V)),s.send(u),r.next({type:Jr.Sent}),()=>{s.removeEventListener("error",b),s.removeEventListener("abort",b),s.removeEventListener("load",w),s.removeEventListener("timeout",b),t.reportProgress&&(s.removeEventListener("progress",R),null!==u&&s.upload&&s.upload.removeEventListener("progress",V)),s.readyState!==s.DONE&&s.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(va))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const lx=new f.OlP("XSRF_COOKIE_NAME"),cx=new f.OlP("XSRF_HEADER_NAME");class r1{}let xF=(()=>{class n{constructor(t,r,s){this.doc=t,this.platform=r,this.cookieName=s,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=ma(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(de),f.LFG(f.Lbi),f.LFG(lx))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),dx=(()=>{class n{constructor(t,r){this.tokenService=t,this.headerName=r}intercept(t,r){const s=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||s.startsWith("http://")||s.startsWith("https://"))return r.handle(t);const u=this.tokenService.getToken();return null!==u&&!t.headers.has(this.headerName)&&(t=t.clone({headers:t.headers.set(this.headerName,u)})),r.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(r1),f.LFG(cx))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),MF=(()=>{class n{constructor(t,r){this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=this.injector.get(t1,[]);this.chain=r.reduceRight((s,u)=>new e1(s,u),this.backend)}return this.chain.handle(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(WN),f.LFG(f.zs3))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),RF=(()=>{class n{static disable(){return{ngModule:n,providers:[{provide:dx,useClass:TF}]}}static withOptions(t={}){return{ngModule:n,providers:[t.cookieName?{provide:lx,useValue:t.cookieName}:[],t.headerName?{provide:cx,useValue:t.headerName}:[]]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[dx,{provide:t1,useExisting:dx,multi:!0},{provide:r1,useClass:xF},{provide:lx,useValue:"XSRF-TOKEN"},{provide:cx,useValue:"X-XSRF-TOKEN"}]}),n})(),NF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[XN,{provide:qN,useClass:MF},n1,{provide:WN,useExisting:n1}],imports:[RF.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]}),n})();function PF(n,e){1&n&&(f.TgZ(0,"small"),f._uU(1,"Full Name is required."),f.qZA())}function OF(n,e){1&n&&(f.TgZ(0,"small"),f._uU(1,"Full Name can only contain letters and spaces."),f.qZA())}function kF(n,e){if(1&n&&(f.TgZ(0,"div"),f.YNc(1,PF,2,0,"small",48),f.YNc(2,OF,2,0,"small",48),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Q6J("ngIf",null==t.formControls.fullName||null==t.formControls.fullName.errors?null:t.formControls.fullName.errors.required),f.xp6(1),f.Q6J("ngIf",null==t.formControls.fullName||null==t.formControls.fullName.errors?null:t.formControls.fullName.errors.pattern)}}function FF(n,e){1&n&&(f.TgZ(0,"small"),f._uU(1,"Email is required."),f.qZA())}function LF(n,e){1&n&&(f.TgZ(0,"small"),f._uU(1,"Please enter a valid email address."),f.qZA())}function VF(n,e){if(1&n&&(f.TgZ(0,"div"),f.YNc(1,FF,2,0,"small",48),f.YNc(2,LF,2,0,"small",48),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Q6J("ngIf",null==t.formControls.email||null==t.formControls.email.errors?null:t.formControls.email.errors.required),f.xp6(1),f.Q6J("ngIf",null==t.formControls.email||null==t.formControls.email.errors?null:t.formControls.email.errors.email)}}function UF(n,e){1&n&&(f.TgZ(0,"small"),f._uU(1,"Phone Number is required."),f.qZA())}function BF(n,e){1&n&&(f.TgZ(0,"small"),f._uU(1,"Phone Number must be between 10 and 15 digits."),f.qZA())}function jF(n,e){if(1&n&&(f.TgZ(0,"div"),f.YNc(1,UF,2,0,"small",48),f.YNc(2,BF,2,0,"small",48),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Q6J("ngIf",null==t.formControls.phoneNumber||null==t.formControls.phoneNumber.errors?null:t.formControls.phoneNumber.errors.required),f.xp6(1),f.Q6J("ngIf",null==t.formControls.phoneNumber||null==t.formControls.phoneNumber.errors?null:t.formControls.phoneNumber.errors.pattern)}}function $F(n,e){1&n&&(f.TgZ(0,"small"),f._uU(1,"Subject is required."),f.qZA())}function HF(n,e){if(1&n&&(f.TgZ(0,"div"),f.YNc(1,$F,2,0,"small",48),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Q6J("ngIf",null==t.formControls.subject||null==t.formControls.subject.errors?null:t.formControls.subject.errors.required)}}function GF(n,e){1&n&&(f.TgZ(0,"small"),f._uU(1,"Your Message is required."),f.qZA())}function zF(n,e){if(1&n&&(f.TgZ(0,"div"),f.YNc(1,GF,2,0,"small",48),f.qZA()),2&n){const t=f.oxw();f.xp6(1),f.Q6J("ngIf",null==t.formControls.message||null==t.formControls.message.errors?null:t.formControls.message.errors.required)}}const qF=[{path:"",component:(()=>{class n{constructor(t,r,s,u){this.renderer=t,this.http=r,this.afs=s,this.afAuth=u,this.showForm=!1,this.errorMessage=null,this.isSubmitted=!1,this.signupForm=new dl({fullName:new ra(null,[xs.required,xs.pattern(/^[a-zA-Z\s]*$/)]),email:new ra(null,[xs.required,xs.email]),phoneNumber:new ra(null,[xs.required,xs.pattern(/^[0-9]{10,15}$/)]),subject:new ra(null,xs.required),message:new ra(null,xs.required)})}ngOnInit(){const t=this.renderer.selectRootElement("#menu-icon",!0),r=this.renderer.selectRootElement(".navbar",!0),s=document.querySelectorAll("section"),u=document.querySelectorAll("header nav a"),c=()=>{s.forEach(w=>{const b=window.scrollY,A=w.offsetTop-150,R=w.offsetHeight,V=w.getAttribute("id");b>=A&&b<A+R&&u.forEach(G=>{G.classList.remove("active"),G.getAttribute("href")?.includes(V)&&G.classList.add("active")})})};window.addEventListener("scroll",c),t.addEventListener("click",()=>{t.classList.toggle("bx-x"),r.classList.toggle("active")}),c()}onSubmit(){this.signupForm.valid?this.http.post("URL_DE_TU_API",this.signupForm.value).subscribe(t=>{console.log("Respuesta del servidor:",t)},t=>{console.error("Error al enviar el formulario:",t)}):this.isSubmitted=!0}get formControls(){return this.signupForm.controls}downloadPDF(){const t=document.createElement("a");t.href="assets/CV_202307251032426.pdf",t.download="CV_202307251032426.pdf",t.click()}saveStudent(){this.afs.collection("students").add(this.signupForm.value).then(()=>{this.showForm=!1,this.signupForm.reset(),alert("Message sent successfully!")}).catch(t=>this.handleError(t))}handleError(t){this.errorMessage=t.message||"An error occurred."}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(XN),f.Y36(sx),f.Y36(nx))},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-my-portfolio"]],decls:181,vars:6,consts:[[1,"header"],["href","#home",1,"logo"],["id","menu-icon",1,"bx","bx-menu"],[1,"navbar"],["href","#home",1,"active"],["href","#experience"],["href","#projects"],["href","#education"],["href","#contact"],["id","home",1,"home"],[1,"home-content"],[1,"text-animation"],[1,"social-icons"],["href","https://www.linkedin.com/in/manishyadav2329/"],[1,"bx","bxl-linkedin-square"],["href","https://www.instagram.com/manishyadav_2329"],[1,"bx","bxl-instagram"],["href","https://www.facebook.com/profile.php?id=100013526718652"],[1,"bx","bxl-facebook-circle"],[1,"btn-group"],["href","#contact",1,"btn"],[1,"home-img"],["src","assets/myimage.jpg","alt",""],["id","experience",1,"services"],[1,"heading"],[1,"services-container"],[1,"service-box"],[1,"service-info"],["id","projects",1,"testimonials"],[1,"testimonials-box"],[1,"wrapper"],[1,"testimonials-item"],["src","assets/img11.svg","alt",""],[1,"porject-paragrap"],["src","assets/img22.svg","alt",""],[1,"rating"],["src","assets/img33.svg","alt",""],["id","education",1,"education"],[1,"timeline-items"],[1,"timeline-item"],[1,"timeline-dot"],[1,"timeline-date"],[1,"timeline-content"],["id","contact",1,"contact"],[3,"formGroup","ngSubmit"],[1,"input-group"],[1,"input-box"],["type","text","placeholder","Full Name","formControlName","fullName"],[4,"ngIf"],["type","email","placeholder","Email","formControlName","email"],["type","number","placeholder","Phone Number","formControlName","phoneNumber"],["type","text","placeholder","Subject","formControlName","subject"],[1,"input-group-2"],["cols","30","rows","10","placeholder","Your Message","formControlName","message"],["type","submit",1,"btn",3,"click"],[1,"container"],[1,"download-button",3,"click"],[1,"footer"],[1,"social"],[1,"list"],["href","#"]],template:function(t,r){1&t&&(f.TgZ(0,"body")(1,"header",0)(2,"a",1),f._uU(3,"Manesh "),f.TgZ(4,"span"),f._uU(5,"Yadav"),f.qZA()(),f._UZ(6,"i",2),f.TgZ(7,"nav",3)(8,"a",4),f._uU(9,"Home"),f.qZA(),f.TgZ(10,"a",5),f._uU(11,"Experience"),f.qZA(),f.TgZ(12,"a",6),f._uU(13,"Projects Worked"),f.qZA(),f.TgZ(14,"a",7),f._uU(15,"Education"),f.qZA(),f.TgZ(16,"a",8),f._uU(17,"Contact"),f.qZA()()(),f.TgZ(18,"section",9)(19,"div",10)(20,"h1"),f._uU(21,"Hello "),f.TgZ(22,"span"),f._uU(23,"I\u2019m Manesh"),f.qZA()(),f.TgZ(24,"h3",11),f._uU(25,"a \xa0"),f._UZ(26,"span"),f.qZA(),f.TgZ(27,"p"),f._uU(28,"with expertise in .NET, Angular, and SQL. I enjoy turning ideas into easy-to-use applications . I love making ideas into polished, user-friendly applications."),f.qZA(),f.TgZ(29,"div",12)(30,"a",13),f._UZ(31,"i",14),f.qZA(),f.TgZ(32,"a",15),f._UZ(33,"i",16),f.qZA(),f.TgZ(34,"a",17),f._UZ(35,"i",18),f.qZA()(),f.TgZ(36,"div",19)(37,"a",20),f._uU(38,"Hire"),f.qZA(),f.TgZ(39,"a",20),f._uU(40,"Contact"),f.qZA()()(),f.TgZ(41,"div",21),f._UZ(42,"img",22),f.qZA()(),f.TgZ(43,"section",23)(44,"h2",24),f._uU(45,"Skills & Experience"),f.qZA(),f.TgZ(46,"div",25)(47,"div",26)(48,"div",27)(49,"h4"),f._uU(50,"Front End Development"),f.qZA(),f.TgZ(51,"p"),f._uU(52,"Proficient in Angular, TypeScript, HTML, CSS and Experience with component-based architecture and state management (RxJS)"),f.qZA()()(),f.TgZ(53,"div",26)(54,"div",27)(55,"h4"),f._uU(56,"Back End Development"),f.qZA(),f.TgZ(57,"p"),f._uU(58,"Skilled in C# and ASP.NET Core for building RESTful APIs. Familiar with authentication JWT and authorization. "),f.qZA()()(),f.TgZ(59,"div",26)(60,"div",27)(61,"h4"),f._uU(62,"Database Management"),f.qZA(),f.TgZ(63,"p"),f._uU(64,"Able to work with Microsoft SQL Server. "),f.qZA()()(),f.TgZ(65,"div",26)(66,"div",27)(67,"h4"),f._uU(68,"Version Control"),f.qZA(),f.TgZ(69,"p"),f._uU(70,"good at using Git and GitHub for collaborative development. "),f.qZA()()()()(),f.TgZ(71,"section",28)(72,"div",29)(73,"h2",24),f._uU(74,"Projects Worked"),f.qZA(),f.TgZ(75,"div",30)(76,"div",31),f._UZ(77,"img",32),f.TgZ(78,"h2"),f._uU(79,"Enterprise Application"),f.qZA(),f.TgZ(80,"p",33),f._uU(81,"An enterprise application integrating procurement, employee management, CRM, and order storage streamlines organizational operations. It facilitates efficient procurement processes, manages employee data effectively, enhances customer relationship management, and optimizes order storage and retrieval. This comprehensive solution ensures seamless coordination across departments, enhances productivity, and improves customer satisfaction through streamlined operations and data-driven insights."),f.qZA()(),f.TgZ(82,"div",31),f._UZ(83,"img",34),f.TgZ(84,"h2"),f._uU(85,"Pushpak.AI"),f.qZA(),f._UZ(86,"div",35),f.TgZ(87,"p",33),f._uU(88,"A company specializing in monitoring footage and violations typically provides comprehensive surveillance and compliance solutions. They utilize advanced technology to capture and analyze video footage from various sources, such as CCTV cameras or specialized sensors. This allows them to monitor areas for compliance with regulations, safety standards, or operational protocols."),f.qZA()(),f.TgZ(89,"div",31),f._UZ(90,"img",36),f.TgZ(91,"h2"),f._uU(92,"ITCRODTEP"),f.qZA(),f._UZ(93,"div",35),f.TgZ(94,"p"),f._uU(95," The application is designed to track transactions and manage GST details seamlessly. It facilitates the uploading and downloading of files related to financial transactions and GST compliance. Users can input transaction data, monitor GST filings, and manage document uploads effortlessly. The application ensures compliance with tax regulations by providing tools for data analysis and reporting. "),f.qZA()()()()(),f.TgZ(96,"section",37)(97,"h2",24),f._uU(98,"Education"),f.qZA(),f.TgZ(99,"div",38)(100,"div",39),f._UZ(101,"div",40),f.TgZ(102,"div",41),f._uU(103,"2023"),f.qZA(),f.TgZ(104,"div",42)(105,"h3"),f._uU(106,"Sathya Technologies"),f.qZA(),f.TgZ(107,"p"),f._uU(108,"I had done my course on dot net full stack"),f.qZA()()()(),f.TgZ(109,"div",38)(110,"div",39),f._UZ(111,"div",40),f.TgZ(112,"div",41),f._uU(113,"2022"),f.qZA(),f.TgZ(114,"div",42)(115,"h3"),f._uU(116,"JNTUH"),f.qZA(),f.TgZ(117,"p"),f._uU(118,"Completed my Engineering in specilization of Civil Engineering"),f.qZA()()()(),f.TgZ(119,"div",38)(120,"div",39),f._UZ(121,"div",40),f.TgZ(122,"div",41),f._uU(123,"2019"),f.qZA(),f.TgZ(124,"div",42)(125,"h3"),f._uU(126,"SBTET"),f.qZA(),f.TgZ(127,"p"),f._uU(128,"Completed Diploma in Civil Engineering "),f.qZA()()()(),f.TgZ(129,"div",38)(130,"div",39),f._UZ(131,"div",40),f.TgZ(132,"div",41),f._uU(133,"2016"),f.qZA(),f.TgZ(134,"div",42)(135,"h3"),f._uU(136,"Kendriya Vidyalaya Sangathan"),f.qZA(),f.TgZ(137,"p"),f._uU(138,"Completed my High School"),f.qZA()()()()(),f.TgZ(139,"section",43)(140,"h2",24),f._uU(141,"Contact"),f.TgZ(142,"span"),f._uU(143,"Me"),f.qZA()(),f.TgZ(144,"form",44),f.NdJ("ngSubmit",function(){return r.saveStudent()}),f.TgZ(145,"div",45)(146,"div",46),f._UZ(147,"input",47),f.YNc(148,kF,3,2,"div",48),f._UZ(149,"input",49),f.YNc(150,VF,3,2,"div",48),f.qZA(),f.TgZ(151,"div",46),f._UZ(152,"input",50),f.YNc(153,jF,3,2,"div",48),f._UZ(154,"input",51),f.YNc(155,HF,2,1,"div",48),f.qZA()(),f.TgZ(156,"div",52),f._UZ(157,"textarea",53),f.YNc(158,zF,2,1,"div",48),f.TgZ(159,"button",54),f.NdJ("click",function(){return r.onSubmit()}),f._uU(160,"Send Message"),f.qZA()()(),f.TgZ(161,"div",55)(162,"h1"),f._uU(163,"Download Resume"),f.qZA(),f.TgZ(164,"button",56),f.NdJ("click",function(){return r.downloadPDF()}),f._uU(165,"Download"),f.qZA()()(),f.TgZ(166,"footer",57)(167,"div",58)(168,"a",13),f._UZ(169,"i",14),f.qZA(),f.TgZ(170,"a",15),f._UZ(171,"i",16),f.qZA(),f.TgZ(172,"a",17),f._UZ(173,"i",18),f.qZA()(),f.TgZ(174,"ul",59)(175,"li")(176,"a",60),f._uU(177,"About Me"),f.qZA()(),f.TgZ(178,"li")(179,"a",60),f._uU(180,"Contact"),f.qZA()()()()()),2&t&&(f.xp6(144),f.Q6J("formGroup",r.signupForm),f.xp6(4),f.Q6J("ngIf",r.isSubmitted||(null==r.formControls.fullName?null:r.formControls.fullName.invalid)&&((null==r.formControls.fullName?null:r.formControls.fullName.dirty)||(null==r.formControls.fullName?null:r.formControls.fullName.touched))),f.xp6(2),f.Q6J("ngIf",r.isSubmitted||(null==r.formControls.email?null:r.formControls.email.invalid)&&((null==r.formControls.email?null:r.formControls.email.dirty)||(null==r.formControls.email?null:r.formControls.email.touched))),f.xp6(3),f.Q6J("ngIf",r.isSubmitted||(null==r.formControls.phoneNumber?null:r.formControls.phoneNumber.invalid)&&((null==r.formControls.phoneNumber?null:r.formControls.phoneNumber.dirty)||(null==r.formControls.phoneNumber?null:r.formControls.phoneNumber.touched))),f.xp6(2),f.Q6J("ngIf",r.isSubmitted||(null==r.formControls.subject?null:r.formControls.subject.invalid)&&((null==r.formControls.subject?null:r.formControls.subject.dirty)||(null==r.formControls.subject?null:r.formControls.subject.touched))),f.xp6(3),f.Q6J("ngIf",r.isSubmitted||(null==r.formControls.message?null:r.formControls.message.invalid)&&((null==r.formControls.message?null:r.formControls.message.dirty)||(null==r.formControls.message?null:r.formControls.message.touched))))},dependencies:[dr,bm,hp,Tm,cb,db,xm,Xv],styles:["small[_ngcontent-%COMP%]{font-weight:700;font-size:larger;color:red}.container[_ngcontent-%COMP%]{text-align:center;margin-top:50px}.download-button[_ngcontent-%COMP%]{background-color:#4caf50;border:none;color:#fff;padding:15px 32px;text-align:center;text-decoration:none;display:inline-block;font-size:16px;margin:4px 2px;cursor:pointer;border-radius:8px;transition:background-color .3s ease}.download-button[_ngcontent-%COMP%]:hover{background-color:#45a049}"]}),n})()},{path:"admin",component:vF}];let WF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[Ww.forRoot(qF),Ww]}),n})(),ZF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["app-root"]],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},dependencies:[h]}),n})();const i1_firebase={apiKey:"AIzaSyDzHV182tBfjIPph-_EcFzYf4gMPD02qf4",authDomain:"maneshyadav-6e13d.firebaseapp.com",projectId:"maneshyadav-6e13d",storageBucket:"maneshyadav-6e13d.firebasestorage.app",messagingSenderId:"345105202578",appId:"1:345105202578:web:9afef449d3d25b1717d54b"};let KF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n,bootstrap:[ZF]}),n.\u0275inj=f.cJS({imports:[rc,WF,Co.hO.initializeApp(i1_firebase),gF,_h,jc,NF]}),n})();(0,f.G48)(),Fu().bootstrapModule(KF).catch(n=>console.error(n))},9751:(yt,Me,F)=>{F.d(Me,{y:()=>we});var f=F(2961),K=F(727),O=F(8822),oe=F(9635),se=F(2416),he=F(576),de=F(2806);let we=(()=>{class W{constructor(xe){xe&&(this._subscribe=xe)}lift(xe){const De=new W;return De.source=this,De.operator=xe,De}subscribe(xe,De,Xe){const ye=function j(W){return W&&W instanceof f.Lv||function z(W){return W&&(0,he.m)(W.next)&&(0,he.m)(W.error)&&(0,he.m)(W.complete)}(W)&&(0,K.Nn)(W)}(xe)?xe:new f.Hp(xe,De,Xe);return(0,de.x)(()=>{const{operator:me,source:pt}=this;ye.add(me?me.call(ye,pt):pt?this._subscribe(ye):this._trySubscribe(ye))}),ye}_trySubscribe(xe){try{return this._subscribe(xe)}catch(De){xe.error(De)}}forEach(xe,De){return new(De=pe(De))((Xe,ye)=>{const me=new f.Hp({next:pt=>{try{xe(pt)}catch(It){ye(It),me.unsubscribe()}},error:ye,complete:Xe});this.subscribe(me)})}_subscribe(xe){var De;return null===(De=this.source)||void 0===De?void 0:De.subscribe(xe)}[O.L](){return this}pipe(...xe){return(0,oe.U)(xe)(this)}toPromise(xe){return new(xe=pe(xe))((De,Xe)=>{let ye;this.subscribe(me=>ye=me,me=>Xe(me),()=>De(ye))})}}return W.create=He=>new W(He),W})();function pe(W){var He;return null!==(He=W??se.v.Promise)&&void 0!==He?He:Promise}},7579:(yt,Me,F)=>{F.d(Me,{x:()=>de});var f=F(9751),K=F(727);const oe=(0,F(3888).d)(pe=>function(){pe(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var se=F(8737),he=F(2806);let de=(()=>{class pe extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(j){const W=new we(this,this);return W.operator=j,W}_throwIfClosed(){if(this.closed)throw new oe}next(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const W of this.currentObservers)W.next(j)}})}error(j){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=j;const{observers:W}=this;for(;W.length;)W.shift().error(j)}})}complete(){(0,he.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:j}=this;for(;j.length;)j.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var j;return(null===(j=this.observers)||void 0===j?void 0:j.length)>0}_trySubscribe(j){return this._throwIfClosed(),super._trySubscribe(j)}_subscribe(j){return this._throwIfClosed(),this._checkFinalizedStatuses(j),this._innerSubscribe(j)}_innerSubscribe(j){const{hasError:W,isStopped:He,observers:xe}=this;return W||He?K.Lc:(this.currentObservers=null,xe.push(j),new K.w0(()=>{this.currentObservers=null,(0,se.P)(xe,j)}))}_checkFinalizedStatuses(j){const{hasError:W,thrownError:He,isStopped:xe}=this;W?j.error(He):xe&&j.complete()}asObservable(){const j=new f.y;return j.source=this,j}}return pe.create=(z,j)=>new we(z,j),pe})();class we extends de{constructor(z,j){super(),this.destination=z,this.source=j}next(z){var j,W;null===(W=null===(j=this.destination)||void 0===j?void 0:j.next)||void 0===W||W.call(j,z)}error(z){var j,W;null===(W=null===(j=this.destination)||void 0===j?void 0:j.error)||void 0===W||W.call(j,z)}complete(){var z,j;null===(j=null===(z=this.destination)||void 0===z?void 0:z.complete)||void 0===j||j.call(z)}_subscribe(z){var j,W;return null!==(W=null===(j=this.source)||void 0===j?void 0:j.subscribe(z))&&void 0!==W?W:K.Lc}}},2961:(yt,Me,F)=>{F.d(Me,{Hp:()=>Xe,Lv:()=>W});var f=F(576),K=F(727),O=F(2416),oe=F(7849);function se(){}const he=pe("C",void 0,void 0);function pe(Pe,ve,ge){return{kind:Pe,value:ve,error:ge}}var z=F(3410),j=F(2806);class W extends K.w0{constructor(ve){super(),this.isStopped=!1,ve?(this.destination=ve,(0,K.Nn)(ve)&&ve.add(this)):this.destination=It}static create(ve,ge,ze){return new Xe(ve,ge,ze)}next(ve){this.isStopped?pt(function we(Pe){return pe("N",Pe,void 0)}(ve),this):this._next(ve)}error(ve){this.isStopped?pt(function de(Pe){return pe("E",void 0,Pe)}(ve),this):(this.isStopped=!0,this._error(ve))}complete(){this.isStopped?pt(he,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(ve){this.destination.next(ve)}_error(ve){try{this.destination.error(ve)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const He=Function.prototype.bind;function xe(Pe,ve){return He.call(Pe,ve)}class De{constructor(ve){this.partialObserver=ve}next(ve){const{partialObserver:ge}=this;if(ge.next)try{ge.next(ve)}catch(ze){ye(ze)}}error(ve){const{partialObserver:ge}=this;if(ge.error)try{ge.error(ve)}catch(ze){ye(ze)}else ye(ve)}complete(){const{partialObserver:ve}=this;if(ve.complete)try{ve.complete()}catch(ge){ye(ge)}}}class Xe extends W{constructor(ve,ge,ze){let je;if(super(),(0,f.m)(ve)||!ve)je={next:ve??void 0,error:ge??void 0,complete:ze??void 0};else{let et;this&&O.v.useDeprecatedNextContext?(et=Object.create(ve),et.unsubscribe=()=>this.unsubscribe(),je={next:ve.next&&xe(ve.next,et),error:ve.error&&xe(ve.error,et),complete:ve.complete&&xe(ve.complete,et)}):je=ve}this.destination=new De(je)}}function ye(Pe){O.v.useDeprecatedSynchronousErrorHandling?(0,j.O)(Pe):(0,oe.h)(Pe)}function pt(Pe,ve){const{onStoppedNotification:ge}=O.v;ge&&z.z.setTimeout(()=>ge(Pe,ve))}const It={closed:!0,next:se,error:function me(Pe){throw Pe},complete:se}},727:(yt,Me,F)=>{F.d(Me,{Lc:()=>he,w0:()=>se,Nn:()=>de});var f=F(576);const O=(0,F(3888).d)(pe=>function(j){pe(this),this.message=j?`${j.length} errors occurred during unsubscription:\n${j.map((W,He)=>`${He+1}) ${W.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=j});var oe=F(8737);class se{constructor(z){this.initialTeardown=z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let z;if(!this.closed){this.closed=!0;const{_parentage:j}=this;if(j)if(this._parentage=null,Array.isArray(j))for(const xe of j)xe.remove(this);else j.remove(this);const{initialTeardown:W}=this;if((0,f.m)(W))try{W()}catch(xe){z=xe instanceof O?xe.errors:[xe]}const{_finalizers:He}=this;if(He){this._finalizers=null;for(const xe of He)try{we(xe)}catch(De){z=z??[],De instanceof O?z=[...z,...De.errors]:z.push(De)}}if(z)throw new O(z)}}add(z){var j;if(z&&z!==this)if(this.closed)we(z);else{if(z instanceof se){if(z.closed||z._hasParent(this))return;z._addParent(this)}(this._finalizers=null!==(j=this._finalizers)&&void 0!==j?j:[]).push(z)}}_hasParent(z){const{_parentage:j}=this;return j===z||Array.isArray(j)&&j.includes(z)}_addParent(z){const{_parentage:j}=this;this._parentage=Array.isArray(j)?(j.push(z),j):j?[j,z]:z}_removeParent(z){const{_parentage:j}=this;j===z?this._parentage=null:Array.isArray(j)&&(0,oe.P)(j,z)}remove(z){const{_finalizers:j}=this;j&&(0,oe.P)(j,z),z instanceof se&&z._removeParent(this)}}se.EMPTY=(()=>{const pe=new se;return pe.closed=!0,pe})();const he=se.EMPTY;function de(pe){return pe instanceof se||pe&&"closed"in pe&&(0,f.m)(pe.remove)&&(0,f.m)(pe.add)&&(0,f.m)(pe.unsubscribe)}function we(pe){(0,f.m)(pe)?pe():pe.unsubscribe()}},2416:(yt,Me,F)=>{F.d(Me,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(yt,Me,F)=>{F.d(Me,{E:()=>K});const K=new(F(9751).y)(se=>se.complete())},8996:(yt,Me,F)=>{F.d(Me,{D:()=>ve});var f=F(8421),K=F(5363),O=F(9468),he=F(9751),we=F(2202),pe=F(576),z=F(9672);function W(ge,ze){if(!ge)throw new Error("Iterable cannot be null");return new he.y(je=>{(0,z.f)(je,ze,()=>{const et=ge[Symbol.asyncIterator]();(0,z.f)(je,ze,()=>{et.next().then(te=>{te.done?je.complete():je.next(te.value)})},0,!0)})})}var He=F(3670),xe=F(8239),De=F(1144),Xe=F(6495),ye=F(2206),me=F(4532),pt=F(3260);function ve(ge,ze){return ze?function Pe(ge,ze){if(null!=ge){if((0,He.c)(ge))return function oe(ge,ze){return(0,f.Xf)(ge).pipe((0,O.R)(ze),(0,K.Q)(ze))}(ge,ze);if((0,De.z)(ge))return function de(ge,ze){return new he.y(je=>{let et=0;return ze.schedule(function(){et===ge.length?je.complete():(je.next(ge[et++]),je.closed||this.schedule())})})}(ge,ze);if((0,xe.t)(ge))return function se(ge,ze){return(0,f.Xf)(ge).pipe((0,O.R)(ze),(0,K.Q)(ze))}(ge,ze);if((0,ye.D)(ge))return W(ge,ze);if((0,Xe.T)(ge))return function j(ge,ze){return new he.y(je=>{let et;return(0,z.f)(je,ze,()=>{et=ge[we.h](),(0,z.f)(je,ze,()=>{let te,Rt;try{({value:te,done:Rt}=et.next())}catch(st){return void je.error(st)}Rt?je.complete():je.next(te)},0,!0)}),()=>(0,pe.m)(et?.return)&&et.return()})}(ge,ze);if((0,pt.L)(ge))return function It(ge,ze){return W((0,pt.Q)(ge),ze)}(ge,ze)}throw(0,me.z)(ge)}(ge,ze):(0,f.Xf)(ge)}},8421:(yt,Me,F)=>{F.d(Me,{Xf:()=>He});var f=F(7582),K=F(1144),O=F(8239),oe=F(9751),se=F(3670),he=F(2206),de=F(4532),we=F(6495),pe=F(3260),z=F(576),j=F(7849),W=F(8822);function He(Pe){if(Pe instanceof oe.y)return Pe;if(null!=Pe){if((0,se.c)(Pe))return function xe(Pe){return new oe.y(ve=>{const ge=Pe[W.L]();if((0,z.m)(ge.subscribe))return ge.subscribe(ve);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Pe);if((0,K.z)(Pe))return function De(Pe){return new oe.y(ve=>{for(let ge=0;ge<Pe.length&&!ve.closed;ge++)ve.next(Pe[ge]);ve.complete()})}(Pe);if((0,O.t)(Pe))return function Xe(Pe){return new oe.y(ve=>{Pe.then(ge=>{ve.closed||(ve.next(ge),ve.complete())},ge=>ve.error(ge)).then(null,j.h)})}(Pe);if((0,he.D)(Pe))return me(Pe);if((0,we.T)(Pe))return function ye(Pe){return new oe.y(ve=>{for(const ge of Pe)if(ve.next(ge),ve.closed)return;ve.complete()})}(Pe);if((0,pe.L)(Pe))return function pt(Pe){return me((0,pe.Q)(Pe))}(Pe)}throw(0,de.z)(Pe)}function me(Pe){return new oe.y(ve=>{(function It(Pe,ve){var ge,ze,je,et;return(0,f.mG)(this,void 0,void 0,function*(){try{for(ge=(0,f.KL)(Pe);!(ze=yield ge.next()).done;)if(ve.next(ze.value),ve.closed)return}catch(te){je={error:te}}finally{try{ze&&!ze.done&&(et=ge.return)&&(yield et.call(ge))}finally{if(je)throw je.error}}ve.complete()})})(Pe,ve).catch(ge=>ve.error(ge))})}},6451:(yt,Me,F)=>{F.d(Me,{T:()=>he});var f=F(8189),K=F(8421),O=F(515),oe=F(7669),se=F(8996);function he(...de){const we=(0,oe.yG)(de),pe=(0,oe._6)(de,1/0),z=de;return z.length?1===z.length?(0,K.Xf)(z[0]):(0,f.J)(pe)((0,se.D)(z,we)):O.E}},5403:(yt,Me,F)=>{F.d(Me,{x:()=>K});var f=F(2961);function K(oe,se,he,de,we){return new O(oe,se,he,de,we)}class O extends f.Lv{constructor(se,he,de,we,pe,z){super(se),this.onFinalize=pe,this.shouldUnsubscribe=z,this._next=he?function(j){try{he(j)}catch(W){se.error(W)}}:super._next,this._error=we?function(j){try{we(j)}catch(W){se.error(W)}finally{this.unsubscribe()}}:super._error,this._complete=de?function(){try{de()}catch(j){se.error(j)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var se;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:he}=this;super.unsubscribe(),!he&&(null===(se=this.onFinalize)||void 0===se||se.call(this))}}}},4004:(yt,Me,F)=>{F.d(Me,{U:()=>O});var f=F(4482),K=F(5403);function O(oe,se){return(0,f.e)((he,de)=>{let we=0;he.subscribe((0,K.x)(de,pe=>{de.next(oe.call(se,pe,we++))}))})}},8189:(yt,Me,F)=>{F.d(Me,{J:()=>O});var f=F(5577),K=F(4671);function O(oe=1/0){return(0,f.z)(K.y,oe)}},5577:(yt,Me,F)=>{F.d(Me,{z:()=>we});var f=F(4004),K=F(8421),O=F(4482),oe=F(9672),se=F(5403),de=F(576);function we(pe,z,j=1/0){return(0,de.m)(z)?we((W,He)=>(0,f.U)((xe,De)=>z(W,xe,He,De))((0,K.Xf)(pe(W,He))),j):("number"==typeof z&&(j=z),(0,O.e)((W,He)=>function he(pe,z,j,W,He,xe,De,Xe){const ye=[];let me=0,pt=0,It=!1;const Pe=()=>{It&&!ye.length&&!me&&z.complete()},ve=ze=>me<W?ge(ze):ye.push(ze),ge=ze=>{xe&&z.next(ze),me++;let je=!1;(0,K.Xf)(j(ze,pt++)).subscribe((0,se.x)(z,et=>{He?.(et),xe?ve(et):z.next(et)},()=>{je=!0},void 0,()=>{if(je)try{for(me--;ye.length&&me<W;){const et=ye.shift();De?(0,oe.f)(z,De,()=>ge(et)):ge(et)}Pe()}catch(et){z.error(et)}}))};return pe.subscribe((0,se.x)(z,ve,()=>{It=!0,Pe()})),()=>{Xe?.()}}(W,He,pe,j)))}},5363:(yt,Me,F)=>{F.d(Me,{Q:()=>oe});var f=F(9672),K=F(4482),O=F(5403);function oe(se,he=0){return(0,K.e)((de,we)=>{de.subscribe((0,O.x)(we,pe=>(0,f.f)(we,se,()=>we.next(pe),he),()=>(0,f.f)(we,se,()=>we.complete(),he),pe=>(0,f.f)(we,se,()=>we.error(pe),he)))})}},3099:(yt,Me,F)=>{F.d(Me,{B:()=>se});var f=F(8421),K=F(7579),O=F(2961),oe=F(4482);function se(de={}){const{connector:we=(()=>new K.x),resetOnError:pe=!0,resetOnComplete:z=!0,resetOnRefCountZero:j=!0}=de;return W=>{let He,xe,De,Xe=0,ye=!1,me=!1;const pt=()=>{xe?.unsubscribe(),xe=void 0},It=()=>{pt(),He=De=void 0,ye=me=!1},Pe=()=>{const ve=He;It(),ve?.unsubscribe()};return(0,oe.e)((ve,ge)=>{Xe++,!me&&!ye&&pt();const ze=De=De??we();ge.add(()=>{Xe--,0===Xe&&!me&&!ye&&(xe=he(Pe,j))}),ze.subscribe(ge),!He&&Xe>0&&(He=new O.Hp({next:je=>ze.next(je),error:je=>{me=!0,pt(),xe=he(It,pe,je),ze.error(je)},complete:()=>{ye=!0,pt(),xe=he(It,z),ze.complete()}}),(0,f.Xf)(ve).subscribe(He))})(W)}}function he(de,we,...pe){if(!0===we)return void de();if(!1===we)return;const z=new O.Hp({next:()=>{z.unsubscribe(),de()}});return we(...pe).subscribe(z)}},9468:(yt,Me,F)=>{F.d(Me,{R:()=>K});var f=F(4482);function K(O,oe=0){return(0,f.e)((se,he)=>{he.add(O.schedule(()=>se.subscribe(he),oe))})}},8505:(yt,Me,F)=>{F.d(Me,{b:()=>se});var f=F(576),K=F(4482),O=F(5403),oe=F(4671);function se(he,de,we){const pe=(0,f.m)(he)||de||we?{next:he,error:de,complete:we}:he;return pe?(0,K.e)((z,j)=>{var W;null===(W=pe.subscribe)||void 0===W||W.call(pe);let He=!0;z.subscribe((0,O.x)(j,xe=>{var De;null===(De=pe.next)||void 0===De||De.call(pe,xe),j.next(xe)},()=>{var xe;He=!1,null===(xe=pe.complete)||void 0===xe||xe.call(pe),j.complete()},xe=>{var De;He=!1,null===(De=pe.error)||void 0===De||De.call(pe,xe),j.error(xe)},()=>{var xe,De;He&&(null===(xe=pe.unsubscribe)||void 0===xe||xe.call(pe)),null===(De=pe.finalize)||void 0===De||De.call(pe)}))}):oe.y}},4408:(yt,Me,F)=>{F.d(Me,{o:()=>se});var f=F(727);class K extends f.w0{constructor(de,we){super()}schedule(de,we=0){return this}}const O={setInterval(he,de,...we){const{delegate:pe}=O;return pe?.setInterval?pe.setInterval(he,de,...we):setInterval(he,de,...we)},clearInterval(he){const{delegate:de}=O;return(de?.clearInterval||clearInterval)(he)},delegate:void 0};var oe=F(8737);class se extends K{constructor(de,we){super(de,we),this.scheduler=de,this.work=we,this.pending=!1}schedule(de,we=0){var pe;if(this.closed)return this;this.state=de;const z=this.id,j=this.scheduler;return null!=z&&(this.id=this.recycleAsyncId(j,z,we)),this.pending=!0,this.delay=we,this.id=null!==(pe=this.id)&&void 0!==pe?pe:this.requestAsyncId(j,this.id,we),this}requestAsyncId(de,we,pe=0){return O.setInterval(de.flush.bind(de,this),pe)}recycleAsyncId(de,we,pe=0){if(null!=pe&&this.delay===pe&&!1===this.pending)return we;null!=we&&O.clearInterval(we)}execute(de,we){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const pe=this._execute(de,we);if(pe)return pe;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(de,we){let z,pe=!1;try{this.work(de)}catch(j){pe=!0,z=j||new Error("Scheduled action threw falsy error")}if(pe)return this.unsubscribe(),z}unsubscribe(){if(!this.closed){const{id:de,scheduler:we}=this,{actions:pe}=we;this.work=this.state=this.scheduler=null,this.pending=!1,(0,oe.P)(pe,this),null!=de&&(this.id=this.recycleAsyncId(we,de,null)),this.delay=null,super.unsubscribe()}}}},7565:(yt,Me,F)=>{F.d(Me,{v:()=>O});var f=F(6063);class K{constructor(se,he=K.now){this.schedulerActionCtor=se,this.now=he}schedule(se,he=0,de){return new this.schedulerActionCtor(this,se).schedule(de,he)}}K.now=f.l.now;class O extends K{constructor(se,he=K.now){super(se,he),this.actions=[],this._active=!1}flush(se){const{actions:he}=this;if(this._active)return void he.push(se);let de;this._active=!0;do{if(de=se.execute(se.state,se.delay))break}while(se=he.shift());if(this._active=!1,de){for(;se=he.shift();)se.unsubscribe();throw de}}}},4986:(yt,Me,F)=>{F.d(Me,{z:()=>O});var f=F(4408);const O=new(F(7565).v)(f.o)},6063:(yt,Me,F)=>{F.d(Me,{l:()=>f});const f={now:()=>(f.delegate||Date).now(),delegate:void 0}},3410:(yt,Me,F)=>{F.d(Me,{z:()=>f});const f={setTimeout(K,O,...oe){const{delegate:se}=f;return se?.setTimeout?se.setTimeout(K,O,...oe):setTimeout(K,O,...oe)},clearTimeout(K){const{delegate:O}=f;return(O?.clearTimeout||clearTimeout)(K)},delegate:void 0}},2202:(yt,Me,F)=>{F.d(Me,{h:()=>K});const K=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(yt,Me,F)=>{F.d(Me,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(yt,Me,F)=>{F.d(Me,{_6:()=>he,jO:()=>oe,yG:()=>se});var f=F(576);function O(de){return de[de.length-1]}function oe(de){return(0,f.m)(O(de))?de.pop():void 0}function se(de){return function K(de){return de&&(0,f.m)(de.schedule)}(O(de))?de.pop():void 0}function he(de,we){return"number"==typeof O(de)?de.pop():we}},8737:(yt,Me,F)=>{function f(K,O){if(K){const oe=K.indexOf(O);0<=oe&&K.splice(oe,1)}}F.d(Me,{P:()=>f})},3888:(yt,Me,F)=>{function f(K){const oe=K(se=>{Error.call(se),se.stack=(new Error).stack});return oe.prototype=Object.create(Error.prototype),oe.prototype.constructor=oe,oe}F.d(Me,{d:()=>f})},2806:(yt,Me,F)=>{F.d(Me,{O:()=>oe,x:()=>O});var f=F(2416);let K=null;function O(se){if(f.v.useDeprecatedSynchronousErrorHandling){const he=!K;if(he&&(K={errorThrown:!1,error:null}),se(),he){const{errorThrown:de,error:we}=K;if(K=null,de)throw we}}else se()}function oe(se){f.v.useDeprecatedSynchronousErrorHandling&&K&&(K.errorThrown=!0,K.error=se)}},9672:(yt,Me,F)=>{function f(K,O,oe,se=0,he=!1){const de=O.schedule(function(){oe(),he?K.add(this.schedule(null,se)):this.unsubscribe()},se);if(K.add(de),!he)return de}F.d(Me,{f:()=>f})},4671:(yt,Me,F)=>{function f(K){return K}F.d(Me,{y:()=>f})},1144:(yt,Me,F)=>{F.d(Me,{z:()=>f});const f=K=>K&&"number"==typeof K.length&&"function"!=typeof K},2206:(yt,Me,F)=>{F.d(Me,{D:()=>K});var f=F(576);function K(O){return Symbol.asyncIterator&&(0,f.m)(O?.[Symbol.asyncIterator])}},576:(yt,Me,F)=>{function f(K){return"function"==typeof K}F.d(Me,{m:()=>f})},3670:(yt,Me,F)=>{F.d(Me,{c:()=>O});var f=F(8822),K=F(576);function O(oe){return(0,K.m)(oe[f.L])}},6495:(yt,Me,F)=>{F.d(Me,{T:()=>O});var f=F(2202),K=F(576);function O(oe){return(0,K.m)(oe?.[f.h])}},8239:(yt,Me,F)=>{F.d(Me,{t:()=>K});var f=F(576);function K(O){return(0,f.m)(O?.then)}},3260:(yt,Me,F)=>{F.d(Me,{L:()=>oe,Q:()=>O});var f=F(7582),K=F(576);function O(se){return(0,f.FC)(this,arguments,function*(){const de=se.getReader();try{for(;;){const{value:we,done:pe}=yield(0,f.qq)(de.read());if(pe)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(we)}}finally{de.releaseLock()}})}function oe(se){return(0,K.m)(se?.getReader)}},4482:(yt,Me,F)=>{F.d(Me,{A:()=>K,e:()=>O});var f=F(576);function K(oe){return(0,f.m)(oe?.lift)}function O(oe){return se=>{if(K(se))return se.lift(function(he){try{return oe(he,this)}catch(de){this.error(de)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(yt,Me,F)=>{F.d(Me,{U:()=>O,z:()=>K});var f=F(4671);function K(...oe){return O(oe)}function O(oe){return 0===oe.length?f.y:1===oe.length?oe[0]:function(he){return oe.reduce((de,we)=>we(de),he)}}},7849:(yt,Me,F)=>{F.d(Me,{h:()=>O});var f=F(2416),K=F(3410);function O(oe){K.z.setTimeout(()=>{const{onUnhandledError:se}=f.v;if(!se)throw oe;se(oe)})}},4532:(yt,Me,F)=>{function f(K){return new TypeError(`You provided ${null!==K&&"object"==typeof K?"an invalid object":`'${K}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}F.d(Me,{z:()=>f})},4650:(yt,Me,F)=>{F.d(Me,{$8M:()=>ku,$Z:()=>xs,AFp:()=>au,AaK:()=>we,CHM:()=>Cu,CRH:()=>og,CZH:()=>Dl,CqO:()=>wh,D6c:()=>Sr,EJc:()=>sC,EpF:()=>Rm,F4k:()=>kp,FYo:()=>Dv,FiY:()=>Gs,G48:()=>ls,GfV:()=>bv,Gpc:()=>j,JOm:()=>Gi,KtG:()=>$l,LFG:()=>Vn,LSH:()=>Dc,Lbi:()=>rd,Lck:()=>So,MMx:()=>eo,NdJ:()=>l_,OlP:()=>cn,Oqu:()=>w_,PXZ:()=>mC,Q6J:()=>LE,QGY:()=>Lt,QP$:()=>St,Qsj:()=>Aw,R0b:()=>pi,RDi:()=>Jg,Rgc:()=>gy,SBq:()=>up,Sil:()=>fi,Suo:()=>ie,TTD:()=>yi,TgZ:()=>sa,X6Q:()=>RT,XFs:()=>lt,Xpm:()=>Mn,Xts:()=>oh,Y36:()=>hh,YKP:()=>OI,YNc:()=>FE,Yjl:()=>q,Yz7:()=>fe,Z0I:()=>vt,ZZ4:()=>Ly,_Bn:()=>Z_,_UZ:()=>oa,_Vd:()=>ap,_c5:()=>FT,_uU:()=>Hm,aQg:()=>Ml,c2e:()=>iC,cJS:()=>Pt,cg1:()=>zp,dDg:()=>hC,dqk:()=>hn,eFA:()=>A0,ekj:()=>v_,eoX:()=>fC,f3M:()=>Dt,g9A:()=>lg,h0i:()=>To,hGG:()=>LT,iGM:()=>iu,ifc:()=>_t,ip1:()=>xo,jDz:()=>ly,kL8:()=>Mh,lG2:()=>L,lqb:()=>Ac,lri:()=>cC,n5z:()=>Dn,oAB:()=>ti,oxw:()=>Fp,q4F:()=>Rw,qLn:()=>lp,qOj:()=>Mp,qZA:()=>$c,rWj:()=>dC,sBO:()=>ha,sIi:()=>mh,s_b:()=>ig,soG:()=>bl,tb:()=>by,tp0:()=>vo,uIk:()=>r_,vHH:()=>De,vpe:()=>la,wAp:()=>Nt,xp6:()=>Ov,z2F:()=>Hh,zSh:()=>rp,zs3:()=>ll});var f=F(7579),K=F(727),O=F(9751),oe=F(6451),se=F(3099);function he(i){for(let o in i)if(i[o]===he)return o;throw Error("Could not find renamed property on target object.")}function de(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function we(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(we).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function pe(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const z=he({__forward_ref__:he});function j(i){return i.__forward_ref__=j,i.toString=function(){return we(this())},i}function W(i){return He(i)?i():i}function He(i){return"function"==typeof i&&i.hasOwnProperty(z)&&i.__forward_ref__===j}class De extends Error{constructor(o,a){super(function Xe(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function ye(i){return"string"==typeof i?i:null==i?"":String(i)}function ve(i,o){throw new De(-201,!1)}function ne(i,o){null==i&&function X(i,o,a,l){throw new Error(`ASSERTION ERROR: ${i}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,i,null,"!=")}function fe(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Pt(i){return{providers:i.providers||[],imports:i.imports||[]}}function Yt(i){return Wt(i,En)||Wt(i,xr)}function vt(i){return null!==Yt(i)}function Wt(i,o){return i.hasOwnProperty(o)?i[o]:null}function qt(i){return i&&(i.hasOwnProperty(Tn)||i.hasOwnProperty($r))?i[Tn]:null}const En=he({\u0275prov:he}),Tn=he({\u0275inj:he}),xr=he({ngInjectableDef:he}),$r=he({ngInjectorDef:he});var lt=(()=>((lt=lt||{})[lt.Default=0]="Default",lt[lt.Host=1]="Host",lt[lt.Self=2]="Self",lt[lt.SkipSelf=4]="SkipSelf",lt[lt.Optional=8]="Optional",lt))();let Hr;function Gr(i){const o=Hr;return Hr=i,o}function No(i,o,a){const l=Yt(i);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&lt.Optional?null:void 0!==o?o:void ve(we(i))}function ir(i){return{toString:i}.toString()}var In=(()=>((In=In||{})[In.OnPush=0]="OnPush",In[In.Default=1]="Default",In))(),_t=(()=>{return(i=_t||(_t={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",_t;var i})();const hn=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),Wn={},bt=[],yr=he({\u0275cmp:he}),ln=he({\u0275dir:he}),Po=he({\u0275pipe:he}),Jt=he({\u0275mod:he}),sr=he({\u0275fac:he}),vr=he({__NG_ELEMENT_ID__:he});let Ni=0;function Mn(i){return ir(()=>{const a=!0===i.standalone,l={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===In.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||bt,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||_t.Emulated,id:"c"+Ni++,styles:i.styles||bt,_:null,setInput:null,schemas:i.schemas||null,tView:null},g=i.dependencies,v=i.features;return d.inputs=U(i.inputs,l),d.outputs=U(i.outputs),v&&v.forEach(I=>I(d)),d.directiveDefs=g?()=>("function"==typeof g?g():g).map(es).filter(kn):null,d.pipeDefs=g?()=>("function"==typeof g?g():g).map(qe).filter(kn):null,d})}function es(i){return ae(i)||J(i)}function kn(i){return null!==i}function ti(i){return ir(()=>({type:i.type,bootstrap:i.bootstrap||bt,declarations:i.declarations||bt,imports:i.imports||bt,exports:i.exports||bt,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function U(i,o){if(null==i)return Wn;const a={};for(const l in i)if(i.hasOwnProperty(l)){let d=i[l],g=d;Array.isArray(d)&&(g=d[1],d=d[0]),a[d]=l,o&&(o[d]=g)}return a}const L=Mn;function q(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function ae(i){return i[yr]||null}function J(i){return i[ln]||null}function qe(i){return i[Po]||null}function St(i){const o=ae(i)||J(i)||qe(i);return null!==o&&o.standalone}function kt(i,o){const a=i[Jt]||null;if(!a&&!0===o)throw new Error(`Type ${we(i)} does not have '\u0275mod' property.`);return a}function or(i){return Array.isArray(i)&&"object"==typeof i[1]}function qr(i){return Array.isArray(i)&&!0===i[1]}function ko(i){return 0!=(8&i.flags)}function pu(i){return 2==(2&i.flags)}function ps(i){return 1==(1&i.flags)}function Oi(i){return null!==i.template}function Fo(i){return 0!=(256&i[2])}function gs(i,o){return i.hasOwnProperty(sr)?i[sr]:null}class lf{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function yi(){return Ed}function Ed(i){return i.type.prototype.ngOnChanges&&(i.setInput=Vl),ya}function ya(){const i=cf(this),o=i?.current;if(o){const a=i.previous;if(a===Wn)i.previous=o;else for(let l in o)a[l]=o[l];i.current=null,this.ngOnChanges(o)}}function Vl(i,o,a,l){const d=cf(i)||function Ul(i,o){return i[yu]=o}(i,{previous:Wn,current:null}),g=d.current||(d.current={}),v=d.previous,I=this.declaredInputs[a],D=v[I];g[I]=new lf(D&&D.currentValue,o,v===Wn),i[l]=o}yi.ngInherit=!0;const yu="__ngSimpleChanges__";function cf(i){return i[yu]||null}function Fn(i){for(;Array.isArray(i);)i=i[0];return i}function vi(i,o){return Fn(o[i])}function Wr(i,o){return Fn(o[i.index])}function va(i,o){return i.data[o]}function Ln(i,o){const a=o[i];return or(a)?a:a[0]}function io(i){return 64==(64&i[2])}function ri(i,o){return null==o?null:i[o]}function Hs(i){i[18]=0}function Ir(i,o){i[5]+=o;let a=i,l=i[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const At={lFrame:Wl(null),bindingsEnabled:!0};function Td(){return At.bindingsEnabled}function Te(){return At.lFrame.lView}function $t(){return At.lFrame.tView}function Cu(i){return At.lFrame.contextLView=i,i[8]}function $l(i){return At.lFrame.contextLView=null,i}function Rn(){let i=Du();for(;null!==i&&64===i.type;)i=i.parent;return i}function Du(){return At.lFrame.currentTNode}function ii(i,o){const a=At.lFrame;a.currentTNode=i,a.isParent=o}function Vo(){return At.lFrame.isParent}function ys(){return At.lFrame.bindingIndex++}function Vg(i,o){const a=At.lFrame;a.bindingIndex=a.bindingRootIndex=i,zl(o)}function zl(i){At.lFrame.currentDirectiveIndex=i}function bu(){return At.lFrame.currentQueryIndex}function Pr(i){At.lFrame.currentQueryIndex=i}function ql(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function Ea(i,o,a){if(a&lt.SkipSelf){let d=o,g=i;for(;!(d=d.parent,null!==d||a&lt.Host||(d=ql(g),null===d||(g=g[15],10&d.type))););if(null===d)return!1;o=d,i=g}const l=At.lFrame=ao();return l.currentTNode=o,l.lView=i,!0}function Ia(i){const o=ao(),a=i[1];At.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function ao(){const i=At.lFrame,o=null===i?null:i.child;return null===o?Wl(i):o}function Wl(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function Ca(){const i=At.lFrame;return At.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const Ad=Ca;function Bo(){const i=Ca();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function tn(){return At.lFrame.selectedIndex}function vs(i){At.lFrame.selectedIndex=i}function Cn(){const i=At.lFrame;return va(i.tView,i.selectedIndex)}function uo(i,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const g=i.data[a].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:I,ngAfterViewInit:D,ngAfterViewChecked:S,ngOnDestroy:N}=g;v&&(i.contentHooks||(i.contentHooks=[])).push(-a,v),I&&((i.contentHooks||(i.contentHooks=[])).push(a,I),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,I)),D&&(i.viewHooks||(i.viewHooks=[])).push(-a,D),S&&((i.viewHooks||(i.viewHooks=[])).push(a,S),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,S)),null!=N&&(i.destroyHooks||(i.destroyHooks=[])).push(a,N)}}function Da(i,o,a){ba(i,o,3,a)}function jo(i,o,a,l){(3&i[2])===a&&ba(i,o,a,l)}function Nd(i,o){let a=i[2];(3&a)===o&&(a&=2047,a+=1,i[2]=a)}function ba(i,o,a,l){const g=l??-1,v=o.length-1;let I=0;for(let D=void 0!==l?65535&i[18]:0;D<v;D++)if("number"==typeof o[D+1]){if(I=o[D],null!=l&&I>=l)break}else o[D]<0&&(i[18]+=65536),(I<g||-1==g)&&(pf(i,a,o,D),i[18]=(4294901760&i[18])+D+2),D++}function pf(i,o,a,l){const d=a[l]<0,g=a[l+1],I=i[d?-a[l]:a[l]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{g.call(I)}finally{}}}else try{g.call(I)}finally{}}class Ta{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function Mu(i,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const g=a[l++],v=a[l++],I=a[l++];i.setAttribute(o,v,I,g)}else{const g=d,v=a[++l];yf(g)?i.setProperty(o,g,v):i.setAttribute(o,g,v),l++}}return l}function Ru(i){return 3===i||4===i||6===i}function yf(i){return 64===i.charCodeAt(0)}function $o(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Od(i,a,d,null,-1===a||2===a?o[++l]:null)}}return i}function Od(i,o,a,l,d){let g=0,v=i.length;if(-1===o)v=-1;else for(;g<i.length;){const I=i[g++];if("number"==typeof I){if(I===o){v=-1;break}if(I>o){v=g-1;break}}}for(;g<i.length;){const I=i[g];if("number"==typeof I)break;if(I===a){if(null===l)return void(null!==d&&(i[g+1]=d));if(l===i[g+1])return void(i[g+2]=d)}g++,null!==l&&g++,null!==d&&g++}-1!==v&&(i.splice(v,0,o),g=v+1),i.splice(g++,0,a),null!==l&&i.splice(g++,0,l),null!==d&&i.splice(g++,0,d)}function Jl(i){return-1!==i}function Sa(i){return 32767&i}function ns(i,o){let a=function vf(i){return i>>16}(i),l=o;for(;a>0;)l=l[15],a--;return l}let Aa=!0;function ws(i){const o=Aa;return Aa=i,o}let xa=0;const _i={};function Ho(i,o){const a=co(i,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(i.injectorIndex=o.length,ec(l.data,i),ec(o,null),ec(l.blueprint,null));const d=ho(i,o),g=i.injectorIndex;if(Jl(d)){const v=Sa(d),I=ns(d,o),D=I[1].data;for(let S=0;S<8;S++)o[g+S]=I[v+S]|D[v+S]}return o[g+8]=d,g}function ec(i,o){i.push(0,0,0,0,0,0,0,0,o)}function co(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function ho(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=Ef(d),null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function Ma(i,o,a){!function Xl(i,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(vr)&&(l=a[vr]),null==l&&(l=a[vr]=xa++);const d=255&l;o.data[i+(d>>5)]|=1<<d}(i,o,a)}function Pu(i,o,a){if(a&lt.Optional||void 0!==i)return i;ve()}function _f(i,o,a,l){if(a&lt.Optional&&void 0===l&&(l=null),0==(a&(lt.Self|lt.Host))){const d=i[9],g=Gr(void 0);try{return d?d.get(o,l,a&lt.Optional):No(o,l,a&lt.Optional)}finally{Gr(g)}}return Pu(l,0,a)}function Ra(i,o,a,l=lt.Default,d){if(null!==i){if(1024&o[2]){const v=function Pa(i,o,a,l,d){let g=i,v=o;for(;null!==g&&null!==v&&1024&v[2]&&!(256&v[2]);){const I=Go(g,v,a,l|lt.Self,_i);if(I!==_i)return I;let D=g.parent;if(!D){const S=v[21];if(S){const N=S.get(a,_i,l);if(N!==_i)return N}D=Ef(v),v=v[15]}g=D}return d}(i,o,a,l,_i);if(v!==_i)return v}const g=Go(i,o,a,l,_i);if(g!==_i)return g}return _f(o,a,l,d)}function Go(i,o,a,l,d){const g=function po(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(vr)?i[vr]:void 0;return"number"==typeof o?o>=0?255&o:jg:o}(a);if("function"==typeof g){if(!Ea(o,i,l))return l&lt.Host?Pu(d,0,l):_f(o,a,l,d);try{const v=g(l);if(null!=v||l&lt.Optional)return v;ve()}finally{Ad()}}else if("number"==typeof g){let v=null,I=co(i,o),D=-1,S=l&lt.Host?o[16][6]:null;for((-1===I||l&lt.SkipSelf)&&(D=-1===I?ho(i,o):o[I+8],-1!==D&&Ou(l,!1)?(v=o[1],I=Sa(D),o=ns(D,o)):I=-1);-1!==I;){const N=o[1];if(wf(g,I,N.data)){const k=Bg(I,o,a,v,l,S);if(k!==_i)return k}D=o[I+8],-1!==D&&Ou(l,o[1].data[I+8]===S)&&wf(g,I,o)?(v=N,I=Sa(D),o=ns(D,o)):I=-1}}return d}function Bg(i,o,a,l,d,g){const v=o[1],I=v.data[i+8],N=is(I,v,a,null==l?pu(I)&&Aa:l!=v&&0!=(3&I.type),d&lt.Host&&g===I);return null!==N?Na(o,v,N,I):_i}function is(i,o,a,l,d){const g=i.providerIndexes,v=o.data,I=1048575&g,D=i.directiveStart,N=g>>20,$=d?I+N:i.directiveEnd;for(let Q=l?I:I+N;Q<$;Q++){const Ee=v[Q];if(Q<D&&a===Ee||Q>=D&&Ee.type===a)return Q}if(d){const Q=v[D];if(Q&&Oi(Q)&&Q.type===a)return D}return null}function Na(i,o,a,l){let d=i[a];const g=o.data;if(function Au(i){return i instanceof Ta}(d)){const v=d;v.resolving&&function pt(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new De(-200,`Circular dependency in DI detected for ${i}${a}`)}(function me(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():ye(i)}(g[a]));const I=ws(v.canSeeViewProviders);v.resolving=!0;const D=v.injectImpl?Gr(v.injectImpl):null;Ea(i,l,lt.Default);try{d=i[a]=v.factory(void 0,g,i,l),o.firstCreatePass&&a>=l.directiveStart&&function Kl(i,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:g}=o.type.prototype;if(l){const v=Ed(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,v),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,v)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),g&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,g),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,g))}(a,g[a],o)}finally{null!==D&&Gr(D),ws(I),v.resolving=!1,Ad()}}return d}function wf(i,o,a){return!!(a[o+(i>>5)]&1<<i)}function Ou(i,o){return!(i&lt.Self||i&lt.Host&&o)}class ss{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Ra(this._tNode,this._lView,o,l,a)}}function jg(){return new ss(Rn(),Te())}function Dn(i){return ir(()=>{const o=i.prototype.constructor,a=o[sr]||tc(o),l=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==l;){const g=d[sr]||tc(d);if(g&&g!==a)return g;d=Object.getPrototypeOf(d)}return g=>new g})}function tc(i){return He(i)?()=>{const o=tc(W(i));return o&&o()}:gs(i)}function Ef(i){const o=i[1],a=o.type;return 2===a?o.declTNode:1===a?i[6]:null}function ku(i){return function fo(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const g=a[d];if(Ru(g))break;if(0===g)d+=2;else if("number"==typeof g)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(g===o)return a[d+1];d+=2}}}return null}(Rn(),i)}const Pn="__parameters__";function Is(i,o,a){return ir(()=>{const l=function zo(i){return function(...a){if(i){const l=i(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...g){if(this instanceof d)return l.apply(this,g),this;const v=new d(...g);return I.annotation=v,I;function I(D,S,N){const k=D.hasOwnProperty(Pn)?D[Pn]:Object.defineProperty(D,Pn,{value:[]})[Pn];for(;k.length<=N;)k.push(null);return(k[N]=k[N]||[]).push(v),D}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class cn{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=fe({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function $n(i,o){void 0===o&&(o=i);for(let a=0;a<i.length;a++){let l=i[a];Array.isArray(l)?(o===i&&(o=i.slice(0,a)),$n(l,o)):o!==i&&o.push(l)}return o}function Ui(i,o){i.forEach(a=>Array.isArray(a)?Ui(a,o):o(a))}function ic(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function sc(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function oi(i,o,a){let l=Fa(i,o);return l>=0?i[1|l]=a:(l=~l,function $g(i,o,a,l){let d=i.length;if(d==o)i.push(a,l);else if(1===d)i.push(l,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=l}}(i,l,o,a)),l}function Bu(i,o){const a=Fa(i,o);if(a>=0)return i[1|a]}function Fa(i,o){return function Af(i,o,a){let l=0,d=i.length>>a;for(;d!==l;){const g=l+(d-l>>1),v=i[g<<a];if(o===v)return g<<a;v>o?d=g:l=g+1}return~(d<<a)}(i,o,1)}const Kn={},Yn="__NG_DI_FLAG__",Or="ngTempTokenPath",ji=/\n/gm,Va="__source";let mo;function kr(i){const o=mo;return mo=i,o}function qu(i,o=lt.Default){if(void 0===mo)throw new De(-203,!1);return null===mo?No(i,void 0,o):mo.get(i,o&lt.Optional?null:void 0,o)}function Vn(i,o=lt.Default){return(function Ri(){return Hr}()||qu)(W(i),o)}function Dt(i,o=lt.Default){return"number"!=typeof o&&(o=0|(o.optional&&8)|(o.host&&1)|(o.self&&2)|(o.skipSelf&&4)),Vn(i,o)}function Bd(i){const o=[];for(let a=0;a<i.length;a++){const l=W(i[a]);if(Array.isArray(l)){if(0===l.length)throw new De(900,!1);let d,g=lt.Default;for(let v=0;v<l.length;v++){const I=l[v],D=Wu(I);"number"==typeof D?-1===D?d=I.token:g|=D:d=I}o.push(Vn(d,g))}else o.push(Vn(l))}return o}function yo(i,o){return i[Yn]=o,i.prototype[Yn]=o,i}function Wu(i){return i[Yn]}const Gs=yo(Is("Optional"),8),vo=yo(Is("SkipSelf"),4);var Gi=(()=>((Gi=Gi||{})[Gi.Important=1]="Important",Gi[Gi.DashCase=2]="DashCase",Gi))();const P=new Map;let H=0;const mn="__ngContext__";function ft(i,o){or(o)?(i[mn]=o[20],function ce(i){P.set(i[20],i)}(o)):i[mn]=o}function Xu(i,o){return undefined(i,o)}function fc(i){const o=i[3];return qr(o)?o[3]:o}function el(i){return Xo(i[13])}function Wg(i){return Xo(i[4])}function Xo(i){for(;null!==i&&!qr(i);)i=i[4];return i}function tl(i,o,a,l,d){if(null!=l){let g,v=!1;qr(l)?g=l:or(l)&&(v=!0,l=l[0]);const I=Fn(l);0===i&&null!==a?null==d?mc(o,a,I):Eo(o,a,I,d||null,!0):1===i&&null!==a?Eo(o,a,I,d||null,!0):2===i?function Gf(i,o,a){const l=Yd(i,o);l&&function Bf(i,o,a,l){i.removeChild(o,a,l)}(i,l,o,a)}(o,I,v):3===i&&o.destroyNode(I),null!=g&&function Wf(i,o,a,l,d){const g=a[7];g!==Fn(a)&&tl(o,i,l,g,d);for(let I=10;I<a.length;I++){const D=a[I];yc(D[1],D,i,o,l,g)}}(o,i,g,a,d)}}function Lf(i,o,a){return i.createElement(o,a)}function rl(i,o){const a=i[9],l=a.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,Ir(d,-1)),a.splice(l,1)}function Ga(i,o){if(i.length<=10)return;const a=10+o,l=i[a];if(l){const d=l[17];null!==d&&d!==i&&rl(d,l),o>0&&(i[a-1][4]=l[4]);const g=sc(i,10+o);!function Ha(i,o){yc(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const v=g[19];null!==v&&v.detachView(g[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function za(i,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&yc(i,o,a,3,null,null),function hv(i){let o=i[13];if(!o)return Zd(i[1],i);for(;o;){let a=null;if(or(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==i;)or(o)&&Zd(o[1],o),o=o[3];null===o&&(o=i),or(o)&&Zd(o[1],o),a=o&&o[4]}o=a}}(o)}}function Zd(i,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function Kd(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof Ta)){const g=a[l+1];if(Array.isArray(g))for(let v=0;v<g.length;v+=2){const I=d[g[v]],D=g[v+1];try{D.call(I)}finally{}}else try{g.call(d)}finally{}}}}(i,o),function Uf(i,o){const a=i.cleanup,l=o[7];let d=-1;if(null!==a)for(let g=0;g<a.length-1;g+=2)if("string"==typeof a[g]){const v=a[g+1],I="function"==typeof v?v(o):Fn(o[v]),D=l[d=a[g+2]],S=a[g+3];"boolean"==typeof S?I.removeEventListener(a[g],D,S):S>=0?l[d=S]():l[d=-S].unsubscribe(),g+=2}else{const v=l[d=a[g+1]];a[g].call(v)}if(null!==l){for(let g=d+1;g<l.length;g++)(0,l[g])();o[7]=null}}(i,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&qr(o[3])){a!==o[3]&&rl(a,o);const l=o[19];null!==l&&l.detachView(i)}!function $e(i){P.delete(i[20])}(o)}}function qa(i,o,a){return function Zg(i,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];if(2&l.flags){const d=i.data[l.directiveStart].encapsulation;if(d===_t.None||d===_t.Emulated)return null}return Wr(l,a)}(i,o.parent,a)}function Eo(i,o,a,l,d){i.insertBefore(o,a,l,d)}function mc(i,o,a){i.appendChild(o,a)}function Kg(i,o,a,l,d){null!==l?Eo(i,o,a,l,d):mc(i,o,a)}function Yd(i,o){return i.parentNode(o)}let Ys,$f=function Qd(i,o,a){return 40&i.type?Wr(i,a):null};function Ks(i,o,a,l){const d=qa(i,l,o),g=o[11],I=function Yg(i,o,a){return $f(i,o,a)}(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let D=0;D<a.length;D++)Kg(g,d,a[D],I,!1);else Kg(g,d,a,I,!1)}function Ss(i,o){if(null!==o){const a=o.type;if(3&a)return Wr(o,i);if(4&a)return Xd(-1,i[o.index]);if(8&a){const l=o.child;if(null!==l)return Ss(i,l);{const d=i[o.index];return qr(d)?Xd(-1,d):Fn(d)}}if(32&a)return Xu(o,i)()||Fn(i[o.index]);{const l=Hf(i,o);return null!==l?Array.isArray(l)?l[0]:Ss(fc(i[16]),l):Ss(i,o.next)}}return null}function Hf(i,o){return null!==o?i[16][6].projection[o.projection]:null}function Xd(i,o){const a=10+i+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return Ss(l,d)}return o[7]}function zf(i,o,a,l,d,g,v){for(;null!=a;){const I=l[a.index],D=a.type;if(v&&0===o&&(I&&ft(Fn(I),l),a.flags|=4),64!=(64&a.flags))if(8&D)zf(i,o,a.child,l,d,g,!1),tl(o,i,d,I,g);else if(32&D){const S=Xu(a,l);let N;for(;N=S();)tl(o,i,d,N,g);tl(o,i,d,I,g)}else 16&D?qf(i,o,l,a,d,g):tl(o,i,d,I,g);a=v?a.projectionNext:a.next}}function yc(i,o,a,l,d,g){zf(a,l,i.firstChild,o,d,g,!1)}function qf(i,o,a,l,d,g){const v=a[16],D=v[6].projection[l.projection];if(Array.isArray(D))for(let S=0;S<D.length;S++)tl(o,i,d,D[S],g);else zf(i,o,D,v[3],d,g,!0)}function Kf(i,o,a){i.setAttribute(o,"style",a)}function Yf(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function Jg(i){Ys=i}class Qf{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function ur(i){return i instanceof Qf?i.changingThisBreaksApplicationSecurity:i}const p=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var lr=(()=>((lr=lr||{})[lr.NONE=0]="NONE",lr[lr.HTML=1]="HTML",lr[lr.STYLE=2]="STYLE",lr[lr.SCRIPT=3]="SCRIPT",lr[lr.URL=4]="URL",lr[lr.RESOURCE_URL=5]="RESOURCE_URL",lr))();function Dc(i){const o=function bc(){const i=Te();return i&&i[12]}();return o?o.sanitize(lr.URL,i)||"":function Io(i,o){const a=function em(i){return i instanceof Qf&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see https://g.co/ng/security#xss)`)}return a===o}(i,"URL")?ur(i):function _(i){return(i=String(i)).match(p)?i:"unsafe:"+i}(ye(i))}const oh=new cn("ENVIRONMENT_INITIALIZER"),Tc=new cn("INJECTOR",-1),yw=new cn("INJECTOR_DEF_TYPES");class vw{get(o,a=Kn){if(a===Kn){const l=new Error(`NullInjectorError: No provider for ${we(o)}!`);throw l.name="NullInjectorError",l}return a}}function FD(...i){return{\u0275providers:_w(0,i)}}function _w(i,...o){const a=[],l=new Set;let d;return Ui(o,g=>{const v=g;_v(v,a,[],l)&&(d||(d=[]),d.push(v))}),void 0!==d&&ww(d,a),a}function ww(i,o){for(let a=0;a<i.length;a++){const{providers:d}=i[a];Ui(d,g=>{o.push(g)})}}function _v(i,o,a,l){if(!(i=W(i)))return!1;let d=null,g=qt(i);const v=!g&&ae(i);if(g||v){if(v&&!v.standalone)return!1;d=i}else{const D=i.ngModule;if(g=qt(D),!g)return!1;d=D}const I=l.has(d);if(v){if(I)return!1;if(l.add(d),v.dependencies){const D="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const S of D)_v(S,o,a,l)}}else{if(!g)return!1;{if(null!=g.imports&&!I){let S;l.add(d);try{Ui(g.imports,N=>{_v(N,o,a,l)&&(S||(S=[]),S.push(N))})}finally{}void 0!==S&&ww(S,o)}if(!I){const S=gs(d)||(()=>new d);o.push({provide:d,useFactory:S,deps:bt},{provide:yw,useValue:d,multi:!0},{provide:oh,useValue:()=>Vn(d),multi:!0})}const D=g.providers;null==D||I||Ui(D,N=>{o.push(N)})}}return d!==i&&void 0!==i.providers}const LD=he({provide:String,useValue:he});function wv(i){return null!==i&&"object"==typeof i&&LD in i}function Ka(i){return"function"==typeof i}const rp=new cn("Set Injector scope."),Sc={},VD={};let Iv;function im(){return void 0===Iv&&(Iv=new vw),Iv}class Ac{}class ip extends Ac{constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Cv(o,v=>this.processProvider(v)),this.records.set(Tc,xc(void 0,this)),d.has("environment")&&this.records.set(Ac,xc(void 0,this));const g=this.records.get(rp);null!=g&&"string"==typeof g.value&&this.scopes.add(g.value),this.injectorDefTypes=new Set(this.get(yw.multi,bt,lt.Self))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=kr(this),l=Gr(void 0);try{return o()}finally{kr(a),Gr(l)}}get(o,a=Kn,l=lt.Default){this.assertNotDestroyed();const d=kr(this),g=Gr(void 0);try{if(!(l&lt.SkipSelf)){let I=this.records.get(o);if(void 0===I){const D=function UD(i){return"function"==typeof i||"object"==typeof i&&i instanceof cn}(o)&&Yt(o);I=D&&this.injectableDefInScope(D)?xc(sm(o),Sc):null,this.records.set(o,I)}if(null!=I)return this.hydrate(o,I)}return(l&lt.Self?im():this.parent).get(o,a=l&lt.Optional&&a===Kn?null:a)}catch(v){if("NullInjectorError"===v.name){if((v[Or]=v[Or]||[]).unshift(we(o)),d)throw v;return function Zu(i,o,a,l){const d=i[Or];throw o[Va]&&d.unshift(o[Va]),i.message=function Qn(i,o,a,l=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=we(o);if(Array.isArray(o))d=o.map(we).join(" -> ");else if("object"==typeof o){let g=[];for(let v in o)if(o.hasOwnProperty(v)){let I=o[v];g.push(v+":"+("string"==typeof I?JSON.stringify(I):we(I)))}d=`{${g.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${i.replace(ji,"\n  ")}`}("\n"+i.message,d,a,l),i.ngTokenPath=d,i[Or]=null,i}(v,o,"R3InjectorError",this.source)}throw v}finally{Gr(g),kr(d)}}resolveInjectorInitializers(){const o=kr(this),a=Gr(void 0);try{const l=this.get(oh.multi,bt,lt.Self);for(const d of l)d()}finally{kr(o),Gr(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(we(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new De(205,!1)}processProvider(o){let a=Ka(o=W(o))?o:W(o&&o.provide);const l=function om(i){return wv(i)?xc(void 0,i.useValue):xc(sp(i),Sc)}(o);if(Ka(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=xc(void 0,Sc,!0),d.factory=()=>Bd(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===Sc&&(a.value=VD,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Dw(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=W(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function sm(i){const o=Yt(i),a=null!==o?o.factory:gs(i);if(null!==a)return a;if(i instanceof cn)throw new De(204,!1);if(i instanceof Function)return function Cw(i){const o=i.length;if(o>0)throw function qo(i,o){const a=[];for(let l=0;l<i;l++)a.push(o);return a}(o,"?"),new De(204,!1);const a=function bn(i){const o=i&&(i[En]||i[xr]);if(o){const a=function Mi(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new De(204,!1)}function sp(i,o,a){let l;if(Ka(i)){const d=W(i);return gs(d)||sm(d)}if(wv(i))l=()=>W(i.useValue);else if(function Ew(i){return!(!i||!i.useFactory)}(i))l=()=>i.useFactory(...Bd(i.deps||[]));else if(function Ev(i){return!(!i||!i.useExisting)}(i))l=()=>Vn(W(i.useExisting));else{const d=W(i&&(i.useClass||i.provide));if(!function op(i){return!!i.deps}(i))return gs(d)||sm(d);l=()=>new d(...Bd(i.deps))}return l}function xc(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function BD(i){return!!i.\u0275providers}function Cv(i,o){for(const a of i)Array.isArray(a)?Cv(a,o):BD(a)?Cv(a.\u0275providers,o):o(a)}class bw{}class $D{resolveComponentFactory(o){throw function am(i){const o=Error(`No component factory found for ${we(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let ap=(()=>{class i{}return i.NULL=new $D,i})();function HD(){return ah(Rn(),Te())}function ah(i,o){return new up(Wr(i,o))}let up=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=HD,i})();function Sw(i){return i instanceof up?i.nativeElement:i}class Dv{}let Aw=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function xw(){const i=Te(),a=Ln(Rn().index,i);return(or(a)?a:i)[11]}(),i})(),Mw=(()=>{class i{}return i.\u0275prov=fe({token:i,providedIn:"root",factory:()=>null}),i})();class bv{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Rw=new bv("14.3.0"),Tv={};function Av(i){return i.ngOriginalError}class lp{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Av(o);for(;a&&Av(a);)a=Av(a);return a||null}}function Ya(i){return i instanceof Function?i():i}function cp(i,o,a){let l=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const g=o.length;if(d+g===l||i.charCodeAt(d+g)<=32)return d}a=d+1}}const Uw="ng-template";function WD(i,o,a){let l=0;for(;l<i.length;){let d=i[l++];if(a&&"class"===d){if(d=i[l],-1!==cp(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<i.length&&"string"==typeof(d=i[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Bw(i){return 4===i.type&&i.value!==Uw}function ZD(i,o,a){return o===(4!==i.type||a?i.value:Uw)}function jw(i,o,a){let l=4;const d=i.attrs||[],g=function Nv(i){for(let o=0;o<i.length;o++)if(Ru(i[o]))return o;return i.length}(d);let v=!1;for(let I=0;I<o.length;I++){const D=o[I];if("number"!=typeof D){if(!v)if(4&l){if(l=2|1&l,""!==D&&!ZD(i,D,a)||""===D&&1===o.length){if(xn(l))return!1;v=!0}}else{const S=8&l?D:o[++I];if(8&l&&null!==i.attrs){if(!WD(i.attrs,S,a)){if(xn(l))return!1;v=!0}continue}const k=KD(8&l?"class":D,d,Bw(i),a);if(-1===k){if(xn(l))return!1;v=!0;continue}if(""!==S){let $;$=k>g?"":d[k+1].toLowerCase();const Q=8&l?$:null;if(Q&&-1!==cp(Q,S,0)||2&l&&S!==$){if(xn(l))return!1;v=!0}}}}else{if(!v&&!xn(l)&&!xn(D))return!1;if(v&&xn(D))continue;v=!1,l=D|1&l}}return xn(l)||v}function xn(i){return 0==(1&i)}function KD(i,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let g=!1;for(;d<o.length;){const v=o[d];if(v===i)return d;if(3===v||6===v)g=!0;else{if(1===v||2===v){let I=o[++d];for(;"string"==typeof I;)I=o[++d];continue}if(4===v)break;if(0===v){d+=4;continue}}d+=g?1:2}return-1}return function YD(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const l=i[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,i)}function Mv(i,o,a=!1){for(let l=0;l<o.length;l++)if(jw(i,o[l],a))return!0;return!1}function Pv(i,o){return i?":not("+o.trim()+")":o}function _x(i){let o=i[0],a=1,l=2,d="",g=!1;for(;a<i.length;){let v=i[a];if("string"==typeof v)if(2&l){const I=i[++a];d+="["+v+(I.length>0?'="'+I+'"':"")+"]"}else 8&l?d+="."+v:4&l&&(d+=" "+v);else""!==d&&!xn(v)&&(o+=Pv(g,d),d=""),l=v,g=g||!xn(l);a++}return""!==d&&(o+=Pv(g,d)),o}const Vt={};function Ov(i){dp($t(),Te(),tn()+i,!1)}function dp(i,o,a,l){if(!l)if(3==(3&o[2])){const g=i.preOrderCheckHooks;null!==g&&Da(o,g,a)}else{const g=i.preOrderHooks;null!==g&&jo(o,g,0,a)}vs(a)}function Gw(i,o=null,a=null,l){const d=zw(i,o,a,l);return d.resolveInjectorInitializers(),d}function zw(i,o=null,a=null,l,d=new Set){const g=[a||bt,FD(i)];return l=l||("object"==typeof i?void 0:we(i)),new ip(g,o||im(),l||null,d)}let ll=(()=>{class i{static create(a,l){if(Array.isArray(a))return Gw({name:""},l,a,"");{const d=a.name??"";return Gw({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=Kn,i.NULL=new vw,i.\u0275prov=fe({token:i,providedIn:"any",factory:()=>Vn(Tc)}),i.__NG_ELEMENT_ID__=-1,i})();function hh(i,o=lt.Default){const a=Te();return null===a?Vn(i,o):Ra(Rn(),a,W(i),o)}function xs(){throw new Error("invalid")}function fp(i,o){return i<<17|o<<2}function Qs(i){return i>>17&32767}function hm(i){return 2|i}function na(i){return(131068&i)>>2}function fm(i,o){return-131069&i|o<<2}function pm(i){return 1|i}function _p(i,o){const a=i.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const d=a[l],g=a[l+1];if(-1!==g){const v=i.data[g];Pr(d),v.contentQueries(2,o[g],g)}}}function ph(i,o,a,l,d,g,v,I,D,S,N){const k=o.blueprint.slice();return k[0]=d,k[2]=76|l,(null!==N||i&&1024&i[2])&&(k[2]|=1024),Hs(k),k[3]=k[15]=i,k[8]=a,k[10]=v||i&&i[10],k[11]=I||i&&i[11],k[12]=D||i&&i[12]||null,k[9]=S||i&&i[9]||null,k[6]=g,k[20]=function Z(){return H++}(),k[21]=N,k[16]=2==o.type?i[16]:k,k}function Oc(i,o,a,l,d){let g=i.data[o];if(null===g)g=function Ep(i,o,a,l,d){const g=Du(),v=Vo(),D=i.data[o]=function wm(i,o,a,l,d,g){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:g,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?g:g&&g.parent,a,o,l,d);return null===i.firstChild&&(i.firstChild=D),null!==g&&(v?null==g.child&&null!==D.parent&&(g.child=D):null===g.next&&(g.next=D)),D}(i,o,a,l,d),function Sd(){return At.lFrame.inI18n}()&&(g.flags|=64);else if(64&g.type){g.type=a,g.value=l,g.attrs=d;const v=function so(){const i=At.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();g.injectorIndex=null===v?-1:v.injectorIndex}return ii(g,!0),g}function kc(i,o,a,l){if(0===a)return-1;const d=o.length;for(let g=0;g<a;g++)o.push(l),i.blueprint.push(l),i.data.push(null);return d}function gh(i,o,a){Ia(o);try{const l=i.viewQuery;null!==l&&bm(1,l,a);const d=i.template;null!==d&&zv(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&_p(i,o),i.staticViewQueries&&bm(2,i.viewQuery,a);const g=i.components;null!==g&&function wp(i,o){for(let a=0;a<o.length;a++)Fx(i,o[a])}(o,g)}catch(l){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),l}finally{o[2]&=-5,Bo()}}function Ip(i,o,a,l){const d=o[2];if(128!=(128&d)){Ia(o);try{Hs(o),function Li(i){return At.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&zv(i,o,a,2,l);const v=3==(3&d);if(v){const S=i.preOrderCheckHooks;null!==S&&Da(o,S,null)}else{const S=i.preOrderHooks;null!==S&&jo(o,S,0,null),Nd(o,0)}if(function Ox(i){for(let o=el(i);null!==o;o=Wg(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l],g=d[3];0==(512&d[2])&&Ir(g,1),d[2]|=512}}}(o),function CE(i){for(let o=el(i);null!==o;o=Wg(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];io(l)&&Ip(d,l,d.template,l[8])}}(o),null!==i.contentQueries&&_p(i,o),v){const S=i.contentCheckHooks;null!==S&&Da(o,S)}else{const S=i.contentHooks;null!==S&&jo(o,S,1),Nd(o,1)}!function vp(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)vs(~d);else{const g=d,v=a[++l],I=a[++l];Vg(v,g),I(2,o[g])}}}finally{vs(-1)}}(i,o);const I=i.components;null!==I&&function fh(i,o){for(let a=0;a<o.length;a++)kx(i,o[a])}(o,I);const D=i.viewQuery;if(null!==D&&bm(2,D,l),v){const S=i.viewCheckHooks;null!==S&&Da(o,S)}else{const S=i.viewHooks;null!==S&&jo(o,S,2),Nd(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,Ir(o[3],-1))}finally{Bo()}}}function zv(i,o,a,l,d){const g=tn(),v=2&l;try{vs(-1),v&&o.length>22&&dp(i,o,22,!1),a(l,d)}finally{vs(g)}}function dl(i,o,a){!Td()||(function _E(i,o,a,l){const d=a.directiveStart,g=a.directiveEnd;i.firstCreatePass||Ho(a,o),ft(l,o);const v=a.initialInputs;for(let I=d;I<g;I++){const D=i.data[I],S=Oi(D);S&&Tp(o,a,D);const N=Na(o,i,I,a);ft(N,o),null!==v&&EE(0,I-d,N,D,0,v),S&&(Ln(a.index,o)[8]=N)}}(i,o,a,Wr(a,o)),128==(128&a.flags)&&function Px(i,o,a){const l=a.directiveStart,d=a.directiveEnd,g=a.index,v=function Uo(){return At.lFrame.currentDirectiveIndex}();try{vs(g);for(let I=l;I<d;I++){const D=i.data[I],S=o[I];zl(I),(null!==D.hostBindings||0!==D.hostVars||null!==D.hostAttrs)&&Cm(D,S)}}finally{vs(-1),zl(v)}}(i,o,a))}function pE(i,o,a=Wr){const l=o.localNames;if(null!==l){let d=o.index+1;for(let g=0;g<l.length;g+=2){const v=l[g+1],I=-1===v?a(o,i):i[v];i[d++]=I}}}function pb(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=_m(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function _m(i,o,a,l,d,g,v,I,D,S){const N=22+l,k=N+d,$=function Rx(i,o){const a=[];for(let l=0;l<o;l++)a.push(l<i?null:Vt);return a}(N,k),Q="function"==typeof S?S():S;return $[1]={type:i,blueprint:$,template:a,queries:null,viewQuery:I,declTNode:o,data:$.slice().fill(null,N),bindingStartIndex:N,expandoStartIndex:k,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof g?g():g,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:D,consts:Q,incompleteFirstPass:!1}}function bp(i,o,a,l){const d=Tm(o);null===a?d.push(l):(d.push(a),i.firstCreatePass&&bE(i).push(l,d.length-1))}function gE(i,o,a){for(let l in i)if(i.hasOwnProperty(l)){const d=i[l];(a=null===a?{}:a).hasOwnProperty(l)?a[l].push(o,d):a[l]=[o,d]}return a}function Em(i,o){const l=o.directiveEnd,d=i.data,g=o.attrs,v=[];let I=null,D=null;for(let S=o.directiveStart;S<l;S++){const N=d[S],k=N.inputs,$=null===g||Bw(o)?null:ra(k,g);v.push($),I=gE(k,S,I),D=gE(N.outputs,S,D)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=16),I.hasOwnProperty("style")&&(o.flags|=32)),o.initialInputs=v,o.inputs=I,o.outputs=D}function mE(i,o){const a=Ln(o,i);16&a[2]||(a[2]|=32)}function Wv(i,o,a,l){let d=!1;if(Td()){const g=function yb(i,o,a){const l=i.directiveRegistry;let d=null;if(l)for(let g=0;g<l.length;g++){const v=l[g];Mv(a,v.selectors,!1)&&(d||(d=[]),Ma(Ho(a,o),i,v.type),Oi(v)?(Zv(i,a),d.unshift(v)):d.push(v))}return d}(i,o,a),v=null===l?null:{"":-1};if(null!==g){d=!0,_b(a,i.data.length,g.length);for(let N=0;N<g.length;N++){const k=g[N];k.providersResolver&&k.providersResolver(k)}let I=!1,D=!1,S=kc(i,o,g.length,null);for(let N=0;N<g.length;N++){const k=g[N];a.mergedAttrs=$o(a.mergedAttrs,k.hostAttrs),wE(i,a,o,S,k),vb(S,k,v),null!==k.contentQueries&&(a.flags|=8),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(a.flags|=128);const $=k.type.prototype;!I&&($.ngOnChanges||$.ngOnInit||$.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),I=!0),!D&&($.ngOnChanges||$.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),D=!0),S++}Em(i,a)}v&&function Kv(i,o,a){if(o){const l=i.localNames=[];for(let d=0;d<o.length;d+=2){const g=a[o[d+1]];if(null==g)throw new De(-301,!1);l.push(o[d],g)}}}(a,l,v)}return a.mergedAttrs=$o(a.mergedAttrs,a.attrs),d}function gb(i,o,a,l,d,g){const v=g.hostBindings;if(v){let I=i.hostBindingOpCodes;null===I&&(I=i.hostBindingOpCodes=[]);const D=~o.index;(function mb(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(I)!=D&&I.push(D),I.push(l,d,v)}}function Cm(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function Zv(i,o){o.flags|=2,(i.components||(i.components=[])).push(o.index)}function vb(i,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=i;Oi(o)&&(a[""]=i)}}function _b(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}function wE(i,o,a,l,d){i.data[l]=d;const g=d.factory||(d.factory=gs(d.type)),v=new Ta(g,Oi(d),hh);i.blueprint[l]=v,a[l]=v,gb(i,o,0,l,kc(i,a,d.hostVars,Vt),d)}function Tp(i,o,a){const l=Wr(o,i),d=pb(a),g=i[10],v=Sp(i,ph(i,d,null,a.onPush?32:16,l,o,g,g.createRenderer(l,a),null,null,null));i[o.index]=v}function Js(i,o,a,l,d,g){const v=Wr(i,o);!function Dm(i,o,a,l,d,g,v){if(null==g)i.removeAttribute(o,d,a);else{const I=null==v?ye(g):v(g,l||"",d);i.setAttribute(o,d,I,a)}}(o[11],v,g,i.value,a,l,d)}function EE(i,o,a,l,d,g){const v=g[o];if(null!==v){const I=l.setInput;for(let D=0;D<v.length;){const S=v[D++],N=v[D++],k=v[D++];null!==I?l.setInput(a,k,S,N):a[N]=k}}}function ra(i,o){let a=null,l=0;for(;l<o.length;){const d=o[l];if(0!==d)if(5!==d){if("number"==typeof d)break;i.hasOwnProperty(d)&&(null===a&&(a=[]),a.push(d,i[d],o[l+1])),l+=2}else l+=2;else l+=4}return a}function IE(i,o,a,l){return new Array(i,!0,!1,o,null,0,l,a,null,null)}function kx(i,o){const a=Ln(o,i);if(io(a)){const l=a[1];48&a[2]?Ip(l,a,l.template,a[8]):a[5]>0&&DE(a)}}function DE(i){for(let l=el(i);null!==l;l=Wg(l))for(let d=10;d<l.length;d++){const g=l[d];if(io(g))if(512&g[2]){const v=g[1];Ip(v,g,v.template,g[8])}else g[5]>0&&DE(g)}const a=i[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Ln(a[l],i);io(d)&&d[5]>0&&DE(d)}}function Fx(i,o){const a=Ln(o,i),l=a[1];(function wb(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(l,a),gh(l,a,a[8])}function Sp(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function Yv(i){for(;i;){i[2]|=32;const o=fc(i);if(Fo(i)&&!o)return i;i=o}return null}function Ap(i,o,a,l=!0){const d=o[10];d.begin&&d.begin();try{Ip(i,o,i.template,a)}catch(v){throw l&&Qv(o,v),v}finally{d.end&&d.end()}}function bm(i,o,a){Pr(0),o(i,a)}function Tm(i){return i[7]||(i[7]=[])}function bE(i){return i.cleanup||(i.cleanup=[])}function Qv(i,o){const a=i[9],l=a?a.get(lp,null):null;l&&l.handleError(o)}function Jv(i,o,a,l,d){for(let g=0;g<a.length;){const v=a[g++],I=a[g++],D=o[v],S=i.data[v];null!==S.setInput?S.setInput(D,d,l,I):D[I]=d}}function Sm(i,o,a){let l=a?i.styles:null,d=a?i.classes:null,g=0;if(null!==o)for(let v=0;v<o.length;v++){const I=o[v];"number"==typeof I?g=I:1==g?d=pe(d,I):2==g&&(l=pe(l,I+": "+o[++v]+";"))}a?i.styles=l:i.stylesWithoutHost=l,a?i.classes=d:i.classesWithoutHost=d}function xp(i,o,a,l,d=!1){for(;null!==a;){const g=o[a.index];if(null!==g&&l.push(Fn(g)),qr(g))for(let I=10;I<g.length;I++){const D=g[I],S=D[1].firstChild;null!==S&&xp(D[1],D,S,l)}const v=a.type;if(8&v)xp(i,o,a.child,l);else if(32&v){const I=Xu(a,o);let D;for(;D=I();)l.push(D)}else if(16&v){const I=Hf(o,a);if(Array.isArray(I))l.push(...I);else{const D=fc(o[16]);xp(D[1],D,I,l,!0)}}a=d?a.projectionNext:a.next}return l}class Fc{constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const o=this._lView,a=o[1];return xp(a,o,a.firstChild,[])}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(qr(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(Ga(o,l),sc(a,l))}this._attachedToViewContainer=!1}za(this._lView[1],this._lView)}onDestroy(o){bp(this._lView[1],this._lView,null,o)}markForCheck(){Yv(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ap(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new De(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function gw(i,o){yc(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new De(902,!1);this._appRef=o}}class Cb extends Fc{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Ap(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class Am extends ap{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=ae(o);return new Lc(a,this.ngModule)}}function TE(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class Db{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){const d=this.injector.get(o,Tv,l);return d!==Tv||a===Tv?d:this.parentInjector.get(o,a,l)}}class Lc extends bw{constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function wx(i){return i.map(_x).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}get inputs(){return TE(this.componentDef.inputs)}get outputs(){return TE(this.componentDef.outputs)}create(o,a,l,d){let g=(d=d||this.ngModule)instanceof Ac?d:d?.injector;g&&null!==this.componentDef.getStandaloneInjector&&(g=this.componentDef.getStandaloneInjector(g)||g);const v=g?new Db(o,g):o,I=v.get(Dv,null);if(null===I)throw new De(407,!1);const D=v.get(Mw,null),S=I.createRenderer(null,this.componentDef),N=this.componentDef.selectors[0][0]||"div",k=l?function Dp(i,o,a){return i.selectRootElement(o,a===_t.ShadowDom)}(S,l,this.componentDef.encapsulation):Lf(S,N,function xm(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(N)),$=this.componentDef.onPush?288:272,Q=_m(0,null,null,1,0,null,null,null,null,null),Ee=ph(null,Q,null,$,null,null,I,S,D,v,null);let Be,Ve;Ia(Ee);try{const ut=function Xv(i,o,a,l,d,g){const v=a[1];a[22]=i;const D=Oc(v,22,2,"#host",null),S=D.mergedAttrs=o.hostAttrs;null!==S&&(Sm(D,S,!0),null!==i&&(Mu(d,i,S),null!==D.classes&&Yf(d,i,D.classes),null!==D.styles&&Kf(d,i,D.styles)));const N=l.createRenderer(i,o),k=ph(a,pb(o),null,o.onPush?32:16,a[22],D,l,N,g||null,null,null);return v.firstCreatePass&&(Ma(Ho(D,a),v,o.type),Zv(v,D),_b(D,a.length,1)),Sp(a,k),a[22]=k}(k,this.componentDef,Ee,I,S);if(k)if(l)Mu(S,k,["ng-version",Rw.full]);else{const{attrs:xt,classes:Se}=function JD(i){const o=[],a=[];let l=1,d=2;for(;l<i.length;){let g=i[l];if("string"==typeof g)2===d?""!==g&&o.push(g,i[++l]):8===d&&a.push(g);else{if(!xn(d))break;d=g}l++}return{attrs:o,classes:a}}(this.componentDef.selectors[0]);xt&&Mu(S,k,xt),Se&&Se.length>0&&Yf(S,k,Se.join(" "))}if(Ve=va(Q,22),void 0!==a){const xt=Ve.projection=[];for(let Se=0;Se<this.ngContentSelectors.length;Se++){const Et=a[Se];xt.push(null!=Et?Array.from(Et):null)}}Be=function Tb(i,o,a,l){const d=a[1],g=function vE(i,o,a){const l=Rn();i.firstCreatePass&&(a.providersResolver&&a.providersResolver(a),wE(i,l,o,kc(i,o,1,null),a),Em(i,l));const d=Na(o,i,l.directiveStart,l);ft(d,o);const g=Wr(l,o);return g&&ft(g,o),d}(d,a,o);if(i[8]=a[8]=g,null!==l)for(const I of l)I(g,o);if(o.contentQueries){const I=Rn();o.contentQueries(1,g,I.directiveStart)}const v=Rn();return!d.firstCreatePass||null===o.hostBindings&&null===o.hostAttrs||(vs(v.index),gb(a[1],v,0,v.directiveStart,v.directiveEnd,o),Cm(o,g)),g}(ut,this.componentDef,Ee,[xE]),gh(Q,Ee,null)}finally{Bo()}return new AE(this.componentType,Be,ah(Ve,Ee),Ee,Ve)}}class AE extends class jD{}{constructor(o,a,l,d,g){super(),this.location=l,this._rootLView=d,this._tNode=g,this.instance=a,this.hostView=this.changeDetectorRef=new Cb(d),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const g=this._rootLView;Jv(g[1],g,d,o,a),mE(g,this._tNode.index)}}get injector(){return new ss(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function xE(){const i=Rn();uo(Te()[1],i)}function Mp(i){let o=function ME(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const l=[i];for(;o;){let d;if(Oi(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new De(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const v=i;v.inputs=e_(i.inputs),v.declaredInputs=e_(i.declaredInputs),v.outputs=e_(i.outputs);const I=d.hostBindings;I&&Ux(i,I);const D=d.viewQuery,S=d.contentQueries;if(D&&RE(i,D),S&&Ab(i,S),de(i.inputs,d.inputs),de(i.declaredInputs,d.declaredInputs),de(i.outputs,d.outputs),Oi(d)&&d.data.animation){const N=i.data;N.animation=(N.animation||[]).concat(d.data.animation)}}const g=d.features;if(g)for(let v=0;v<g.length;v++){const I=g[v];I&&I.ngInherit&&I(i),I===Mp&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Sb(i){let o=0,a=null;for(let l=i.length-1;l>=0;l--){const d=i[l];d.hostVars=o+=d.hostVars,d.hostAttrs=$o(d.hostAttrs,a=$o(a,d.hostAttrs))}}(l)}function e_(i){return i===Wn?{}:i===bt?[]:i}function RE(i,o){const a=i.viewQuery;i.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function Ab(i,o){const a=i.contentQueries;i.contentQueries=a?(l,d,g)=>{o(l,d,g),a(l,d,g)}:o}function Ux(i,o){const a=i.hostBindings;i.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let Rp=null;function Rs(){if(!Rp){const i=hn.Symbol;if(i&&i.iterator)Rp=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Rp=l)}}}return Rp}function mh(i){return!!n_(i)&&(Array.isArray(i)||!(i instanceof Map)&&Rs()in i)}function n_(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function bi(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function r_(i,o,a,l){const d=Te();return bi(d,ys(),o)&&($t(),Js(Cn(),d,i,o,a,l)),r_}function FE(i,o,a,l,d,g,v,I){const D=Te(),S=$t(),N=i+22,k=S.firstCreatePass?function o_(i,o,a,l,d,g,v,I,D){const S=o.consts,N=Oc(o,i,4,v||null,ri(S,I));Wv(o,a,N,ri(S,D)),uo(o,N);const k=N.tViews=_m(2,N,l,d,g,o.directiveRegistry,o.pipeRegistry,null,o.schemas,S);return null!==o.queries&&(o.queries.template(o,N),k.queries=o.queries.embeddedTView(N)),N}(N,S,D,o,a,l,d,g,v):S.data[N];ii(k,!1);const $=D[11].createComment("");Ks(S,D,$,k),ft($,D),Sp(D,D[N]=IE($,D,$,k)),ps(k)&&dl(S,D,k),null!=v&&pE(D,k,I)}function LE(i,o,a){const l=Te();return bi(l,ys(),o)&&function Ms(i,o,a,l,d,g,v,I){const D=Wr(o,a);let N,S=o.inputs;!I&&null!=S&&(N=S[l])?(Jv(i,a,N,l,d),pu(o)&&mE(a,o.index)):3&o.type&&(l=function Im(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(l),d=null!=v?v(d,o.value||"",l):d,g.setProperty(D,l,d))}($t(),Cn(),l,i,o,l[11],a,!1),LE}function a_(i,o,a,l,d){const v=d?"class":"style";Jv(i,a,o.inputs[v],v,l)}function sa(i,o,a,l){const d=Te(),g=$t(),v=22+i,I=d[11],D=d[v]=Lf(I,o,function Su(){return At.lFrame.currentNamespace}()),S=g.firstCreatePass?function _e(i,o,a,l,d,g,v){const I=o.consts,S=Oc(o,i,2,d,ri(I,g));return Wv(o,a,S,ri(I,v)),null!==S.attrs&&Sm(S,S.attrs,!1),null!==S.mergedAttrs&&Sm(S,S.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,S),S}(v,g,d,0,o,a,l):g.data[v];ii(S,!0);const N=S.mergedAttrs;null!==N&&Mu(I,D,N);const k=S.classes;null!==k&&Yf(I,D,k);const $=S.styles;return null!==$&&Kf(I,D,$),64!=(64&S.flags)&&Ks(g,d,D,S),0===function _a(){return At.lFrame.elementDepthCount}()&&ft(D,d),function Dd(){At.lFrame.elementDepthCount++}(),ps(S)&&(dl(g,d,S),function Cp(i,o,a){if(ko(o)){const d=o.directiveEnd;for(let g=o.directiveStart;g<d;g++){const v=i.data[g];v.contentQueries&&v.contentQueries(1,a[g],g)}}}(g,S,d)),null!==l&&pE(d,S),sa}function $c(){let i=Rn();Vo()?function Hl(){At.lFrame.isParent=!1}():(i=i.parent,ii(i,!1));const o=i;!function bd(){At.lFrame.elementDepthCount--}();const a=$t();return a.firstCreatePass&&(uo(a,i),ko(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Pd(i){return 0!=(16&i.flags)}(o)&&a_(a,o,Te(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function mf(i){return 0!=(32&i.flags)}(o)&&a_(a,o,Te(),o.stylesWithoutHost,!1),$c}function oa(i,o,a,l){return sa(i,o,a,l),$c(),oa}function Rm(){return Te()}function Lt(i){return!!i&&"function"==typeof i.then}function kp(i){return!!i&&"function"==typeof i.subscribe}const wh=kp;function l_(i,o,a,l){const d=Te(),g=$t(),v=Rn();return function VE(i,o,a,l,d,g,v,I){const D=ps(l),N=i.firstCreatePass&&bE(i),k=o[8],$=Tm(o);let Q=!0;if(3&l.type||I){const Ve=Wr(l,o),ut=I?I(Ve):Ve,xt=$.length,Se=I?an=>I(Fn(an[l.index])):l.index;let Et=null;if(!I&&D&&(Et=function Vb(i,o,a,l){const d=i.cleanup;if(null!=d)for(let g=0;g<d.length-1;g+=2){const v=d[g];if(v===a&&d[g+1]===l){const I=o[7],D=d[g+2];return I.length>D?I[D]:null}"string"==typeof v&&(g+=2)}return null}(i,o,d,l.index)),null!==Et)(Et.__ngLastListenerFn__||Et).__ngNextListenerFn__=g,Et.__ngLastListenerFn__=g,Q=!1;else{g=li(l,o,k,g,!1);const an=a.listen(ut,d,g);$.push(g,an),N&&N.push(d,Se,xt,xt+1)}}else g=li(l,o,k,g,!1);const Ee=l.outputs;let Be;if(Q&&null!==Ee&&(Be=Ee[d])){const Ve=Be.length;if(Ve)for(let ut=0;ut<Ve;ut+=2){const jn=o[Be[ut]][Be[ut+1]].subscribe(g),Ro=$.length;$.push(g,jn),N&&N.push(d,l.index,Ro,-(Ro+1))}}}(g,d,d[11],v,i,o,0,l),l_}function UE(i,o,a,l){try{return!1!==a(l)}catch(d){return Qv(i,d),!1}}function li(i,o,a,l,d){return function g(v){if(v===Function)return l;Yv(2&i.flags?Ln(i.index,o):o);let D=UE(o,0,l,v),S=g.__ngNextListenerFn__;for(;S;)D=UE(o,0,S,v)&&D,S=S.__ngNextListenerFn__;return d&&!1===D&&(v.preventDefault(),v.returnValue=!1),D}}function Fp(i=1){return function Tu(i){return(At.lFrame.contextLView=function Ug(i,o){for(;i>0;)o=o[15],i--;return o}(i,At.lFrame.contextLView))[8]}(i)}function Om(i,o,a,l,d){const g=i[a+1],v=null===o;let I=l?Qs(g):na(g),D=!1;for(;0!==I&&(!1===D||v);){const N=i[I+1];HE(i[I],o)&&(D=!0,i[I+1]=l?pm(N):hm(N)),I=l?Qs(N):na(N)}D&&(i[a+1]=l?hm(g):pm(g))}function HE(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&Fa(i,o)>=0}function v_(i,o){return function ks(i,o,a,l){const d=Te(),g=$t(),v=function si(i){const o=At.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);g.firstUpdatePass&&function Um(i,o,a,l){const d=i.data;if(null===d[a+1]){const g=d[tn()],v=function Vm(i,o){return o>=i.expandoStartIndex}(i,a);(function Bp(i,o){return 0!=(i.flags&(o?16:32))})(g,l)&&null===o&&!v&&(o=!1),o=function WE(i,o,a,l){const d=function wa(i){const o=At.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let g=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=Hc(a=Bm(null,i,o,a,l),o.attrs,l),g=null);else{const v=o.directiveStylingLast;if(-1===v||i[v]!==d)if(a=Bm(d,i,o,a,l),null===g){let D=function ZE(i,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==na(l))return i[Qs(l)]}(i,o,l);void 0!==D&&Array.isArray(D)&&(D=Bm(null,i,o,D[1],l),D=Hc(D,o.attrs,l),function $b(i,o,a,l){i[Qs(a?o.classBindings:o.styleBindings)]=l}(i,o,l,D))}else g=function KE(i,o,a){let l;const d=o.directiveEnd;for(let g=1+o.directiveStylingLast;g<d;g++)l=Hc(l,i[g].hostAttrs,a);return Hc(l,o.attrs,a)}(i,o,l)}return void 0!==g&&(l?o.residualClasses=g:o.residualStyles=g),a}(d,g,o,l),function Ih(i,o,a,l,d,g){let v=g?o.classBindings:o.styleBindings,I=Qs(v),D=na(v);i[l]=a;let N,S=!1;if(Array.isArray(a)){const k=a;N=k[1],(null===N||Fa(k,N)>0)&&(S=!0)}else N=a;if(d)if(0!==D){const $=Qs(i[I+1]);i[l+1]=fp($,I),0!==$&&(i[$+1]=fm(i[$+1],l)),i[I+1]=function eE(i,o){return 131071&i|o<<17}(i[I+1],l)}else i[l+1]=fp(I,0),0!==I&&(i[I+1]=fm(i[I+1],l)),I=l;else i[l+1]=fp(D,0),0===I?I=l:i[D+1]=fm(i[D+1],l),D=l;S&&(i[l+1]=hm(i[l+1])),Om(i,N,l,!0),Om(i,N,l,!1),function $E(i,o,a,l,d){const g=d?i.residualClasses:i.residualStyles;null!=g&&"string"==typeof o&&Fa(g,o)>=0&&(a[l+1]=pm(a[l+1]))}(o,N,i,l,g),v=fp(I,D),g?o.classBindings=v:o.styleBindings=v}(d,g,o,a,v,l)}}(g,i,v,l),o!==Vt&&bi(d,v,o)&&function jm(i,o,a,l,d,g,v,I){if(!(3&o.type))return;const D=i.data,S=D[I+1];gr(function pp(i){return 1==(1&i)}(S)?$m(D,o,a,d,na(S),v):void 0)||(gr(g)||function Bv(i){return 2==(2&i)}(S)&&(g=$m(D,null,a,d,I,v)),function Zf(i,o,a,l,d){if(o)d?i.addClass(a,l):i.removeClass(a,l);else{let g=-1===l.indexOf("-")?void 0:Gi.DashCase;null==d?i.removeStyle(a,l,g):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),g|=Gi.Important),i.setStyle(a,l,d,g))}}(l,v,vi(tn(),a),d,g))}(g,g.data[tn()],d,d[11],i,d[v+1]=function di(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=we(ur(i)))),i}(o,a),l,v)}(i,o,null,!0),v_}function Bm(i,o,a,l,d){let g=null;const v=a.directiveEnd;let I=a.directiveStylingLast;for(-1===I?I=a.directiveStart:I++;I<v&&(g=o[I],l=Hc(l,g.hostAttrs,d),g!==i);)I++;return null!==i&&(a.directiveStylingLast=I),l}function Hc(i,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let g=0;g<o.length;g++){const v=o[g];"number"==typeof v?d=v:d===l&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),oi(i,v,!!a||o[++g]))}return void 0===i?null:i}function $m(i,o,a,l,d,g){const v=null===o;let I;for(;d>0;){const D=i[d],S=Array.isArray(D),N=S?D[1]:D,k=null===N;let $=a[d+1];$===Vt&&($=k?bt:void 0);let Q=k?Bu($,l):N===l?$:void 0;if(S&&!gr(Q)&&(Q=Bu(D,l)),gr(Q)&&(I=Q,v))return I;const Ee=i[d+1];d=v?Qs(Ee):na(Ee)}if(null!==o){let D=g?o.residualClasses:o.residualStyles;null!=D&&(I=Bu(D,l))}return I}function gr(i){return void 0!==i}function Hm(i,o=""){const a=Te(),l=$t(),d=i+22,g=l.firstCreatePass?Oc(l,d,1,o,null):l.data[d],v=a[d]=function pc(i,o){return i.createText(o)}(a[11],o);Ks(l,a,v,g),ii(g,!1)}function w_(i){return E_("",i,""),w_}function E_(i,o,a){const l=Te(),d=function vh(i,o,a,l){return bi(i,ys(),a)?o+ye(a)+l:Vt}(l,i,o,a);return d!==Vt&&function ia(i,o,a){const l=vi(o,i);!function Wd(i,o,a){i.setValue(o,a)}(i[11],l,a)}(l,tn(),d),E_}const pl=void 0;var Gp=["en",[["a","p"],["AM","PM"],pl],[["AM","PM"],pl,pl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],pl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],pl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",pl,"{1} 'at' {0}",pl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function aI(i){const a=Math.floor(Math.abs(i)),l=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let gl={};function zp(i){const o=function Zm(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=R_(o);if(a)return a;const l=o.split("-")[0];if(a=R_(l),a)return a;if("en"===l)return Gp;throw new De(701,!1)}function Mh(i){return zp(i)[Nt.PluralCase]}function R_(i){return i in gl||(gl[i]=hn.ng&&hn.ng.common&&hn.ng.common.locales&&hn.ng.common.locales[i]),gl[i]}var Nt=(()=>((Nt=Nt||{})[Nt.LocaleId=0]="LocaleId",Nt[Nt.DayPeriodsFormat=1]="DayPeriodsFormat",Nt[Nt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Nt[Nt.DaysFormat=3]="DaysFormat",Nt[Nt.DaysStandalone=4]="DaysStandalone",Nt[Nt.MonthsFormat=5]="MonthsFormat",Nt[Nt.MonthsStandalone=6]="MonthsStandalone",Nt[Nt.Eras=7]="Eras",Nt[Nt.FirstDayOfWeek=8]="FirstDayOfWeek",Nt[Nt.WeekendRange=9]="WeekendRange",Nt[Nt.DateFormat=10]="DateFormat",Nt[Nt.TimeFormat=11]="TimeFormat",Nt[Nt.DateTimeFormat=12]="DateTimeFormat",Nt[Nt.NumberSymbols=13]="NumberSymbols",Nt[Nt.NumberFormats=14]="NumberFormats",Nt[Nt.CurrencyCode=15]="CurrencyCode",Nt[Nt.CurrencySymbol=16]="CurrencySymbol",Nt[Nt.CurrencyName=17]="CurrencyName",Nt[Nt.Currencies=18]="Currencies",Nt[Nt.Directionality=19]="Directionality",Nt[Nt.PluralCase=20]="PluralCase",Nt[Nt.ExtraData=21]="ExtraData",Nt))();const zc="en-US";let Rh=zc;function tu(i,o,a,l,d){if(i=W(i),Array.isArray(i))for(let g=0;g<i.length;g++)tu(i[g],o,a,l,d);else{const g=$t(),v=Te();let I=Ka(i)?i:W(i.provide),D=sp(i);const S=Rn(),N=1048575&S.providerIndexes,k=S.directiveStart,$=S.providerIndexes>>20;if(Ka(i)||!i.multi){const Q=new Ta(D,d,hh),Ee=ay(I,o,d?N:N+$,k);-1===Ee?(Ma(Ho(S,v),g,I),oy(g,i,o.length),o.push(I),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(Q),v.push(Q)):(a[Ee]=Q,v[Ee]=Q)}else{const Q=ay(I,o,N+$,k),Ee=ay(I,o,N,N+$),Be=Q>=0&&a[Q],Ve=Ee>=0&&a[Ee];if(d&&!Ve||!d&&!Be){Ma(Ho(S,v),g,I);const ut=function PI(i,o,a,l,d){const g=new Ta(i,a,hh);return g.multi=[],g.index=o,g.componentProviders=0,W_(g,d,l&&!a),g}(d?uy:NI,a.length,d,l,D);!d&&Ve&&(a[Ee].providerFactory=ut),oy(g,i,o.length,0),o.push(I),S.directiveStart++,S.directiveEnd++,d&&(S.providerIndexes+=1048576),a.push(ut),v.push(ut)}else oy(g,i,Q>-1?Q:Ee,W_(a[d?Ee:Q],D,!d&&l));!d&&l&&Ve&&a[Ee].componentProviders++}}}function oy(i,o,a,l){const d=Ka(o),g=function Iw(i){return!!i.useClass}(o);if(d||g){const D=(g?W(o.useClass):o).prototype.ngOnDestroy;if(D){const S=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const N=S.indexOf(a);-1===N?S.push(a,[l,D]):S[N+1].push(l,D)}else S.push(a,D)}}}function W_(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function ay(i,o,a,l){for(let d=a;d<l;d++)if(o[d]===i)return d;return-1}function NI(i,o,a,l){return Wi(this.multi,[])}function uy(i,o,a,l){const d=this.multi;let g;if(this.providerFactory){const v=this.providerFactory.componentProviders,I=Na(a,a[1],this.providerFactory.index,l);g=I.slice(0,v),Wi(d,g);for(let D=v;D<I.length;D++)g.push(I[D])}else g=[],Wi(d,g);return g}function Wi(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function Z_(i,o=[]){return a=>{a.providersResolver=(l,d)=>function RI(i,o,a){const l=$t();if(l.firstCreatePass){const d=Oi(i);tu(a,l.data,l.blueprint,d,!0),tu(o,l.data,l.blueprint,d,!1)}}(l,d?d(i):i,o)}}class To{}class OI{}function So(i,o){return new vn(i,o??null)}class vn extends To{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Am(this);const l=kt(o);this._bootstrapComponents=Ya(l.bootstrap),this._r3Injector=zw(o,a,[{provide:To,useValue:this},{provide:ap,useValue:this.componentFactoryResolver}],we(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class K_ extends OI{constructor(o){super(),this.moduleType=o}create(o){return new vn(this.moduleType,o)}}class Y_ extends To{constructor(o,a,l){super(),this.componentFactoryResolver=new Am(this),this.instance=null;const d=new ip([...o,{provide:To,useValue:this},{provide:ap,useValue:this.componentFactoryResolver}],a||im(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function eo(i,o,a=null){return new Y_(i,o,a).injector}let FI=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=_w(0,a.type),d=l.length>0?eo([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=fe({token:i,providedIn:"environment",factory:()=>new i(Vn(Ac))}),i})();function ly(i){i.getStandaloneInjector=o=>o.get(FI).getOrCreateStandaloneInjector(i)}function X_(i){return o=>{setTimeout(i,void 0,o)}}const la=class vT extends f.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let d=o,g=a||(()=>null),v=l;if(o&&"object"==typeof o){const D=o;d=D.next?.bind(D),g=D.error?.bind(D),v=D.complete?.bind(D)}this.__isAsync&&(g=X_(g),d&&(d=X_(d)),v&&(v=X_(v)));const I=super.subscribe({next:d,error:g,complete:v});return o instanceof K.w0&&o.add(I),I}};function jI(){return this._results[Rs()]()}class e0{constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Rs(),l=e0.prototype;l[a]||(l[a]=jI)}get changes(){return this._changes||(this._changes=new la)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=$n(o);(this._changesDetected=!function Tf(i,o,a){if(i.length!==o.length)return!1;for(let l=0;l<i.length;l++){let d=i[l],g=o[l];if(a&&(d=a(d),g=a(g)),g!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let gy=(()=>{class i{}return i.__NG_ELEMENT_ID__=Ut,i})();const _T=gy,$I=class extends _T{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tViews,d=ph(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[19];return null!==v&&(d[19]=v.createEmbeddedView(l)),gh(l,d,o),new Fc(d)}};function Ut(){return nu(Rn(),Te())}function nu(i,o){return 4&i.type?new $I(o,i,ah(i,o)):null}let ig=(()=>{class i{}return i.__NG_ELEMENT_ID__=Gn,i})();function Gn(){return tr(Rn(),Te())}const wt=ig,Vh=class extends wt{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return ah(this._hostTNode,this._hostLView)}get injector(){return new ss(this._hostTNode,this._hostLView)}get parentInjector(){const o=ho(this._hostTNode,this._hostLView);if(Jl(o)){const a=ns(o,this._hostLView),l=Sa(o);return new ss(a[1].data[l+8],a)}return new ss(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=en(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){let d,g;"number"==typeof l?d=l:null!=l&&(d=l.index,g=l.injector);const v=o.createEmbeddedView(a||{},g);return this.insert(v,d),v}createComponent(o,a,l,d,g){const v=o&&!function wi(i){return"function"==typeof i}(o);let I;if(v)I=a;else{const k=a||{};I=k.index,l=k.injector,d=k.projectableNodes,g=k.environmentInjector||k.ngModuleRef}const D=v?o:new Lc(ae(o)),S=l||this.parentInjector;if(!g&&null==D.ngModule){const $=(v?S:this.parentInjector).get(Ac,null);$&&(g=$)}const N=D.create(S,d,void 0,g);return this.insert(N.hostView,I),N}insert(o,a){const l=o._lView,d=l[1];if(function jl(i){return qr(i[3])}(l)){const N=this.indexOf(o);if(-1!==N)this.detach(N);else{const k=l[3],$=new Vh(k,k[6],k[3]);$.detach($.indexOf(o))}}const g=this._adjustIndex(a),v=this._lContainer;!function Vf(i,o,a,l){const d=10+l,g=a.length;l>0&&(a[d-1][4]=o),l<g-10?(o[4]=a[d],ic(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const v=o[17];null!==v&&a!==v&&function fv(i,o){const a=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===a?i[9]=[o]:a.push(o)}(v,o);const I=o[19];null!==I&&I.insertView(i),o[2]|=64}(d,l,v,g);const I=Xd(g,v),D=l[11],S=Yd(D,v[7]);return null!==S&&function gc(i,o,a,l,d,g){l[0]=d,l[6]=o,yc(i,l,a,1,d,g)}(d,v[6],D,l,S,I),o.attachToViewContainerRef(),ic(t0(v),g,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=en(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Ga(this._lContainer,a);l&&(sc(t0(this._lContainer),a),za(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=Ga(this._lContainer,a);return l&&null!=sc(t0(this._lContainer),a)?new Fc(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function en(i){return i[8]}function t0(i){return i[8]||(i[8]=[])}function tr(i,o){let a;const l=o[i.index];if(qr(l))a=l;else{let d;if(8&i.type)d=Fn(l);else{const g=o[11];d=g.createComment("");const v=Wr(i,o);Eo(g,Yd(g,v),d,function jf(i,o){return i.nextSibling(o)}(g,v),!1)}o[i.index]=a=IE(l,o,d,i),Sp(o,a)}return new Vh(a,i,o)}class ru{constructor(o){this.queryList=o,this.matches=null}clone(){return new ru(this.queryList)}setDirty(){this.queryList.setDirty()}}class n0{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let g=0;g<l;g++){const v=a.getByIndex(g);d.push(this.queries[v.indexInDeclarationView].clone())}return new n0(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==WI(o,a).matches&&this.queries[a].setDirty()}}class sg{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class r0{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,g=this.getByIndex(l).embeddedTView(o,d);g&&(g.indexInDeclarationView=l,null!==a?a.push(g):a=[g])}return null!==a?new r0(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Yc{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Yc(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const g=l[d];this.matchTNodeWithReadOption(o,a,GI(a,g)),this.matchTNodeWithReadOption(o,a,is(a,o,g,!1,!1))}else l===gy?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,is(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===up||d===ig||d===gy&&4&a.type)this.addMatch(a.index,-2);else{const g=is(a,o,d,!1,!1);null!==g&&this.addMatch(a.index,g)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function GI(i,o){const a=i.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function Us(i,o,a,l){return-1===a?function zI(i,o){return 11&i.type?ah(i,o):4&i.type?nu(i,o):null}(o,i):-2===a?function s0(i,o,a){return a===up?ah(o,i):a===gy?nu(o,i):a===ig?tr(o,i):void 0}(i,o,l):Na(i,i[1],a,o)}function o0(i,o,a,l){const d=o[19].queries[l];if(null===d.matches){const g=i.data,v=a.matches,I=[];for(let D=0;D<v.length;D+=2){const S=v[D];I.push(S<0?null:Us(o,g[S],v[D+1],a.metadata.read))}d.matches=I}return d.matches}function yy(i,o,a,l){const d=i.queries.getByIndex(a),g=d.matches;if(null!==g){const v=o0(i,o,d,a);for(let I=0;I<g.length;I+=2){const D=g[I];if(D>0)l.push(v[I/2]);else{const S=g[I+1],N=o[-D];for(let k=10;k<N.length;k++){const $=N[k];$[17]===$[3]&&yy($[1],$,S,l)}if(null!==N[9]){const k=N[9];for(let $=0;$<k.length;$++){const Q=k[$];yy(Q[1],Q,S,l)}}}}}return l}function iu(i){const o=Te(),a=$t(),l=bu();Pr(l+1);const d=WI(a,l);if(i.dirty&&function Lg(i){return 4==(4&i[2])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const g=d.crossesNgTemplate?yy(a,o,l,[]):o0(a,o,d,l);i.reset(g,Sw),i.notifyOnChanges()}return!0}return!1}function ie(i,o,a,l){const d=$t();if(d.firstCreatePass){const g=Rn();(function Uh(i,o,a){null===i.queries&&(i.queries=new r0),i.queries.track(new Yc(o,a))})(d,new sg(o,a,l),g.index),function El(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function qI(i,o,a){const l=new e0(4==(4&a));bp(i,o,l,l.destroy),null===o[19]&&(o[19]=new n0),o[19].queries.push(new ru(l))}(d,Te(),a)}function og(){return function Ao(i,o){return i[19].queries[o].queryList}(Te(),bu())}function WI(i,o){return i.queries.getByIndex(o)}function td(...i){}const xo=new cn("Application Initializer");let Dl=(()=>{class i{constructor(a){this.appInits=a,this.resolve=td,this.reject=td,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const g=this.appInits[d]();if(Lt(g))a.push(g);else if(wh(g)){const v=new Promise((I,D)=>{g.subscribe({complete:I,error:D})});a.push(v)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Vn(xo,8))},i.\u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const au=new cn("AppId",{providedIn:"root",factory:function v0(){return`${ug()}${ug()}${ug()}`}});function ug(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const lg=new cn("Platform Initializer"),rd=new cn("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),by=new cn("appBootstrapListener");let iC=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const bl=new cn("LocaleId",{providedIn:"root",factory:()=>Dt(bl,lt.Optional|lt.SkipSelf)||function Sy(){return typeof $localize<"u"&&$localize.locale||zc}()}),sC=new cn("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class oC{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let fi=(()=>{class i{compileModuleSync(a){return new K_(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),g=Ya(kt(a).declarations).reduce((v,I)=>{const D=ae(I);return D&&v.push(new Lc(D)),v},[]);return new oC(l,g)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const uC=(()=>Promise.resolve(0))();function Zt(i){typeof Zone>"u"?uC.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class pi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new la(!1),this.onMicrotaskEmpty=new la(!1),this.onStable=new la(!1),this.onError=new la(!1),typeof Zone>"u")throw new De(908,!1);Zone.assertZonePatched();const d=this;if(d._nesting=0,d._outer=d._inner=Zone.current,Zone.AsyncStackTaggingZoneSpec){const g=Zone.AsyncStackTaggingZoneSpec;d._inner=d._inner.fork(new g("Angular"))}Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function wn(){let i=hn.requestAnimationFrame,o=hn.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function I0(i){const o=()=>{!function lC(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(hn,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,Ay(i),i.isCheckStableRunning=!0,dg(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),Ay(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,g,v,I)=>{try{return C0(i),a.invokeTask(d,g,v,I)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===g.type||i.shouldCoalesceRunChangeDetection)&&o(),D0(i)}},onInvoke:(a,l,d,g,v,I,D)=>{try{return C0(i),a.invoke(d,g,v,I,D)}finally{i.shouldCoalesceRunChangeDetection&&o(),D0(i)}},onHasTask:(a,l,d,g)=>{a.hasTask(d,g),l===d&&("microTask"==g.change?(i._hasPendingMicrotasks=g.microTask,Ay(i),dg(i)):"macroTask"==g.change&&(i.hasPendingMacrotasks=g.macroTask))},onHandleError:(a,l,d,g)=>(a.handleError(d,g),i.runOutsideAngular(()=>i.onError.emit(g)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pi.isInAngularZone())throw new De(909,!1)}static assertNotInAngularZone(){if(pi.isInAngularZone())throw new De(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const g=this._inner,v=g.scheduleEventTask("NgZoneEvent: "+d,o,E0,td,td);try{return g.runTask(v,a,l)}finally{g.cancelTask(v)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const E0={};function dg(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function Ay(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function C0(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function D0(i){i._nesting--,dg(i)}class MT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new la,this.onMicrotaskEmpty=new la,this.onStable=new la,this.onError=new la}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}const cC=new cn(""),dC=new cn("");let b0,hC=(()=>{class i{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,b0||(function pC(i){b0=i}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pi.assertNotInAngularZone(),Zt(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Zt(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let g=-1;l&&l>0&&(g=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==g),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:g,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Vn(pi),Vn(fC),Vn(dC))},i.\u0275prov=fe({token:i,factory:i.\u0275fac}),i})(),fC=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return b0?.findTestabilityInTree(this,a,l)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),Sl=null;const gC=new cn("AllowMultipleToken"),hg=new cn("PlatformDestroyListeners");class mC{constructor(o,a){this.name=o,this.token=a}}function A0(i,o,a=[]){const l=`Platform: ${o}`,d=new cn(l);return(g=[])=>{let v=lu();if(!v||v.injector.get(gC,!1)){const I=[...a,...g,{provide:d,useValue:!0}];i?i(I):function yC(i){if(Sl&&!Sl.get(gC,!1))throw new De(400,!1);Sl=i;const o=i.get(Ai);(function S0(i){const o=i.get(lg,null);o&&o.forEach(a=>a())})(i)}(function gg(i=[],o){return ll.create({name:o,providers:[{provide:rp,useValue:"platform"},{provide:hg,useValue:new Set([()=>Sl=null])},...i]})}(I,l))}return function x0(i){const o=lu();if(!o)throw new De(401,!1);return o}()}}function lu(){return Sl?.get(Ai)??null}let Ai=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function mg(i,o){let a;return a="noop"===i?new MT:("zone.js"===i?void 0:i)||new pi(o),a}(l?.ngZone,function My(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(l)),g=[{provide:pi,useValue:d}];return d.run(()=>{const v=ll.create({providers:g,parent:this.injector,name:a.moduleType.name}),I=a.create(v),D=I.injector.get(lp,null);if(!D)throw new De(402,!1);return d.runOutsideAngular(()=>{const S=d.onError.subscribe({next:N=>{D.handleError(N)}});I.onDestroy(()=>{Al(this._modules,I),S.unsubscribe()})}),function $h(i,o,a){try{const l=a();return Lt(l)?l.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>i.handleError(l)),l}}(D,d,()=>{const S=I.injector.get(Dl);return S.runInitializers(),S.donePromise.then(()=>(function yl(i){ne(i,"Expected localeId to be defined"),"string"==typeof i&&(Rh=i.toLowerCase().replace(/_/g,"-"))}(I.injector.get(bl,zc)||zc),this._moduleDoBootstrap(I),I))})})}bootstrapModule(a,l=[]){const d=M0({},l);return function fg(i,o,a){const l=new K_(a);return Promise.resolve(l)}(0,0,a).then(g=>this.bootstrapModuleFactory(g,d))}_moduleDoBootstrap(a){const l=a.injector.get(Hh);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new De(403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new De(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(hg,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Vn(ll))},i.\u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function M0(i,o){return Array.isArray(o)?o.reduce(M0,i):{...i,...o}}let Hh=(()=>{class i{constructor(a,l,d){this._zone=a,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const g=new O.y(I=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{I.next(this._stable),I.complete()})}),v=new O.y(I=>{let D;this._zone.runOutsideAngular(()=>{D=this._zone.onStable.subscribe(()=>{pi.assertNotInAngularZone(),Zt(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,I.next(!0))})})});const S=this._zone.onUnstable.subscribe(()=>{pi.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{I.next(!1)}))});return()=>{D.unsubscribe(),S.unsubscribe()}});this.isStable=(0,oe.T)(g,v.pipe((0,se.B)()))}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(a,l){const d=a instanceof bw;if(!this._injector.get(Dl).done)throw!d&&St(a),new De(405,false);let v;v=d?a:this._injector.get(ap).resolveComponentFactory(a),this.componentTypes.push(v.componentType);const I=function xy(i){return i.isBoundToModule}(v)?void 0:this._injector.get(To),S=v.create(ll.NULL,[],l||v.selector,I),N=S.location.nativeElement,k=S.injector.get(cC,null);return k?.registerApplication(N),S.onDestroy(()=>{this.detachView(S.hostView),Al(this.components,S),k?.unregisterApplication(N)}),this._loadComponent(S),S}tick(){if(this._runningTick)throw new De(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;Al(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a),this._injector.get(by,[]).concat(this._bootstrapListeners).forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>Al(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new De(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Vn(pi),Vn(Ac),Vn(lp))},i.\u0275prov=fe({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Al(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}let wC=!0,da=!1;function RT(){return da=!0,wC}function ls(){if(da)throw new Error("Cannot enable prod mode after platform setup.");wC=!1}let ha=(()=>{class i{}return i.__NG_ELEMENT_ID__=EC,i})();function EC(i){return function yg(i,o,a){if(pu(i)&&!a){const l=Ln(i.index,o);return new Fc(l,l)}return 47&i.type?new Fc(o[16],o):null}(Rn(),Te(),16==(16&i))}class SC{constructor(){}supports(o){return mh(o)}create(o){return new ky(o)}}const qn=(i,o)=>o;class ky{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||qn}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,g=null;for(;a||l;){const v=!l||a&&a.currentIndex<Gh(l,d,g)?a:l,I=Gh(v,d,g),D=v.currentIndex;if(v===l)d--,l=l._nextRemoved;else if(a=a._next,null==v.previousIndex)d++;else{g||(g=[]);const S=I-d,N=D-d;if(S!=N){for(let $=0;$<S;$++){const Q=$<g.length?g[$]:g[$]=0,Ee=Q+$;N<=Ee&&Ee<S&&(g[$]=Q+1)}g[v.previousIndex]=N-S}}I!==D&&o(v,I,D)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!mh(o))throw new De(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,g,v,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let I=0;I<this.length;I++)g=o[I],v=this._trackByFn(I,g),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,g,v,I)),Object.is(a.item,g)||this._addIdentityChange(a,g)):(a=this._mismatch(a,g,v,I),l=!0),a=a._next}else d=0,function PE(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Rs()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,I=>{v=this._trackByFn(d,I),null!==a&&Object.is(a.trackById,v)?(l&&(a=this._verifyReinsertion(a,I,v,d)),Object.is(a.item,I)||this._addIdentityChange(a,I)):(a=this._mismatch(a,I,v,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let g;return null===o?g=this._itTail:(g=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,g,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,g,d)):o=this._addAfter(new Fy(a,l),g,d),o}_verifyReinsertion(o,a,l,d){let g=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==g?o=this._reinsertAfter(g,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,g=o._nextRemoved;return null===d?this._removalsHead=g:d._nextRemoved=g,null===g?this._removalsTail=d:g._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new xC),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new xC),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class Fy{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class AC{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class xC{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new AC,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Gh(i,o,a){const l=i.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class MC{constructor(){}supports(o){return o instanceof Map||n_(o)}create(){return new RC}}class RC{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||n_(o)))throw new De(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const g=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,g)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const g=d._prev,v=d._next;return g&&(g._next=v),v&&(v._prev=g),d._next=null,d._prev=null,d}const l=new zh(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class zh{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function fa(){return new Ly([new SC])}let Ly=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||fa()),deps:[[i,new vo,new Gs]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new De(901,!1)}}return i.\u0275prov=fe({token:i,providedIn:"root",factory:fa}),i})();function O0(){return new Ml([new MC])}let Ml=(()=>{class i{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:l=>i.create(a,l||O0()),deps:[[i,new vo,new Gs]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new De(901,!1)}}return i.\u0275prov=fe({token:i,providedIn:"root",factory:O0}),i})();const FT=A0(null,"core",[]);let LT=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Vn(Hh))},i.\u0275mod=ti({type:i}),i.\u0275inj=Pt({}),i})();function Sr(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},6101:(yt,Me,F)=>{F.d(Me,{Z:()=>De});var f=F(5578),K=F(1617),O=F(7212);F(9357);class se{constructor(ye,me){this._delegate=ye,this.firebase=me,(0,O._addComponent)(ye,new K.wA("app-compat",()=>this,"PUBLIC")),this.container=ye.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ye){this._delegate.automaticDataCollectionEnabled=ye}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(ye=>{this._delegate.checkDestroyed(),ye()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,O.deleteApp)(this._delegate)))}_getService(ye,me=O._DEFAULT_ENTRY_NAME){var pt;this._delegate.checkDestroyed();const It=this._delegate.container.getProvider(ye);return!It.isInitialized()&&"EXPLICIT"===(null===(pt=It.getComponent())||void 0===pt?void 0:pt.instantiationMode)&&It.initialize(),It.getImmediate({identifier:me})}_removeServiceInstance(ye,me=O._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(ye).clearInstance(me)}_addComponent(ye){(0,O._addComponent)(this._delegate,ye)}_addOrOverwriteComponent(ye){(0,O._addOrOverwriteComponent)(this._delegate,ye)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const de=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."});function pe(){const Xe=function we(Xe){const ye={},me={__esModule:!0,initializeApp:function Pe(je,et={}){const te=O.initializeApp(je,et);if((0,f.r3)(ye,te.name))return ye[te.name];const Rt=new Xe(te,me);return ye[te.name]=Rt,Rt},app:It,registerVersion:O.registerVersion,setLogLevel:O.setLogLevel,onLog:O.onLog,apps:null,SDK_VERSION:O.SDK_VERSION,INTERNAL:{registerComponent:function ge(je){const et=je.name,te=et.replace("-compat","");if(O._registerComponent(je)&&"PUBLIC"===je.type){const Rt=(st=It())=>{if("function"!=typeof st[te])throw de.create("invalid-app-argument",{appName:et});return st[te]()};void 0!==je.serviceProps&&(0,f.ZB)(Rt,je.serviceProps),me[te]=Rt,Xe.prototype[te]=function(...st){return this._getService.bind(this,et).apply(this,je.multipleInstances?st:[])}}return"PUBLIC"===je.type?me[te]:null},removeApp:function pt(je){delete ye[je]},useAsService:function ze(je,et){return"serverAuth"===et?null:et},modularAPIs:O}};function It(je){if(!(0,f.r3)(ye,je=je||O._DEFAULT_ENTRY_NAME))throw de.create("no-app",{appName:je});return ye[je]}return me.default=me,Object.defineProperty(me,"apps",{get:function ve(){return Object.keys(ye).map(je=>ye[je])}}),It.App=Xe,me}(se);return Xe.INTERNAL=Object.assign(Object.assign({},Xe.INTERNAL),{createFirebaseNamespace:pe,extendNamespace:function ye(me){(0,f.ZB)(Xe,me)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),Xe}const z=pe();(0,f.jU)()&&void 0!==self.firebase&&self;const De=z},7212:(yt,Me,F)=>{F.r(Me),F.d(Me,{FirebaseError:()=>oe.ZR,SDK_VERSION:()=>Po,_DEFAULT_ENTRY_NAME:()=>gi,_addComponent:()=>tt,_addOrOverwriteComponent:()=>_t,_apps:()=>In,_clearComponents:()=>Wn,_components:()=>Qt,_getProvider:()=>Xi,_registerComponent:()=>hn,_removeServiceInstance:()=>ei,deleteApp:()=>Ni,getApp:()=>sr,getApps:()=>vr,initializeApp:()=>Jt,onLog:()=>es,registerVersion:()=>_r,setLogLevel:()=>kn});var f=F(5861),K=F(1617),O=F(9357),oe=F(5578);let he,de;const z=new WeakMap,j=new WeakMap,W=new WeakMap,He=new WeakMap,xe=new WeakMap;let ye={get(re,ee,Ne){if(re instanceof IDBTransaction){if("done"===ee)return j.get(re);if("objectStoreNames"===ee)return re.objectStoreNames||W.get(re);if("store"===ee)return Ne.objectStoreNames[1]?void 0:Ne.objectStore(Ne.objectStoreNames[0])}return Pe(re[ee])},set:(re,ee,Ne)=>(re[ee]=Ne,!0),has:(re,ee)=>re instanceof IDBTransaction&&("done"===ee||"store"===ee)||ee in re};function It(re){return"function"==typeof re?function pt(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function pe(){return de||(de=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...ee){return re.apply(ve(this),ee),Pe(z.get(this))}:function(...ee){return Pe(re.apply(ve(this),ee))}:function(ee,...Ne){const Fe=re.call(ve(this),ee,...Ne);return W.set(Fe,ee.sort?ee.sort():[ee]),Pe(Fe)}}(re):(re instanceof IDBTransaction&&function Xe(re){if(j.has(re))return;const ee=new Promise((Ne,Fe)=>{const Ct=()=>{re.removeEventListener("complete",Ft),re.removeEventListener("error",Xt),re.removeEventListener("abort",Xt)},Ft=()=>{Ne(),Ct()},Xt=()=>{Fe(re.error||new DOMException("AbortError","AbortError")),Ct()};re.addEventListener("complete",Ft),re.addEventListener("error",Xt),re.addEventListener("abort",Xt)});j.set(re,ee)}(re),((re,ee)=>ee.some(Ne=>re instanceof Ne))(re,function we(){return he||(he=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,ye):re)}function Pe(re){if(re instanceof IDBRequest)return function De(re){const ee=new Promise((Ne,Fe)=>{const Ct=()=>{re.removeEventListener("success",Ft),re.removeEventListener("error",Xt)},Ft=()=>{Ne(Pe(re.result)),Ct()},Xt=()=>{Fe(re.error),Ct()};re.addEventListener("success",Ft),re.addEventListener("error",Xt)});return ee.then(Ne=>{Ne instanceof IDBCursor&&z.set(Ne,re)}).catch(()=>{}),xe.set(ee,re),ee}(re);if(He.has(re))return He.get(re);const ee=It(re);return ee!==re&&(He.set(re,ee),xe.set(ee,re)),ee}const ve=re=>xe.get(re),je=["get","getKey","getAll","getAllKeys","count"],et=["put","add","delete","clear"],te=new Map;function Rt(re,ee){if(!(re instanceof IDBDatabase)||ee in re||"string"!=typeof ee)return;if(te.get(ee))return te.get(ee);const Ne=ee.replace(/FromIndex$/,""),Fe=ee!==Ne,Ct=et.includes(Ne);if(!(Ne in(Fe?IDBIndex:IDBObjectStore).prototype)||!Ct&&!je.includes(Ne))return;const Ft=function(){var Xt=(0,f.Z)(function*(Sn,...zt){const Er=this.transaction(Sn,Ct?"readwrite":"readonly");let mi=Er.store;return Fe&&(mi=mi.index(zt.shift())),(yield Promise.all([mi[Ne](...zt),Ct&&Er.done]))[0]});return function(zt){return Xt.apply(this,arguments)}}();return te.set(ee,Ft),Ft}!function me(re){ye=re(ye)}(re=>({...re,get:(ee,Ne,Fe)=>Rt(ee,Ne)||re.get(ee,Ne,Fe),has:(ee,Ne)=>!!Rt(ee,Ne)||re.has(ee,Ne)}));const Xr=new O.Yd("@firebase/app"),gi="[DEFAULT]",ir={"@firebase/app":"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},In=new Map,Qt=new Map;function tt(re,ee){try{re.container.addComponent(ee)}catch(Ne){Xr.debug(`Component ${ee.name} failed to register with FirebaseApp ${re.name}`,Ne)}}function _t(re,ee){re.container.addOrOverwriteComponent(ee)}function hn(re){const ee=re.name;if(Qt.has(ee))return Xr.debug(`There were multiple attempts to register component ${ee}.`),!1;Qt.set(ee,re);for(const Ne of In.values())tt(Ne,re);return!0}function Xi(re,ee){const Ne=re.container.getProvider("heartbeat").getImmediate({optional:!0});return Ne&&Ne.triggerHeartbeat(),re.container.getProvider(ee)}function ei(re,ee,Ne=gi){Xi(re,ee).clearInstance(Ne)}function Wn(){Qt.clear()}const yr=new oe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ln{constructor(ee,Ne,Fe){this._isDeleted=!1,this._options=Object.assign({},ee),this._config=Object.assign({},Ne),this._name=Ne.name,this._automaticDataCollectionEnabled=Ne.automaticDataCollectionEnabled,this._container=Fe,this.container.addComponent(new K.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ee){this.checkDestroyed(),this._automaticDataCollectionEnabled=ee}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ee){this._isDeleted=ee}checkDestroyed(){if(this.isDeleted)throw yr.create("app-deleted",{appName:this._name})}}const Po="9.23.0";function Jt(re,ee={}){let Ne=re;"object"!=typeof ee&&(ee={name:ee});const Fe=Object.assign({name:gi,automaticDataCollectionEnabled:!1},ee),Ct=Fe.name;if("string"!=typeof Ct||!Ct)throw yr.create("bad-app-name",{appName:String(Ct)});if(Ne||(Ne=(0,oe.aH)()),!Ne)throw yr.create("no-options");const Ft=In.get(Ct);if(Ft){if((0,oe.vZ)(Ne,Ft.options)&&(0,oe.vZ)(Fe,Ft.config))return Ft;throw yr.create("duplicate-app",{appName:Ct})}const Xt=new K.H0(Ct);for(const zt of Qt.values())Xt.addComponent(zt);const Sn=new ln(Ne,Fe,Xt);return In.set(Ct,Sn),Sn}function sr(re=gi){const ee=In.get(re);if(!ee&&re===gi&&(0,oe.aH)())return Jt();if(!ee)throw yr.create("no-app",{appName:re});return ee}function vr(){return Array.from(In.values())}function Ni(re){return Mn.apply(this,arguments)}function Mn(){return(Mn=(0,f.Z)(function*(re){const ee=re.name;In.has(ee)&&(In.delete(ee),yield Promise.all(re.container.getProviders().map(Ne=>Ne.delete())),re.isDeleted=!0)})).apply(this,arguments)}function _r(re,ee,Ne){var Fe;let Ct=null!==(Fe=ir[re])&&void 0!==Fe?Fe:re;Ne&&(Ct+=`-${Ne}`);const Ft=Ct.match(/\s|\//),Xt=ee.match(/\s|\//);if(Ft||Xt){const Sn=[`Unable to register library "${Ct}" with version "${ee}":`];return Ft&&Sn.push(`library name "${Ct}" contains illegal characters (whitespace or "/")`),Ft&&Xt&&Sn.push("and"),Xt&&Sn.push(`version name "${ee}" contains illegal characters (whitespace or "/")`),void Xr.warn(Sn.join(" "))}hn(new K.wA(`${Ct}-version`,()=>({library:Ct,version:ee}),"VERSION"))}function es(re,ee){if(null!==re&&"function"!=typeof re)throw yr.create("invalid-log-argument");(0,O.Am)(re,ee)}function kn(re){(0,O.Ub)(re)}},1617:(yt,Me,F)=>{F.d(Me,{H0:()=>we,wA:()=>O});var f=F(5861),K=F(5578);class O{constructor(z,j,W){this.name=z,this.instanceFactory=j,this.type=W,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(z){return this.instantiationMode=z,this}setMultipleInstances(z){return this.multipleInstances=z,this}setServiceProps(z){return this.serviceProps=z,this}setInstanceCreatedCallback(z){return this.onInstanceCreated=z,this}}const oe="[DEFAULT]";class se{constructor(z,j){this.name=z,this.container=j,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(z){const j=this.normalizeInstanceIdentifier(z);if(!this.instancesDeferred.has(j)){const W=new K.BH;if(this.instancesDeferred.set(j,W),this.isInitialized(j)||this.shouldAutoInitialize())try{const He=this.getOrInitializeService({instanceIdentifier:j});He&&W.resolve(He)}catch{}}return this.instancesDeferred.get(j).promise}getImmediate(z){var j;const W=this.normalizeInstanceIdentifier(z?.identifier),He=null!==(j=z?.optional)&&void 0!==j&&j;if(!this.isInitialized(W)&&!this.shouldAutoInitialize()){if(He)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:W})}catch(xe){if(He)return null;throw xe}}getComponent(){return this.component}setComponent(z){if(z.name!==this.name)throw Error(`Mismatching Component ${z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=z,this.shouldAutoInitialize()){if(function de(pe){return"EAGER"===pe.instantiationMode}(z))try{this.getOrInitializeService({instanceIdentifier:oe})}catch{}for(const[j,W]of this.instancesDeferred.entries()){const He=this.normalizeInstanceIdentifier(j);try{const xe=this.getOrInitializeService({instanceIdentifier:He});W.resolve(xe)}catch{}}}}clearInstance(z=oe){this.instancesDeferred.delete(z),this.instancesOptions.delete(z),this.instances.delete(z)}delete(){var z=this;return(0,f.Z)(function*(){const j=Array.from(z.instances.values());yield Promise.all([...j.filter(W=>"INTERNAL"in W).map(W=>W.INTERNAL.delete()),...j.filter(W=>"_delete"in W).map(W=>W._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(z=oe){return this.instances.has(z)}getOptions(z=oe){return this.instancesOptions.get(z)||{}}initialize(z={}){const{options:j={}}=z,W=this.normalizeInstanceIdentifier(z.instanceIdentifier);if(this.isInitialized(W))throw Error(`${this.name}(${W}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const He=this.getOrInitializeService({instanceIdentifier:W,options:j});for(const[xe,De]of this.instancesDeferred.entries())W===this.normalizeInstanceIdentifier(xe)&&De.resolve(He);return He}onInit(z,j){var W;const He=this.normalizeInstanceIdentifier(j),xe=null!==(W=this.onInitCallbacks.get(He))&&void 0!==W?W:new Set;xe.add(z),this.onInitCallbacks.set(He,xe);const De=this.instances.get(He);return De&&z(De,He),()=>{xe.delete(z)}}invokeOnInitCallbacks(z,j){const W=this.onInitCallbacks.get(j);if(W)for(const He of W)try{He(z,j)}catch{}}getOrInitializeService({instanceIdentifier:z,options:j={}}){let W=this.instances.get(z);if(!W&&this.component&&(W=this.component.instanceFactory(this.container,{instanceIdentifier:(pe=z,pe===oe?void 0:pe),options:j}),this.instances.set(z,W),this.instancesOptions.set(z,j),this.invokeOnInitCallbacks(W,z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,z,W)}catch{}var pe;return W||null}normalizeInstanceIdentifier(z=oe){return this.component?this.component.multipleInstances?z:oe:z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class we{constructor(z){this.name=z,this.providers=new Map}addComponent(z){const j=this.getProvider(z.name);if(j.isComponentSet())throw new Error(`Component ${z.name} has already been registered with ${this.name}`);j.setComponent(z)}addOrOverwriteComponent(z){this.getProvider(z.name).isComponentSet()&&this.providers.delete(z.name),this.addComponent(z)}getProvider(z){if(this.providers.has(z))return this.providers.get(z);const j=new se(z,this);return this.providers.set(z,j),j}getProviders(){return Array.from(this.providers.values())}}},9357:(yt,Me,F)=>{F.d(Me,{Am:()=>pe,Ub:()=>we,Yd:()=>de,in:()=>K});const f=[];var K=(()=>((K=K||{})[K.DEBUG=0]="DEBUG",K[K.VERBOSE=1]="VERBOSE",K[K.INFO=2]="INFO",K[K.WARN=3]="WARN",K[K.ERROR=4]="ERROR",K[K.SILENT=5]="SILENT",K))();const O={debug:K.DEBUG,verbose:K.VERBOSE,info:K.INFO,warn:K.WARN,error:K.ERROR,silent:K.SILENT},oe=K.INFO,se={[K.DEBUG]:"log",[K.VERBOSE]:"log",[K.INFO]:"info",[K.WARN]:"warn",[K.ERROR]:"error"},he=(z,j,...W)=>{if(j<z.logLevel)return;const He=(new Date).toISOString(),xe=se[j];if(!xe)throw new Error(`Attempted to log a message with an invalid logType (value: ${j})`);console[xe](`[${He}]  ${z.name}:`,...W)};class de{constructor(j){this.name=j,this._logLevel=oe,this._logHandler=he,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(j){if(!(j in K))throw new TypeError(`Invalid value "${j}" assigned to \`logLevel\``);this._logLevel=j}setLogLevel(j){this._logLevel="string"==typeof j?O[j]:j}get logHandler(){return this._logHandler}set logHandler(j){if("function"!=typeof j)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=j}get userLogHandler(){return this._userLogHandler}set userLogHandler(j){this._userLogHandler=j}debug(...j){this._userLogHandler&&this._userLogHandler(this,K.DEBUG,...j),this._logHandler(this,K.DEBUG,...j)}log(...j){this._userLogHandler&&this._userLogHandler(this,K.VERBOSE,...j),this._logHandler(this,K.VERBOSE,...j)}info(...j){this._userLogHandler&&this._userLogHandler(this,K.INFO,...j),this._logHandler(this,K.INFO,...j)}warn(...j){this._userLogHandler&&this._userLogHandler(this,K.WARN,...j),this._logHandler(this,K.WARN,...j)}error(...j){this._userLogHandler&&this._userLogHandler(this,K.ERROR,...j),this._logHandler(this,K.ERROR,...j)}}function we(z){f.forEach(j=>{j.setLogLevel(z)})}function pe(z,j){for(const W of f){let He=null;j&&j.level&&(He=O[j.level]),W.userLogHandler=null===z?null:(xe,De,...Xe)=>{const ye=Xe.map(me=>{if(null==me)return null;if("string"==typeof me)return me;if("number"==typeof me||"boolean"==typeof me)return me.toString();if(me instanceof Error)return me.message;try{return JSON.stringify(me)}catch{return null}}).filter(me=>me).join(" ");De>=(He??xe.logLevel)&&z({level:K[De].toLowerCase(),message:ye,args:Xe,type:xe.name})}}}},8140:(yt,Me,F)=>{F.d(Me,{C6:()=>f.getApps,Mq:()=>f.getApp});var f=F(7212)},1274:(yt,Me,F)=>{F.d(Me,{Z:()=>f.Z});var f=F(6101)},8463:(yt,Me,F)=>{F.r(Me);var f=F(5861),K=F(6101),O=F(5578),oe=F(7212),se=F(7582),he=F(9357);F(1617);function xe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Xe=xe,ye=new O.LL("auth","Firebase",xe()),pt=new he.Yd("@firebase/auth");function Pe(y,...h){pt.logLevel<=he.in.ERROR&&pt.error(`Auth (${oe.SDK_VERSION}): ${y}`,...h)}function ve(y,...h){throw et(y,...h)}function ge(y,...h){return et(y,...h)}function ze(y,h,p){const _=Object.assign(Object.assign({},Xe()),{[h]:p});return new O.LL("auth","Firebase",_).create(h,{appName:y.name})}function je(y,h,p){if(!(h instanceof p))throw p.name!==h.constructor.name&&ve(y,"argument-error"),ze(y,"argument-error",`Type of ${h.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(y,...h){if("string"!=typeof y){const p=h[0],_=[...h.slice(1)];return _[0]&&(_[0].appName=y.name),y._errorFactory.create(p,..._)}return ye.create(y,...h)}function te(y,h,...p){if(!y)throw et(h,...p)}function Rt(y){const h="INTERNAL ASSERTION FAILED: "+y;throw Pe(h),new Error(h)}function st(y,h){y||Rt(h)}function jt(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function fs(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Ji{constructor(h,p){this.shortDelay=h,this.longDelay=p,st(p>h,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function Xr(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function it(){return"http:"===fs()||"https:"===fs()}()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ne(y,h){st(y.emulator,"Emulator should always be set here");const{url:p}=y.emulator;return h?`${p}${h.startsWith("/")?h.slice(1):h}`:p}class X{static initialize(h,p,_){this.fetchImpl=h,p&&(this.headersImpl=p),_&&(this.responseImpl=_)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Rt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Rt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Rt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ce={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Ie=new Ji(3e4,6e4);function be(y,h){return y.tenantId&&!h.tenantId?Object.assign(Object.assign({},h),{tenantId:y.tenantId}):h}function fe(y,h,p,_){return dt.apply(this,arguments)}function dt(){return(dt=(0,f.Z)(function*(y,h,p,_,T={}){return Pt(y,T,(0,f.Z)(function*(){let M={},B={};_&&("GET"===h?B=_:M={body:JSON.stringify(_)});const Y=(0,O.xO)(Object.assign({key:y.config.apiKey},B)).slice(1),Re=yield y._getAdditionalHeaders();return Re["Content-Type"]="application/json",y.languageCode&&(Re["X-Firebase-Locale"]=y.languageCode),X.fetch()(bn(y,y.config.apiHost,p,Y),Object.assign({method:h,headers:Re,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Pt(y,h,p){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,f.Z)(function*(y,h,p){y._canInitEmulator=!1;const _=Object.assign(Object.assign({},Ce),h);try{const T=new Mi(y),M=yield Promise.race([p(),T.promise]);T.clearNetworkTimeout();const B=yield M.json();if("needConfirmation"in B)throw qt(y,"account-exists-with-different-credential",B);if(M.ok&&!("errorMessage"in B))return B;{const Y=M.ok?B.errorMessage:B.error.message,[Re,Ge]=Y.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Re)throw qt(y,"credential-already-in-use",B);if("EMAIL_EXISTS"===Re)throw qt(y,"email-already-in-use",B);if("USER_DISABLED"===Re)throw qt(y,"user-disabled",B);const Qe=_[Re]||Re.toLowerCase().replace(/[_\s]+/g,"-");if(Ge)throw ze(y,Qe,Ge);ve(y,Qe)}}catch(T){if(T instanceof O.ZR)throw T;ve(y,"network-request-failed",{message:String(T)})}})).apply(this,arguments)}function vt(y,h,p,_){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,f.Z)(function*(y,h,p,_,T={}){const M=yield fe(y,h,p,_,T);return"mfaPendingCredential"in M&&ve(y,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function bn(y,h,p,_){const T=`${h}${p}?${_}`;return y.config.emulator?ne(y.config,T):`${y.config.apiScheme}://${T}`}class Mi{constructor(h){this.auth=h,this.timer=null,this.promise=new Promise((p,_)=>{this.timer=setTimeout(()=>_(ge(this.auth,"network-request-failed")),Ie.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qt(y,h,p){const _={appName:y.name};p.email&&(_.email=p.email),p.phoneNumber&&(_.phoneNumber=p.phoneNumber);const T=ge(y,h,_);return T.customData._tokenResponse=p,T}function Tn(){return(Tn=(0,f.Z)(function*(y,h){return fe(y,"POST","/v1/accounts:delete",h)})).apply(this,arguments)}function xr(y,h){return $r.apply(this,arguments)}function $r(){return($r=(0,f.Z)(function*(y,h){return fe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function lt(y,h){return Hr.apply(this,arguments)}function Hr(){return(Hr=(0,f.Z)(function*(y,h){return fe(y,"POST","/v1/accounts:lookup",h)})).apply(this,arguments)}function Ri(y){if(y)try{const h=new Date(Number(y));if(!isNaN(h.getTime()))return h.toUTCString()}catch{}}function gi(){return(gi=(0,f.Z)(function*(y,h=!1){const p=(0,O.m9)(y),_=yield p.getIdToken(h),T=In(_);te(T&&T.exp&&T.auth_time&&T.iat,p.auth,"internal-error");const M="object"==typeof T.firebase?T.firebase:void 0,B=M?.sign_in_provider;return{claims:T,token:_,authTime:Ri(ir(T.auth_time)),issuedAtTime:Ri(ir(T.iat)),expirationTime:Ri(ir(T.exp)),signInProvider:B||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function ir(y){return 1e3*Number(y)}function In(y){const[h,p,_]=y.split(".");if(void 0===h||void 0===p||void 0===_)return Pe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(p);return T?JSON.parse(T):(Pe("Failed to decode base64 JWT payload"),null)}catch(T){return Pe("Caught error parsing JWT payload as JSON",T?.toString()),null}}function tt(y,h){return _t.apply(this,arguments)}function _t(){return(_t=(0,f.Z)(function*(y,h,p=!1){if(p)return h;try{return yield h}catch(_){throw _ instanceof O.ZR&&hn(_)&&y.auth.currentUser===y&&(yield y.auth.signOut()),_}})).apply(this,arguments)}function hn({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}class Xi{constructor(h){this.user=h,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(h){var p;if(h){const _=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),_}{this.errorBackoff=3e4;const T=(null!==(p=this.user.stsTokenManager.expirationTime)&&void 0!==p?p:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(h=!1){var p=this;if(!this.isRunning)return;const _=this.getInterval(h);this.timerId=setTimeout((0,f.Z)(function*(){yield p.iteration()}),_)}iteration(){var h=this;return(0,f.Z)(function*(){try{yield h.user.getIdToken(!0)}catch(p){return void("auth/network-request-failed"===p?.code&&h.schedule(!0))}h.schedule()})()}}class ei{constructor(h,p){this.createdAt=h,this.lastLoginAt=p,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ri(this.lastLoginAt),this.creationTime=Ri(this.createdAt)}_copy(h){this.createdAt=h.createdAt,this.lastLoginAt=h.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Wn(y){return bt.apply(this,arguments)}function bt(){return(bt=(0,f.Z)(function*(y){var h;const p=y.auth,_=yield y.getIdToken(),T=yield tt(y,lt(p,{idToken:_}));te(T?.users.length,p,"internal-error");const M=T.users[0];y._notifyReloadListener(M);const B=null!==(h=M.providerUserInfo)&&void 0!==h&&h.length?Jt(M.providerUserInfo):[],Y=Po(y.providerData,B),Qe=!!y.isAnonymous&&!(y.email&&M.passwordHash||Y?.length),rt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:Y,metadata:new ei(M.createdAt,M.lastLoginAt),isAnonymous:Qe};Object.assign(y,rt)})).apply(this,arguments)}function ln(){return(ln=(0,f.Z)(function*(y){const h=(0,O.m9)(y);yield Wn(h),yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)})).apply(this,arguments)}function Po(y,h){return[...y.filter(_=>!h.some(T=>T.providerId===_.providerId)),...h]}function Jt(y){return y.map(h=>{var{providerId:p}=h,_=(0,se._T)(h,["providerId"]);return{providerId:p,uid:_.rawId||"",displayName:_.displayName||null,email:_.email||null,phoneNumber:_.phoneNumber||null,photoURL:_.photoUrl||null}})}function vr(){return(vr=(0,f.Z)(function*(y,h){const p=yield Pt(y,{},(0,f.Z)(function*(){const _=(0,O.xO)({grant_type:"refresh_token",refresh_token:h}).slice(1),{tokenApiHost:T,apiKey:M}=y.config,B=bn(y,T,"/v1/token",`key=${M}`),Y=yield y._getAdditionalHeaders();return Y["Content-Type"]="application/x-www-form-urlencoded",X.fetch()(B,{method:"POST",headers:Y,body:_})}));return{accessToken:p.access_token,expiresIn:p.expires_in,refreshToken:p.refresh_token}})).apply(this,arguments)}class Ni{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(h){te(h.idToken,"internal-error"),te(typeof h.idToken<"u","internal-error"),te(typeof h.refreshToken<"u","internal-error");const p="expiresIn"in h&&typeof h.expiresIn<"u"?Number(h.expiresIn):function Qt(y){const h=In(y);return te(h,"internal-error"),te(typeof h.exp<"u","internal-error"),te(typeof h.iat<"u","internal-error"),Number(h.exp)-Number(h.iat)}(h.idToken);this.updateTokensAndExpiration(h.idToken,h.refreshToken,p)}getToken(h,p=!1){var _=this;return(0,f.Z)(function*(){return te(!_.accessToken||_.refreshToken,h,"user-token-expired"),p||!_.accessToken||_.isExpired?_.refreshToken?(yield _.refresh(h,_.refreshToken),_.accessToken):null:_.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(h,p){var _=this;return(0,f.Z)(function*(){const{accessToken:T,refreshToken:M,expiresIn:B}=yield function sr(y,h){return vr.apply(this,arguments)}(h,p);_.updateTokensAndExpiration(T,M,Number(B))})()}updateTokensAndExpiration(h,p,_){this.refreshToken=p||null,this.accessToken=h||null,this.expirationTime=Date.now()+1e3*_}static fromJSON(h,p){const{refreshToken:_,accessToken:T,expirationTime:M}=p,B=new Ni;return _&&(te("string"==typeof _,"internal-error",{appName:h}),B.refreshToken=_),T&&(te("string"==typeof T,"internal-error",{appName:h}),B.accessToken=T),M&&(te("number"==typeof M,"internal-error",{appName:h}),B.expirationTime=M),B}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(h){this.accessToken=h.accessToken,this.refreshToken=h.refreshToken,this.expirationTime=h.expirationTime}_clone(){return Object.assign(new Ni,this.toJSON())}_performRefresh(){return Rt("not implemented")}}function Mn(y,h){te("string"==typeof y||typeof y>"u","internal-error",{appName:h})}class _r{constructor(h){var{uid:p,auth:_,stsTokenManager:T}=h,M=(0,se._T)(h,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Xi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=p,this.auth=_,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new ei(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(h){var p=this;return(0,f.Z)(function*(){const _=yield tt(p,p.stsTokenManager.getToken(p.auth,h));return te(_,p.auth,"internal-error"),p.accessToken!==_&&(p.accessToken=_,yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)),_})()}getIdTokenResult(h){return function No(y){return gi.apply(this,arguments)}(this,h)}reload(){return function yr(y){return ln.apply(this,arguments)}(this)}_assign(h){this!==h&&(te(this.uid===h.uid,this.auth,"internal-error"),this.displayName=h.displayName,this.photoURL=h.photoURL,this.email=h.email,this.emailVerified=h.emailVerified,this.phoneNumber=h.phoneNumber,this.isAnonymous=h.isAnonymous,this.tenantId=h.tenantId,this.providerData=h.providerData.map(p=>Object.assign({},p)),this.metadata._copy(h.metadata),this.stsTokenManager._assign(h.stsTokenManager))}_clone(h){const p=new _r(Object.assign(Object.assign({},this),{auth:h,stsTokenManager:this.stsTokenManager._clone()}));return p.metadata._copy(this.metadata),p}_onReload(h){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=h,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(h){this.reloadListener?this.reloadListener(h):this.reloadUserInfo=h}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(h,p=!1){var _=this;return(0,f.Z)(function*(){let T=!1;h.idToken&&h.idToken!==_.stsTokenManager.accessToken&&(_.stsTokenManager.updateFromServerResponse(h),T=!0),p&&(yield Wn(_)),yield _.auth._persistUserIfCurrent(_),T&&_.auth._notifyListenersIfCurrent(_)})()}delete(){var h=this;return(0,f.Z)(function*(){const p=yield h.getIdToken();return yield tt(h,function En(y,h){return Tn.apply(this,arguments)}(h.auth,{idToken:p})),h.stsTokenManager.clearRefreshToken(),h.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(h=>Object.assign({},h)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(h,p){var _,T,M,B,Y,Re,Ge,Qe;const rt=null!==(_=p.displayName)&&void 0!==_?_:void 0,An=null!==(T=p.email)&&void 0!==T?T:void 0,qi=null!==(M=p.phoneNumber)&&void 0!==M?M:void 0,Ic=null!==(B=p.photoURL)&&void 0!==B?B:void 0,us=null!==(Y=p.tenantId)&&void 0!==Y?Y:void 0,Cc=null!==(Re=p._redirectEventId)&&void 0!==Re?Re:void 0,ol=null!==(Ge=p.createdAt)&&void 0!==Ge?Ge:void 0,nm=null!==(Qe=p.lastLoginAt)&&void 0!==Qe?Qe:void 0,{uid:ep,emailVerified:tp,isAnonymous:al,providerData:ul,stsTokenManager:rm}=p;te(ep&&rm,h,"internal-error");const ea=Ni.fromJSON(this.name,rm);te("string"==typeof ep,h,"internal-error"),Mn(rt,h.name),Mn(An,h.name),te("boolean"==typeof tp,h,"internal-error"),te("boolean"==typeof al,h,"internal-error"),Mn(qi,h.name),Mn(Ic,h.name),Mn(us,h.name),Mn(Cc,h.name),Mn(ol,h.name),Mn(nm,h.name);const Za=new _r({uid:ep,auth:h,email:An,emailVerified:tp,displayName:rt,isAnonymous:al,photoURL:Ic,phoneNumber:qi,tenantId:us,stsTokenManager:ea,createdAt:ol,lastLoginAt:nm});return ul&&Array.isArray(ul)&&(Za.providerData=ul.map(lr=>Object.assign({},lr))),Cc&&(Za._redirectEventId=Cc),Za}static _fromIdTokenResponse(h,p,_=!1){return(0,f.Z)(function*(){const T=new Ni;T.updateFromServerResponse(p);const M=new _r({uid:p.localId,auth:h,stsTokenManager:T,isAnonymous:_});return yield Wn(M),M})()}}const es=new Map;function kn(y){st(y instanceof Function,"Expected a class definition");let h=es.get(y);return h?(st(h instanceof y,"Instance stored in cache mismatched with class"),h):(h=new y,es.set(y,h),h)}function U(y,h,p){return`firebase:${y}:${h}:${p}`}function J(y=(0,O.z$)()){const h=y.toLowerCase();return h.includes("safari/")&&!h.includes("chrome/")&&!h.includes("crios/")&&!h.includes("android")}function kt(y=(0,O.z$)()){return/android/i.test(y)}function ot(y=(0,O.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function pn(y=(0,O.z$)()){return ot(y)||kt(y)||function Ue(y=(0,O.z$)()){return/webos/i.test(y)}(y)||function rn(y=(0,O.z$)()){return/blackberry/i.test(y)}(y)||/windows phone/i.test(y)||function St(y=(0,O.z$)()){return/iemobile/i.test(y)}(y)}function yn(y){return(0,O.m9)(y)}class ps{constructor(h,p){this.providerId=h,this.signInMethod=p}toJSON(){return Rt("not implemented")}_getIdTokenResponse(h){return Rt("not implemented")}_linkToIdToken(h,p){return Rt("not implemented")}_getReauthenticationResolver(h){return Rt("not implemented")}}function hd(y,h){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,f.Z)(function*(y,h){return fe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function kl(y,h){return gd.apply(this,arguments)}function gd(){return(gd=(0,f.Z)(function*(y,h){return fe(y,"POST","/v1/accounts:sendOobCode",be(y,h))})).apply(this,arguments)}function sf(y,h){return md.apply(this,arguments)}function md(){return(md=(0,f.Z)(function*(y,h){return kl(y,h)})).apply(this,arguments)}function kg(y,h){return vd.apply(this,arguments)}function vd(){return(vd=(0,f.Z)(function*(y,h){return kl(y,h)})).apply(this,arguments)}function ki(y,h){return gs.apply(this,arguments)}function gs(){return(gs=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:signInWithIdp",be(y,h))})).apply(this,arguments)}class yi extends ps{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(h){const p=new yi(h.providerId,h.signInMethod);return h.idToken||h.accessToken?(h.idToken&&(p.idToken=h.idToken),h.accessToken&&(p.accessToken=h.accessToken),h.nonce&&!h.pendingToken&&(p.nonce=h.nonce),h.pendingToken&&(p.pendingToken=h.pendingToken)):h.oauthToken&&h.oauthTokenSecret?(p.accessToken=h.oauthToken,p.secret=h.oauthTokenSecret):ve("argument-error"),p}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:T}=p,M=(0,se._T)(p,["providerId","signInMethod"]);if(!_||!T)return null;const B=new yi(_,T);return B.idToken=M.idToken||void 0,B.accessToken=M.accessToken||void 0,B.secret=M.secret,B.nonce=M.nonce,B.pendingToken=M.pendingToken||null,B}_getIdTokenResponse(h){return ki(h,this.buildRequest())}_linkToIdToken(h,p){const _=this.buildRequest();return _.idToken=p,ki(h,_)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,ki(h,p)}buildRequest(){const h={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)h.pendingToken=this.pendingToken;else{const p={};this.idToken&&(p.id_token=this.idToken),this.accessToken&&(p.access_token=this.accessToken),this.secret&&(p.oauth_token_secret=this.secret),p.providerId=this.providerId,this.nonce&&!this.pendingToken&&(p.nonce=this.nonce),h.postBody=(0,O.xO)(p)}return h}}function Ed(y,h){return ya.apply(this,arguments)}function ya(){return(ya=(0,f.Z)(function*(y,h){return fe(y,"POST","/v1/accounts:sendVerificationCode",be(y,h))})).apply(this,arguments)}function yu(){return(yu=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:signInWithPhoneNumber",be(y,h))})).apply(this,arguments)}function Ul(){return(Ul=(0,f.Z)(function*(y,h){const p=yield vt(y,"POST","/v1/accounts:signInWithPhoneNumber",be(y,h));if(p.temporaryProof)throw qt(y,"account-exists-with-different-credential",p);return p})).apply(this,arguments)}const vu={USER_NOT_FOUND:"user-not-found"};function hr(){return(hr=(0,f.Z)(function*(y,h){return vt(y,"POST","/v1/accounts:signInWithPhoneNumber",be(y,Object.assign(Object.assign({},h),{operation:"REAUTH"})),vu)})).apply(this,arguments)}class Mr extends ps{constructor(h){super("phone","phone"),this.params=h}static _fromVerification(h,p){return new Mr({verificationId:h,verificationCode:p})}static _fromTokenResponse(h,p){return new Mr({phoneNumber:h,temporaryProof:p})}_getIdTokenResponse(h){return function Vl(y,h){return yu.apply(this,arguments)}(h,this._makeVerificationRequest())}_linkToIdToken(h,p){return function cf(y,h){return Ul.apply(this,arguments)}(h,Object.assign({idToken:p},this._makeVerificationRequest()))}_getReauthenticationResolver(h){return function df(y,h){return hr.apply(this,arguments)}(h,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:h,phoneNumber:p,verificationId:_,verificationCode:T}=this.params;return h&&p?{temporaryProof:h,phoneNumber:p}:{sessionInfo:_,code:T}}toJSON(){const h={providerId:this.providerId};return this.params.phoneNumber&&(h.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(h.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(h.verificationCode=this.params.verificationCode),this.params.verificationId&&(h.verificationId=this.params.verificationId),h}static fromJSON(h){"string"==typeof h&&(h=JSON.parse(h));const{verificationId:p,verificationCode:_,phoneNumber:T,temporaryProof:M}=h;return _||p||T||M?new Mr({verificationId:p,verificationCode:_,phoneNumber:T,temporaryProof:M}):null}}class ms{constructor(h){this.providerId=h,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(h){this.defaultLanguageCode=h}setCustomParameters(h){return this.customParameters=h,this}getCustomParameters(){return this.customParameters}}class Eu extends ms{constructor(){super(...arguments),this.scopes=[]}addScope(h){return this.scopes.includes(h)||this.scopes.push(h),this}getScopes(){return[...this.scopes]}}class vi extends Eu{static credentialFromJSON(h){const p="string"==typeof h?JSON.parse(h):h;return te("providerId"in p&&"signInMethod"in p,"argument-error"),yi._fromParams(p)}credential(h){return this._credential(Object.assign(Object.assign({},h),{nonce:h.rawNonce}))}_credential(h){return te(h.idToken||h.accessToken,"argument-error"),yi._fromParams(Object.assign(Object.assign({},h),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(h){return vi.oauthCredentialFromTaggedObject(h)}static credentialFromError(h){return vi.oauthCredentialFromTaggedObject(h.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:p,oauthAccessToken:_,oauthTokenSecret:T,pendingToken:M,nonce:B,providerId:Y}=h;if(!_&&!T&&!p&&!M||!Y)return null;try{return new vi(Y)._credential({idToken:p,accessToken:_,nonce:B,pendingToken:M})}catch{return null}}}let Wr=(()=>{class y extends Eu{constructor(){super("facebook.com")}static credential(p){return yi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),Bl=(()=>{class y extends Eu{constructor(){super("google.com"),this.addScope("profile")}static credential(p,_){return yi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:p,accessToken:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:_,oauthAccessToken:T}=p;if(!_&&!T)return null;try{return y.credential(_,T)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),va=(()=>{class y extends Eu{constructor(){super("github.com")}static credential(p){return yi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:p})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p||!("oauthAccessToken"in p)||!p.oauthAccessToken)return null;try{return y.credential(p.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class Ln extends ps{constructor(h,p){super(h,h),this.pendingToken=p}_getIdTokenResponse(h){return ki(h,this.buildRequest())}_linkToIdToken(h,p){const _=this.buildRequest();return _.idToken=p,ki(h,_)}_getReauthenticationResolver(h){const p=this.buildRequest();return p.autoCreate=!1,ki(h,p)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(h){const p="string"==typeof h?JSON.parse(h):h,{providerId:_,signInMethod:T,pendingToken:M}=p;return _&&T&&M&&_===T?new Ln(_,M):null}static _create(h,p){return new Ln(h,p)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let jl=(()=>{class y extends Eu{constructor(){super("twitter.com")}static credential(p,_){return yi._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:p,oauthTokenSecret:_})}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthAccessToken:_,oauthTokenSecret:T}=p;if(!_||!T)return null;try{return y.credential(_,T)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();class Ir{constructor(h){this.user=h.user,this.providerId=h.providerId,this._tokenResponse=h._tokenResponse,this.operationType=h.operationType}static _fromIdTokenResponse(h,p,_,T=!1){return(0,f.Z)(function*(){const M=yield _r._fromIdTokenResponse(h,_,T),B=At(_);return new Ir({user:M,providerId:B,_tokenResponse:_,operationType:p})})()}static _forOperation(h,p,_){return(0,f.Z)(function*(){yield h._updateTokensIfNecessary(_,!0);const T=At(_);return new Ir({user:h,providerId:T,_tokenResponse:_,operationType:p})})()}}function At(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}class _a extends O.ZR{constructor(h,p,_,T){var M;super(p.code,p.message),this.operationType=_,this.user=T,Object.setPrototypeOf(this,_a.prototype),this.customData={appName:h.name,tenantId:null!==(M=h.tenantId)&&void 0!==M?M:void 0,_serverResponse:p.customData._serverResponse,operationType:_}}static _fromErrorAndOperation(h,p,_,T){return new _a(h,p,_,T)}}function Dd(y,h,p,_){return("reauthenticate"===h?p._getReauthenticationResolver(y):p._getIdTokenResponse(y)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?_a._fromErrorAndOperation(y,M,h,_):M})}function bd(y){return new Set(y.map(({providerId:h})=>h).filter(h=>!!h))}function Fi(){return(Fi=(0,f.Z)(function*(y,h){const p=(0,O.m9)(y);yield $t(!0,p,h);const{providerUserInfo:_}=yield xr(p.auth,{idToken:yield p.getIdToken(),deleteProvider:[h]}),T=bd(_||[]);return p.providerData=p.providerData.filter(M=>T.has(M.providerId)),T.has("phone")||(p.phoneNumber=null),yield p.auth._persistUserIfCurrent(p),p})).apply(this,arguments)}function Iu(y,h){return Te.apply(this,arguments)}function Te(){return(Te=(0,f.Z)(function*(y,h,p=!1){const _=yield tt(y,h._linkToIdToken(y.auth,yield y.getIdToken()),p);return Ir._forOperation(y,"link",_)})).apply(this,arguments)}function $t(y,h,p){return Cu.apply(this,arguments)}function Cu(){return(Cu=(0,f.Z)(function*(y,h,p){yield Wn(h);const T=!1===y?"provider-already-linked":"no-such-provider";te(bd(h.providerData).has(p)===y,h.auth,T)})).apply(this,arguments)}function $l(y,h){return Rn.apply(this,arguments)}function Rn(){return(Rn=(0,f.Z)(function*(y,h,p=!1){const{auth:_}=y,T="reauthenticate";try{const M=yield tt(y,Dd(_,T,h,y),p);te(M.idToken,_,"internal-error");const B=In(M.idToken);te(B,_,"internal-error");const{sub:Y}=B;return te(y.uid===Y,_,"user-mismatch"),Ir._forOperation(y,T,M)}catch(M){throw"auth/user-not-found"===M?.code&&ve(_,"user-mismatch"),M}})).apply(this,arguments)}function so(){return(so=(0,f.Z)(function*(y,h,p=!1){const _="signIn",T=yield Dd(y,_,h),M=yield Ir._fromIdTokenResponse(y,_,T);return p||(yield y._updateCurrentUser(M.user)),M})).apply(this,arguments)}function Hl(y,h){return Gl.apply(this,arguments)}function Gl(){return(Gl=(0,f.Z)(function*(y,h){const p=(0,O.m9)(y);return yield $t(!1,p,h.providerId),Iu(p,h)})).apply(this,arguments)}function Nn(y,h){return hf.apply(this,arguments)}function hf(){return(hf=(0,f.Z)(function*(y,h){return $l((0,O.m9)(y),h)})).apply(this,arguments)}class ys{constructor(h,p){this.factorId=h,this.uid=p.mfaEnrollmentId,this.enrollmentTime=new Date(p.enrolledAt).toUTCString(),this.displayName=p.displayName}static _fromServerResponse(h,p){return"phoneInfo"in p?si._fromServerResponse(h,p):"totpInfo"in p?Sd._fromServerResponse(h,p):ve(h,"internal-error")}}class si extends ys{constructor(h){super("phone",h),this.phoneNumber=h.phoneInfo}static _fromServerResponse(h,p){return new si(p)}}class Sd extends ys{constructor(h){super("totp",h)}static _fromServerResponse(h,p){return new Sd(p)}}function oo(y,h,p){var _;te((null===(_=p.url)||void 0===_?void 0:_.length)>0,y,"invalid-continue-uri"),te(typeof p.dynamicLinkDomain>"u"||p.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),h.continueUrl=p.url,h.dynamicLinkDomain=p.dynamicLinkDomain,h.canHandleCodeInApp=p.handleCodeInApp,p.iOS&&(te(p.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),h.iOSBundleId=p.iOS.bundleId),p.android&&(te(p.android.packageName.length>0,y,"missing-android-pkg-name"),h.androidInstallApp=p.android.installApp,h.androidMinimumVersionCode=p.android.minimumVersion,h.androidPackageName=p.android.packageName)}function Su(){return(Su=(0,f.Z)(function*(y,h){const p=(0,O.m9)(y),T={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};h&&oo(p.auth,T,h);const{email:M}=yield sf(p.auth,T);M!==y.email&&(yield y.reload())})).apply(this,arguments)}function uo(){return(uo=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:h};p&&oo(_.auth,M,p);const{email:B}=yield kg(_.auth,M);B!==y.email&&(yield y.reload())})).apply(this,arguments)}function Da(y,h){return jo.apply(this,arguments)}function jo(){return(jo=(0,f.Z)(function*(y,h){return fe(y,"POST","/v1/accounts:update",h)})).apply(this,arguments)}function ba(){return(ba=(0,f.Z)(function*(y,{displayName:h,photoURL:p}){if(void 0===h&&void 0===p)return;const _=(0,O.m9)(y),M={idToken:yield _.getIdToken(),displayName:h,photoUrl:p,returnSecureToken:!0},B=yield tt(_,Da(_.auth,M));_.displayName=B.displayName||null,_.photoURL=B.photoUrl||null;const Y=_.providerData.find(({providerId:Re})=>"password"===Re);Y&&(Y.displayName=_.displayName,Y.photoURL=_.photoURL),yield _._updateTokensIfNecessary(B)})).apply(this,arguments)}function Ta(y,h,p){return Au.apply(this,arguments)}function Au(){return(Au=(0,f.Z)(function*(y,h,p){const{auth:_}=y,M={idToken:yield y.getIdToken(),returnSecureToken:!0};h&&(M.email=h),p&&(M.password=p);const B=yield tt(y,hd(_,M));yield y._updateTokensIfNecessary(B,!0)})).apply(this,arguments)}class Vi{constructor(h,p,_={}){this.isNewUser=h,this.providerId=p,this.profile=_}}class Yl extends Vi{constructor(h,p,_,T){super(h,p,_),this.username=T}}class Pd extends Vi{constructor(h,p){super(h,"facebook.com",p)}}class mf extends Yl{constructor(h,p){super(h,"github.com",p,"string"==typeof p?.login?p?.login:null)}}class Ql extends Vi{constructor(h,p){super(h,"google.com",p)}}class xu extends Yl{constructor(h,p,_){super(h,"twitter.com",p,_)}}function Mu(y){const{user:h,_tokenResponse:p}=y;return h.isAnonymous&&!p?{providerId:null,isNewUser:!1,profile:null}:function gf(y){var h,p;if(!y)return null;const{providerId:_}=y,T=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},M=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!_&&y?.idToken){const B=null===(p=null===(h=In(y.idToken))||void 0===h?void 0:h.firebase)||void 0===p?void 0:p.sign_in_provider;if(B)return new Vi(M,"anonymous"!==B&&"custom"!==B?B:null)}if(!_)return null;switch(_){case"facebook.com":return new Pd(M,T);case"github.com":return new mf(M,T);case"google.com":return new Ql(M,T);case"twitter.com":return new xu(M,T,y.screenName||null);case"custom":case"anonymous":return new Vi(M,null);default:return new Vi(M,_,T)}}(p)}class lo{constructor(h,p,_){this.type=h,this.credential=p,this.auth=_}static _fromIdtoken(h,p){return new lo("enroll",h,p)}static _fromMfaPendingCredential(h){return new lo("signin",h)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(h){var p,_;if(h?.multiFactorSession){if(null!==(p=h.multiFactorSession)&&void 0!==p&&p.pendingCredential)return lo._fromMfaPendingCredential(h.multiFactorSession.pendingCredential);if(null!==(_=h.multiFactorSession)&&void 0!==_&&_.idToken)return lo._fromIdtoken(h.multiFactorSession.idToken)}return null}}class rs{constructor(h,p,_){this.session=h,this.hints=p,this.signInResolver=_}static _fromError(h,p){const _=yn(h),T=p.customData._serverResponse,M=(T.mfaInfo||[]).map(Y=>ys._fromServerResponse(_,Y));te(T.mfaPendingCredential,_,"internal-error");const B=lo._fromMfaPendingCredential(T.mfaPendingCredential);return new rs(B,M,function(){var Y=(0,f.Z)(function*(Re){const Ge=yield Re._process(_,B);delete T.mfaInfo,delete T.mfaPendingCredential;const Qe=Object.assign(Object.assign({},T),{idToken:Ge.idToken,refreshToken:Ge.refreshToken});switch(p.operationType){case"signIn":const rt=yield Ir._fromIdTokenResponse(_,p.operationType,Qe);return yield _._updateCurrentUser(rt.user),rt;case"reauthenticate":return te(p.user,_,"internal-error"),Ir._forOperation(p.user,p.operationType,Qe);default:ve(_,"internal-error")}});return function(Re){return Y.apply(this,arguments)}}())}resolveSignIn(h){var p=this;return(0,f.Z)(function*(){return p.signInResolver(h)})()}}function xa(y,h){return fe(y,"POST","/v2/accounts/mfaEnrollment:start",be(y,h))}class co{constructor(h){this.user=h,this.enrolledFactors=[],h._onReload(p=>{p.mfaInfo&&(this.enrolledFactors=p.mfaInfo.map(_=>ys._fromServerResponse(h.auth,_)))})}static _fromUser(h){return new co(h)}getSession(){var h=this;return(0,f.Z)(function*(){return lo._fromIdtoken(yield h.user.getIdToken(),h.user.auth)})()}enroll(h,p){var _=this;return(0,f.Z)(function*(){const T=h,M=yield _.getSession(),B=yield tt(_.user,T._process(_.user.auth,M,p));return yield _.user._updateTokensIfNecessary(B),_.user.reload()})()}unenroll(h){var p=this;return(0,f.Z)(function*(){const _="string"==typeof h?h:h.uid,T=yield p.user.getIdToken();try{const M=yield tt(p.user,function ec(y,h){return fe(y,"POST","/v2/accounts/mfaEnrollment:withdraw",be(y,h))}(p.user.auth,{idToken:T,mfaEnrollmentId:_}));p.enrolledFactors=p.enrolledFactors.filter(({uid:B})=>B!==_),yield p.user._updateTokensIfNecessary(M),yield p.user.reload()}catch(M){throw M}})()}}const ho=new WeakMap;class Pu{constructor(h,p){this.storageRetriever=h,this.type=p}_isAvailable(){try{return this.storage?(this.storage.setItem("__sak","1"),this.storage.removeItem("__sak"),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(h,p){return this.storage.setItem(h,JSON.stringify(p)),Promise.resolve()}_get(h){const p=this.storage.getItem(h);return Promise.resolve(p?JSON.parse(p):null)}_remove(h){return this.storage.removeItem(h),Promise.resolve()}get storage(){return this.storageRetriever()}}const is=(()=>{class y extends Pu{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(p,_)=>this.onStorageEvent(p,_),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function _f(){const y=(0,O.z$)();return J(y)||ot(y)}()&&function Pi(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=pn(),this._shouldAllowMigration=!0}forAllChangedKeys(p){for(const _ of Object.keys(this.listeners)){const T=this.storage.getItem(_),M=this.localCache[_];T!==M&&p(_,M,T)}}onStorageEvent(p,_=!1){if(!p.key)return void this.forAllChangedKeys((Y,Re,Ge)=>{this.notifyListeners(Y,Ge)});const T=p.key;if(_?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const Y=this.storage.getItem(T);if(p.newValue!==Y)null!==p.newValue?this.storage.setItem(T,p.newValue):this.storage.removeItem(T);else if(this.localCache[T]===p.newValue&&!_)return}const M=()=>{const Y=this.storage.getItem(T);!_&&this.localCache[T]===Y||this.notifyListeners(T,Y)},B=this.storage.getItem(T);!function wr(){return(0,O.w1)()&&10===document.documentMode}()||B===p.newValue||p.newValue===p.oldValue?M():setTimeout(M,10)}notifyListeners(p,_){this.localCache[p]=_;const T=this.listeners[p];if(T)for(const M of Array.from(T))M(_&&JSON.parse(_))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((p,_,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:p,oldValue:_,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(p,_){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[p]||(this.listeners[p]=new Set,this.localCache[p]=this.storage.getItem(p)),this.listeners[p].add(_)}_removeListener(p,_){this.listeners[p]&&(this.listeners[p].delete(_),0===this.listeners[p].size&&delete this.listeners[p]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(p,_){var T=()=>super._set,M=this;return(0,f.Z)(function*(){yield T().call(M,p,_),M.localCache[p]=JSON.stringify(_)})()}_get(p){var _=()=>super._get,T=this;return(0,f.Z)(function*(){const M=yield _().call(T,p);return T.localCache[p]=JSON.stringify(M),M})()}_remove(p){var _=()=>super._remove,T=this;return(0,f.Z)(function*(){yield _().call(T,p),delete T.localCache[p]})()}}return y.type="LOCAL",y})(),po=(()=>{class y extends Pu{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(p,_){}_removeListener(p,_){}}return y.type="SESSION",y})();function ss(y="",h=10){let p="";for(let _=0;_<h;_++)p+=Math.floor(10*Math.random());return y+p}function Dn(){return window}function Zn(y,h){return fe(y,"POST","/v2/accounts/mfaSignIn:start",be(y,h))}const Uu="recaptcha";class oc{constructor(h,p){this.verificationId=h,this.onConfirmation=p}confirm(h){const p=Mr._fromVerification(this.verificationId,h);return this.onConfirmation(p)}}function $u(){return($u=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y);yield $t(!1,_,"phone");const T=yield Gu(_.auth,h,(0,O.m9)(p));return new oc(T,M=>Hl(_,M))})).apply(this,arguments)}function Hu(){return(Hu=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y),T=yield Gu(_.auth,h,(0,O.m9)(p));return new oc(T,M=>Nn(_,M))})).apply(this,arguments)}function Gu(y,h,p){return sn.apply(this,arguments)}function sn(){return(sn=(0,f.Z)(function*(y,h,p){var _;const T=yield p.verify();try{let M;if(te("string"==typeof T,y,"argument-error"),te(p.type===Uu,y,"argument-error"),M="string"==typeof h?{phoneNumber:h}:h,"session"in M){const B=M.session;if("phoneNumber"in M)return te("enroll"===B.type,y,"internal-error"),(yield xa(y,{idToken:B.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{te("signin"===B.type,y,"internal-error");const Y=(null===(_=M.multiFactorHint)||void 0===_?void 0:_.uid)||M.multiFactorUid;return te(Y,y,"missing-multi-factor-info"),(yield Zn(y,{mfaPendingCredential:B.credential,mfaEnrollmentId:Y,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:B}=yield Ed(y,{phoneNumber:M.phoneNumber,recaptchaToken:T});return B}}finally{p._reset()}})).apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(y,h){yield Iu((0,O.m9)(y),h)})).apply(this,arguments)}let Kn=(()=>{class y{constructor(p){this.providerId=y.PROVIDER_ID,this.auth=yn(p)}verifyPhoneNumber(p,_){return Gu(this.auth,p,(0,O.m9)(_))}static credential(p,_){return Mr._fromVerification(p,_)}static credentialFromResult(p){return y.credentialFromTaggedObject(p)}static credentialFromError(p){return y.credentialFromTaggedObject(p.customData||{})}static credentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{phoneNumber:_,temporaryProof:T}=p;return _&&T?Mr._fromTokenResponse(_,T):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Yn(y,h){return h?kn(h):(te(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Or extends ps{constructor(h){super("custom","custom"),this.params=h}_getIdTokenResponse(h){return ki(h,this._buildIdpRequest())}_linkToIdToken(h,p){return ki(h,this._buildIdpRequest(p))}_getReauthenticationResolver(h){return ki(h,this._buildIdpRequest())}_buildIdpRequest(h){const p={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return h&&(p.idToken=h),p}}function La(y){return function Du(y,h){return so.apply(this,arguments)}(y.auth,new Or(y),y.bypassAuthState)}function ji(y){const{auth:h,user:p}=y;return te(p,h,"internal-error"),$l(p,new Or(y),y.bypassAuthState)}function zu(y){return Va.apply(this,arguments)}function Va(){return(Va=(0,f.Z)(function*(y){const{auth:h,user:p}=y;return te(p,h,"internal-error"),Iu(p,new Or(y),y.bypassAuthState)})).apply(this,arguments)}class mo{constructor(h,p,_,T,M=!1){this.auth=h,this.resolver=_,this.user=T,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(p)?p:[p]}execute(){var h=this;return new Promise(function(){var p=(0,f.Z)(function*(_,T){h.pendingPromise={resolve:_,reject:T};try{h.eventManager=yield h.resolver._initialize(h.auth),yield h.onExecution(),h.eventManager.registerConsumer(h)}catch(M){h.reject(M)}});return function(_,T){return p.apply(this,arguments)}}())}onAuthEvent(h){var p=this;return(0,f.Z)(function*(){const{urlResponse:_,sessionId:T,postBody:M,tenantId:B,error:Y,type:Re}=h;if(Y)return void p.reject(Y);const Ge={auth:p.auth,requestUri:_,sessionId:T,tenantId:B||void 0,postBody:M||void 0,user:p.user,bypassAuthState:p.bypassAuthState};try{p.resolve(yield p.getIdpTask(Re)(Ge))}catch(Qe){p.reject(Qe)}})()}onError(h){this.reject(h)}getIdpTask(h){switch(h){case"signInViaPopup":case"signInViaRedirect":return La;case"linkViaPopup":case"linkViaRedirect":return zu;case"reauthViaPopup":case"reauthViaRedirect":return ji;default:ve(this.auth,"internal-error")}}resolve(h){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(h),this.unregisterAndCleanUp()}reject(h){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(h),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const kr=new Ji(2e3,1e4);function Dt(){return(Dt=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y);je(_.auth,h,ms);const T=Yn(_.auth,p);return new Wu(_.auth,"reauthViaPopup",h,T,_).executeNotNull()})).apply(this,arguments)}function yo(){return(yo=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y);je(_.auth,h,ms);const T=Yn(_.auth,p);return new Wu(_.auth,"linkViaPopup",h,T,_).executeNotNull()})).apply(this,arguments)}let Wu=(()=>{class y extends mo{constructor(p,_,T,M,B){super(p,_,M,B),this.provider=T,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var p=this;return(0,f.Z)(function*(){const _=yield p.execute();return te(_,p.auth,"internal-error"),_})()}onExecution(){var p=this;return(0,f.Z)(function*(){st(1===p.filter.length,"Popup operations only handle one event");const _=ss();p.authWindow=yield p.resolver._openPopup(p.auth,p.provider,p.filter[0],_),p.authWindow.associatedEvent=_,p.resolver._originValidation(p.auth).catch(T=>{p.reject(T)}),p.resolver._isIframeWebStorageSupported(p.auth,T=>{T||p.reject(ge(p.auth,"web-storage-unsupported"))}),p.pollUserCancellation()})()}get eventId(){var p;return(null===(p=this.authWindow)||void 0===p?void 0:p.associatedEvent)||null}cancel(){this.reject(ge(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const p=()=>{var _,T;this.pollId=null!==(T=null===(_=this.authWindow)||void 0===_?void 0:_.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(ge(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(p,kr.get())};p()}}return y.currentPopupAction=null,y})();const Qn=new Map;class jd extends mo{constructor(h,p,_=!1){super(h,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],p,void 0,_),this.eventId=null}execute(){var h=()=>super.execute,p=this;return(0,f.Z)(function*(){let _=Qn.get(p.auth._key());if(!_){try{const M=(yield function Gs(y,h){return ac.apply(this,arguments)}(p.resolver,p.auth))?yield h().call(p):null;_=()=>Promise.resolve(M)}catch(T){_=()=>Promise.reject(T)}Qn.set(p.auth._key(),_)}return p.bypassAuthState||Qn.set(p.auth._key(),()=>Promise.resolve(null)),_()})()}onAuthEvent(h){var p=()=>super.onAuthEvent,_=this;return(0,f.Z)(function*(){if("signInViaRedirect"===h.type)return p().call(_,h);if("unknown"!==h.type){if(h.eventId){const T=yield _.auth._redirectUserForId(h.eventId);if(T)return _.user=T,p().call(_,h);_.resolve(null)}}else _.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function ac(){return(ac=(0,f.Z)(function*(y,h){const p=Ua(h),_=_o(y);if(!(yield _._isAvailable()))return!1;const T="true"===(yield _._get(p));return yield _._remove(p),T})).apply(this,arguments)}function vo(y,h){return Zo.apply(this,arguments)}function Zo(){return(Zo=(0,f.Z)(function*(y,h){return _o(y)._set(Ua(h),"true")})).apply(this,arguments)}function Cs(y,h){Qn.set(y._key(),h)}function _o(y){return kn(y._redirectPersistence)}function Ua(y){return U("pendingRedirect",y.config.apiKey,y.name)}function Dr(){return(Dr=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y);je(_.auth,h,ms),yield _.auth._initializationPromise;const T=Yn(_.auth,p);yield vo(T,_.auth);const M=yield zs(_);return T._openRedirect(_.auth,h,"reauthViaRedirect",M)})).apply(this,arguments)}function Jn(){return(Jn=(0,f.Z)(function*(y,h,p){const _=(0,O.m9)(y);je(_.auth,h,ms),yield _.auth._initializationPromise;const T=Yn(_.auth,p);yield $t(!1,_,h.providerId),yield vo(T,_.auth);const M=yield zs(_);return T._openRedirect(_.auth,h,"linkViaRedirect",M)})).apply(this,arguments)}function Fr(y,h){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,f.Z)(function*(y,h,p=!1){const _=yn(y),T=Yn(_,h),B=yield new jd(_,T,p).execute();return B&&!p&&(delete B.user._redirectEventId,yield _._persistUserIfCurrent(B.user),yield _._setRedirectUser(null,h)),B})).apply(this,arguments)}function zs(y){return Yo.apply(this,arguments)}function Yo(){return(Yo=(0,f.Z)(function*(y){const h=ss(`${y.uid}:::`);return y._redirectEventId=h,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),h})).apply(this,arguments)}class Hi{constructor(h){this.auth=h,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(h){this.consumers.add(h),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,h)&&(this.sendToConsumer(this.queuedRedirectEvent,h),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(h){this.consumers.delete(h)}onEvent(h){if(this.hasEventBeenHandled(h))return!1;let p=!1;return this.consumers.forEach(_=>{this.isEventForConsumer(h,_)&&(p=!0,this.sendToConsumer(h,_),this.saveEventToCache(h))}),this.hasHandledPotentialRedirect||!function os(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ar(y);default:return!1}}(h)||(this.hasHandledPotentialRedirect=!0,p||(this.queuedRedirectEvent=h,p=!0)),p}sendToConsumer(h,p){var _;if(h.error&&!ar(h)){const T=(null===(_=h.error.code)||void 0===_?void 0:_.split("auth/")[1])||"internal-error";p.onError(ge(this.auth,T))}else p.onAuthEvent(h)}isEventForConsumer(h,p){const _=null===p.eventId||!!h.eventId&&h.eventId===p.eventId;return p.filter.includes(h.type)&&_}hasEventBeenHandled(h){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ii(h))}saveEventToCache(h){this.cachedEventUids.add(Ii(h)),this.lastProcessedEventTime=Date.now()}}function Ii(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(h=>h).join("-")}function ar({type:y,error:h}){return"unknown"===y&&"auth/no-auth-event"===h?.code}function Rf(y){return qs.apply(this,arguments)}function qs(){return(qs=(0,f.Z)(function*(y,h={}){return fe(y,"GET","/v1/projects",h)})).apply(this,arguments)}const Nf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Pf=/^https?/;function wo(){return(wo=(0,f.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:h}=yield Rf(y);for(const p of h)try{if(cc(p))return}catch{}ve(y,"unauthorized-domain")})).apply(this,arguments)}function cc(y){const h=jt(),{protocol:p,hostname:_}=new URL(h);if(y.startsWith("chrome-extension://")){const B=new URL(y);return""===B.hostname&&""===_?"chrome-extension:"===p&&y.replace("chrome-extension://","")===h.replace("chrome-extension://",""):"chrome-extension:"===p&&B.hostname===_}if(!Pf.test(p))return!1;if(Nf.test(y))return _===y;const T=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(_)}const Ht=new Ji(3e4,6e4);function ja(){const y=Dn().___jsl;if(y?.H)for(const h of Object.keys(y.H))if(y.H[h].r=y.H[h].r||[],y.H[h].L=y.H[h].L||[],y.H[h].r=[...y.H[h].L],y.CP)for(let p=0;p<y.CP.length;p++)y.CP[p]=null}let Ds=null;function Ws(y){return Ds=Ds||function Qo(y){return new Promise((h,p)=>{var _,T,M;function B(){ja(),gapi.load("gapi.iframes",{callback:()=>{h(gapi.iframes.getContext())},ontimeout:()=>{ja(),p(ge(y,"network-request-failed"))},timeout:Ht.get()})}if(null!==(T=null===(_=Dn().gapi)||void 0===_?void 0:_.iframes)&&void 0!==T&&T.Iframe)h(gapi.iframes.getContext());else{if(null===(M=Dn().gapi)||void 0===M||!M.load){const Y=function mi(y){return`__${y}${Math.floor(1e6*Math.random())}`}("iframefcb");return Dn()[Y]=()=>{gapi.load?B():p(ge(y,"network-request-failed"))},function Er(y){return new Promise((h,p)=>{const _=document.createElement("script");_.setAttribute("src",y),_.onload=h,_.onerror=T=>{const M=ge("internal-error");M.customData=T,p(M)},_.type="text/javascript",_.charset="UTF-8",function zt(){var y,h;return null!==(h=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==h?h:document}().appendChild(_)})}(`https://apis.google.com/js/api.js?onload=${Y}`).catch(Re=>p(Re))}B()}}).catch(h=>{throw Ds=null,h})}(y),Ds}const Gd=new Ji(5e3,15e3),dc={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Gi=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function cv(y){const h=y.config;te(h.authDomain,y,"auth-domain-config-required");const p=h.emulator?ne(h,"emulator/auth/iframe"):`https://${y.config.authDomain}/__/auth/iframe`,_={apiKey:h.apiKey,appName:y.name,v:oe.SDK_VERSION},T=Gi.get(y.config.apiHost);T&&(_.eid=T);const M=y._getFrameworks();return M.length&&(_.fw=M.join(",")),`${p}?${(0,O.xO)(_).slice(1)}`}function C(){return C=(0,f.Z)(function*(y){const h=yield Ws(y),p=Dn().gapi;return te(p,y,"internal-error"),h.open({where:document.body,url:cv(y),messageHandlersFilter:p.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:dc,dontclear:!0},_=>new Promise(function(){var T=(0,f.Z)(function*(M,B){yield _.restyle({setHideOnLeave:!1});const Y=ge(y,"network-request-failed"),Re=Dn().setTimeout(()=>{B(Y)},Gd.get());function Ge(){Dn().clearTimeout(Re),M(_)}_.ping(Ge).then(Ge,()=>{B(Y)})});return function(M,B){return T.apply(this,arguments)}}()))}),C.apply(this,arguments)}const x={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class We{constructor(h){this.window=h,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $e(y,h,p,_=500,T=600){const M=Math.max((window.screen.availHeight-T)/2,0).toString(),B=Math.max((window.screen.availWidth-_)/2,0).toString();let Y="";const Re=Object.assign(Object.assign({},x),{width:_.toString(),height:T.toString(),top:M,left:B}),Ge=(0,O.z$)().toLowerCase();p&&(Y=function qe(y=(0,O.z$)()){return/crios\//i.test(y)}(Ge)?"_blank":p),function ae(y=(0,O.z$)()){return/firefox\//i.test(y)}(Ge)&&(h=h||"http://localhost",Re.scrollbars="yes");const Qe=Object.entries(Re).reduce((An,[qi,Ic])=>`${An}${qi}=${Ic},`,"");if(function fn(y=(0,O.z$)()){var h;return ot(y)&&!(null===(h=window.navigator)||void 0===h||!h.standalone)}(Ge)&&"_self"!==Y)return function at(y,h){const p=document.createElement("a");p.href=y,p.target=h;const _=document.createEvent("MouseEvent");_.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),p.dispatchEvent(_)}(h||"",Y),new We(null);const rt=window.open(h||"",Y,Qe);te(rt,y,"popup-blocked");try{rt.focus()}catch{}return new We(rt)}const br=encodeURIComponent("fac");function mn(y,h,p,_,T,M){return ft.apply(this,arguments)}function ft(){return(ft=(0,f.Z)(function*(y,h,p,_,T,M){te(y.config.authDomain,y,"auth-domain-config-required"),te(y.config.apiKey,y,"invalid-api-key");const B={apiKey:y.config.apiKey,appName:y.name,authType:p,redirectUrl:_,v:oe.SDK_VERSION,eventId:T};if(h instanceof ms){h.setDefaultLanguage(y.languageCode),B.providerId=h.providerId||"",(0,O.xb)(h.getCustomParameters())||(B.customParameters=JSON.stringify(h.getCustomParameters()));for(const[Qe,rt]of Object.entries(M||{}))B[Qe]=rt}if(h instanceof Eu){const Qe=h.getScopes().filter(rt=>""!==rt);Qe.length>0&&(B.scopes=Qe.join(","))}y.tenantId&&(B.tid=y.tenantId);const Y=B;for(const Qe of Object.keys(Y))void 0===Y[Qe]&&delete Y[Qe];const Re=yield y._getAppCheckToken(),Ge=Re?`#${br}=${encodeURIComponent(Re)}`:"";return`${zi(y)}?${(0,O.xO)(Y).slice(1)}${Ge}`})).apply(this,arguments)}function zi({config:y}){return y.emulator?ne(y,"emulator/auth/handler"):`https://${y.authDomain}/__/auth/handler`}const Zs="webStorageSupport";function Xo(){return window}function pc(){return(pc=(0,f.Z)(function*(y,h,p){var _;const{BuildInfo:T}=Xo();st(h.sessionId,"AuthEvent did not contain a session ID");const M=yield hv(h.sessionId),B={};return ot()?B.ibi=T.packageName:kt()?B.apn=T.packageName:ve(y,"operation-not-supported-in-this-environment"),T.displayName&&(B.appDisplayName=T.displayName),B.sessionId=M,mn(y,p,h.type,void 0,null!==(_=h.eventId)&&void 0!==_?_:void 0,B)})).apply(this,arguments)}function nl(){return(nl=(0,f.Z)(function*(y){const{BuildInfo:h}=Xo(),p={};ot()?p.iosBundleId=h.packageName:kt()?p.androidPackageName=h.packageName:ve(y,"operation-not-supported-in-this-environment"),yield Rf(y,p)})).apply(this,arguments)}function gc(){return(gc=(0,f.Z)(function*(y,h,p){const{cordova:_}=Xo();let T=()=>{};try{yield new Promise((M,B)=>{let Y=null;function Re(){var rt;M();const An=null===(rt=_.plugins.browsertab)||void 0===rt?void 0:rt.close;"function"==typeof An&&An(),"function"==typeof p?.close&&p.close()}function Ge(){Y||(Y=window.setTimeout(()=>{B(ge(y,"redirect-cancelled-by-user"))},2e3))}function Qe(){"visible"===document?.visibilityState&&Ge()}h.addPassiveListener(Re),document.addEventListener("resume",Ge,!1),kt()&&document.addEventListener("visibilitychange",Qe,!1),T=()=>{h.removePassiveListener(Re),document.removeEventListener("resume",Ge,!1),document.removeEventListener("visibilitychange",Qe,!1),Y&&window.clearTimeout(Y)}})}finally{T()}})).apply(this,arguments)}function hv(y){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,f.Z)(function*(y){const h=fv(y),p=yield crypto.subtle.digest("SHA-256",h);return Array.from(new Uint8Array(p)).map(T=>T.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function fv(y){if(st(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const h=new ArrayBuffer(y.length),p=new Uint8Array(h);for(let _=0;_<y.length;_++)p[_]=y.charCodeAt(_);return p}class Ga extends Hi{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(h=>{this.resolveInialized=h})}addPassiveListener(h){this.passiveListeners.add(h)}removePassiveListener(h){this.passiveListeners.delete(h)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(h){return this.resolveInialized(),this.passiveListeners.forEach(p=>p(h)),super.onEvent(h)}initialized(){var h=this;return(0,f.Z)(function*(){yield h.initPromise})()}}function Uf(y){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,f.Z)(function*(y){const h=yield Eo()._get(mc(y));return h&&(yield Eo()._remove(mc(y))),h})).apply(this,arguments)}function Zg(){const y=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let p=0;p<20;p++){const _=Math.floor(Math.random()*h.length);y.push(h.charAt(_))}return y.join("")}function Eo(){return kn(is)}function mc(y){return U("authEvent",y.config.apiKey,y.name)}function Wa(y){if(!y?.includes("?"))return{};const[h,...p]=y.split("?");return(0,O.zd)(p.join("?"))}function Qd(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:ge("no-auth-event")}}function Ss(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Kf(){return function Xd(y=(0,O.z$)()){return!("file:"!==Ss()&&"ionic:"!==Ss()&&"capacitor:"!==Ss()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}()&&typeof document<"u"}function il(){return(il=(0,f.Z)(function*(){return!!Kf()&&new Promise(y=>{const h=setTimeout(()=>{y(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(h),y(!0)})})})).apply(this,arguments)}const th="persistence";function As(y){return Ys.apply(this,arguments)}function Ys(){return(Ys=(0,f.Z)(function*(y){yield y._initializationPromise;const h=nh(),p=U(th,y.config.apiKey,y.name);h&&h.setItem(p,y._getPersistence())})).apply(this,arguments)}function nh(){var y;try{return(null===(y=function eh(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const rh=te;class Zr{constructor(){this.browserResolver=kn(class fr{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=po,this._completeRedirectFn=Fr,this._overrideRedirectResult=Cs}_openPopup(h,p,_,T){var M=this;return(0,f.Z)(function*(){var B;st(null===(B=M.eventManagers[h._key()])||void 0===B?void 0:B.manager,"_initialize() not called before _openPopup()");const Y=yield mn(h,p,_,jt(),T);return $e(h,Y,ss())})()}_openRedirect(h,p,_,T){var M=this;return(0,f.Z)(function*(){return yield M._originValidation(h),function tc(y){Dn().location.href=y}(yield mn(h,p,_,jt(),T)),new Promise(()=>{})})()}_initialize(h){const p=h._key();if(this.eventManagers[p]){const{manager:T,promise:M}=this.eventManagers[p];return T?Promise.resolve(T):(st(M,"If manager is not set, promise should be"),M)}const _=this.initAndGetManager(h);return this.eventManagers[p]={promise:_},_.catch(()=>{delete this.eventManagers[p]}),_}initAndGetManager(h){var p=this;return(0,f.Z)(function*(){const _=yield function E(y){return C.apply(this,arguments)}(h),T=new Hi(h);return _.register("authEvent",M=>(te(M?.authEvent,h,"invalid-auth-event"),{status:T.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),p.eventManagers[h._key()]={manager:T},p.iframes[h._key()]=_,T})()}_isIframeWebStorageSupported(h,p){this.iframes[h._key()].send(Zs,{type:Zs},T=>{var M;const B=null===(M=T?.[0])||void 0===M?void 0:M[Zs];void 0!==B&&p(!!B),ve(h,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function lc(y){return wo.apply(this,arguments)}(h)),this.originValidationPromises[p]}get _shouldInitProactively(){return pn()||J()||ot()}}),this.cordovaResolver=kn(class jf{constructor(){this._redirectPersistence=po,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Fr,this._overrideRedirectResult=Cs}_initialize(h){var p=this;return(0,f.Z)(function*(){const _=h._key();let T=p.eventManagers.get(_);return T||(T=new Ga(h),p.eventManagers.set(_,T),p.attachCallbackListeners(h,T)),T})()}_openPopup(h){ve(h,"operation-not-supported-in-this-environment")}_openRedirect(h,p,_,T){var M=this;return(0,f.Z)(function*(){!function gw(y){var h,p,_,T,M,B,Y,Re,Ge,Qe;const rt=Xo();te("function"==typeof(null===(h=rt?.universalLinks)||void 0===h?void 0:h.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),te(typeof(null===(p=rt?.BuildInfo)||void 0===p?void 0:p.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),te("function"==typeof(null===(M=null===(T=null===(_=rt?.cordova)||void 0===_?void 0:_.plugins)||void 0===T?void 0:T.browsertab)||void 0===M?void 0:M.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Re=null===(Y=null===(B=rt?.cordova)||void 0===B?void 0:B.plugins)||void 0===Y?void 0:Y.browsertab)||void 0===Re?void 0:Re.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),te("function"==typeof(null===(Qe=null===(Ge=rt?.cordova)||void 0===Ge?void 0:Ge.InAppBrowser)||void 0===Qe?void 0:Qe.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(h);const B=yield M._initialize(h);yield B.initialized(),B.resetRedirect(),function xf(){Qn.clear()}(),yield M._originValidation(h);const Y=function za(y,h,p=null){return{type:h,eventId:p,urlResponse:null,sessionId:Zg(),postBody:null,tenantId:y.tenantId,error:ge(y,"no-auth-event")}}(h,_,T);yield function Zd(y,h){return Eo()._set(mc(y),h)}(h,Y);const Re=yield function tl(y,h,p){return pc.apply(this,arguments)}(h,Y,p),Ge=yield function Lf(y){const{cordova:h}=Xo();return new Promise(p=>{h.plugins.browsertab.isAvailable(_=>{let T=null;_?h.plugins.browsertab.openUrl(y):T=h.InAppBrowser.open(y,function gt(y=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),p(T)})})}(Re);return function Ha(y,h,p){return gc.apply(this,arguments)}(h,B,Ge)})()}_isIframeWebStorageSupported(h,p){throw new Error("Method not implemented.")}_originValidation(h){const p=h._key();return this.originValidationPromises[p]||(this.originValidationPromises[p]=function Wd(y){return nl.apply(this,arguments)}(h)),this.originValidationPromises[p]}attachCallbackListeners(h,p){const{universalLinks:_,handleOpenURL:T,BuildInfo:M}=Xo(),B=setTimeout((0,f.Z)(function*(){yield Uf(h),p.onEvent(Qd())}),500),Y=function(){var Qe=(0,f.Z)(function*(rt){clearTimeout(B);const An=yield Uf(h);let qi=null;An&&rt?.url&&(qi=function qa(y,h){var p,_;const T=function Bf(y){const h=Wa(y),p=h.link?decodeURIComponent(h.link):void 0,_=Wa(p).link,T=h.deep_link_id?decodeURIComponent(h.deep_link_id):void 0;return Wa(T).link||T||_||p||y}(h);if(T.includes("/__/auth/callback")){const M=Wa(T),B=M.firebaseError?function Kg(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(M.firebaseError)):null,Y=null===(_=null===(p=B?.code)||void 0===p?void 0:p.split("auth/"))||void 0===_?void 0:_[1],Re=Y?ge(Y):null;return Re?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:Re,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:T,postBody:null}}return null}(An,rt.url)),p.onEvent(qi||Qd())});return function(An){return Qe.apply(this,arguments)}}();typeof _<"u"&&"function"==typeof _.subscribe&&_.subscribe(null,Y);const Re=T,Ge=`${M.packageName.toLowerCase()}://`;Xo().handleOpenURL=function(){var Qe=(0,f.Z)(function*(rt){if(rt.toLowerCase().startsWith(Ge)&&Y({url:rt}),"function"==typeof Re)try{Re(rt)}catch(An){console.error(An)}});return function(rt){return Qe.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=po,this._completeRedirectFn=Fr,this._overrideRedirectResult=Cs}_initialize(h){var p=this;return(0,f.Z)(function*(){return yield p.selectUnderlyingResolver(),p.assertedUnderlyingResolver._initialize(h)})()}_openPopup(h,p,_,T){var M=this;return(0,f.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openPopup(h,p,_,T)})()}_openRedirect(h,p,_,T){var M=this;return(0,f.Z)(function*(){return yield M.selectUnderlyingResolver(),M.assertedUnderlyingResolver._openRedirect(h,p,_,T)})()}_isIframeWebStorageSupported(h,p){this.assertedUnderlyingResolver._isIframeWebStorageSupported(h,p)}_originValidation(h){return this.assertedUnderlyingResolver._originValidation(h)}get _shouldInitProactively(){return Kf()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return rh(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var h=this;return(0,f.Z)(function*(){if(h.underlyingResolver)return;const p=yield function Yf(){return il.apply(this,arguments)}();h.underlyingResolver=p?h.cordovaResolver:h.browserResolver})()}}function ih(y){return y.unwrap()}function vc(y){return sh(y)}function sh(y){const{_tokenResponse:h}=y instanceof O.ZR?y.customData:y;if(!h)return null;if(!(y instanceof O.ZR)&&"temporaryProof"in h&&"phoneNumber"in h)return Kn.credentialFromResult(y);const p=h.providerId;if(!p||"password"===p)return null;let _;switch(p){case"google.com":_=Bl;break;case"facebook.com":_=Wr;break;case"github.com":_=va;break;case"twitter.com":_=jl;break;default:const{oauthIdToken:T,oauthAccessToken:M,oauthTokenSecret:B,pendingToken:Y,nonce:Re}=h;return M||B||T||Y?Y?p.startsWith("saml.")?Ln._create(p,Y):yi._fromParams({providerId:p,signInMethod:p,pendingToken:Y,idToken:T,accessToken:M}):new vi(p).credential({idToken:T,accessToken:M,rawNonce:Re}):null}return y instanceof O.ZR?_.credentialFromError(y):_.credentialFromResult(y)}function ai(y,h){return h.catch(p=>{throw p instanceof O.ZR&&function Qf(y,h){var p;const _=null===(p=h.customData)||void 0===p?void 0:p._tokenResponse;if("auth/multi-factor-auth-required"===h?.code)h.resolver=new gv(y,function Nu(y,h){var p;const _=(0,O.m9)(y),T=h;return te(h.customData.operationType,_,"argument-error"),te(null===(p=T.customData._serverResponse)||void 0===p?void 0:p.mfaPendingCredential,_,"argument-error"),rs._fromError(_,T)}(y,h));else if(_){const T=sh(h),M=h;T&&(M.credential=T,M.tenantId=_.tenantId||void 0,M.email=_.email||void 0,M.phoneNumber=_.phoneNumber||void 0)}}(y,p),p}).then(p=>{const T=p.user;return{operationType:p.operationType,credential:vc(p),additionalUserInfo:Mu(p),user:ur.getOrCreate(T)}})}function _c(y,h){return wc.apply(this,arguments)}function wc(){return(wc=(0,f.Z)(function*(y,h){const p=yield h;return{verificationId:p.verificationId,confirm:_=>ai(y,p.confirm(_))}})).apply(this,arguments)}class gv{constructor(h,p){this.resolver=p,this.auth=function Xg(y){return y.wrapped()}(h)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(h){return ai(ih(this.auth),this.resolver.resolveSignIn(h))}}class ur{constructor(h){this._delegate=h,this.multiFactor=function Ma(y){const h=(0,O.m9)(y);return ho.has(h)||ho.set(h,co._fromUser(h)),ho.get(h)}(h)}static getOrCreate(h){return ur.USER_MAP.has(h)||ur.USER_MAP.set(h,new ur(h)),ur.USER_MAP.get(h)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(h){return this._delegate.getIdTokenResult(h)}getIdToken(h){return this._delegate.getIdToken(h)}linkAndRetrieveDataWithCredential(h){return this.linkWithCredential(h)}linkWithCredential(h){var p=this;return(0,f.Z)(function*(){return ai(p.auth,Hl(p._delegate,h))})()}linkWithPhoneNumber(h,p){var _=this;return(0,f.Z)(function*(){return _c(_.auth,function Hg(y,h,p){return $u.apply(this,arguments)}(_._delegate,h,p))})()}linkWithPopup(h){var p=this;return(0,f.Z)(function*(){return ai(p.auth,function Bd(y,h,p){return yo.apply(this,arguments)}(p._delegate,h,Zr))})()}linkWithRedirect(h){var p=this;return(0,f.Z)(function*(){return yield As(yn(p.auth)),function Ku(y,h,p){return function Mf(y,h,p){return Jn.apply(this,arguments)}(y,h,p)}(p._delegate,h,Zr)})()}reauthenticateAndRetrieveDataWithCredential(h){return this.reauthenticateWithCredential(h)}reauthenticateWithCredential(h){var p=this;return(0,f.Z)(function*(){return ai(p.auth,Nn(p._delegate,h))})()}reauthenticateWithPhoneNumber(h,p){return _c(this.auth,function Ud(y,h,p){return Hu.apply(this,arguments)}(this._delegate,h,p))}reauthenticateWithPopup(h){return ai(this.auth,function Wo(y,h,p){return Dt.apply(this,arguments)}(this._delegate,h,Zr))}reauthenticateWithRedirect(h){var p=this;return(0,f.Z)(function*(){return yield As(yn(p.auth)),function $i(y,h,p){return function Hd(y,h,p){return Dr.apply(this,arguments)}(y,h,p)}(p._delegate,h,Zr)})()}sendEmailVerification(h){return function Rd(y,h){return Su.apply(this,arguments)}(this._delegate,h)}unlink(h){var p=this;return(0,f.Z)(function*(){return yield function Td(y,h){return Fi.apply(this,arguments)}(p._delegate,h),p})()}updateEmail(h){return function pf(y,h){return Ta((0,O.m9)(y),h,null)}(this._delegate,h)}updatePassword(h){return function _s(y,h){return Ta((0,O.m9)(y),null,h)}(this._delegate,h)}updatePhoneNumber(h){return function Bi(y,h){return ht.apply(this,arguments)}(this._delegate,h)}updateProfile(h){return function Nd(y,h){return ba.apply(this,arguments)}(this._delegate,h)}verifyBeforeUpdateEmail(h,p){return function Kl(y,h,p){return uo.apply(this,arguments)}(this._delegate,h,p)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}ur.USER_MAP=new WeakMap;class Xf{constructor(){this.providerId="phone",this._delegate=new Kn(ih(K.Z.auth()))}static credential(h,p){return Kn.credential(h,p)}verifyPhoneNumber(h,p){return this._delegate.verifyPhoneNumber(h,p)}unwrap(){return this._delegate}}Xf.PHONE_SIGN_IN_METHOD=Kn.PHONE_SIGN_IN_METHOD,Xf.PROVIDER_ID=Kn.PROVIDER_ID},5861:(yt,Me,F)=>{function f(O,oe,se,he,de,we,pe){try{var z=O[we](pe),j=z.value}catch(W){return void se(W)}z.done?oe(j):Promise.resolve(j).then(he,de)}function K(O){return function(){var oe=this,se=arguments;return new Promise(function(he,de){var we=O.apply(oe,se);function pe(j){f(we,he,de,pe,z,"next",j)}function z(j){f(we,he,de,pe,z,"throw",j)}pe(void 0)})}}F.d(Me,{Z:()=>K})},7582:(yt,Me,F)=>{function oe(ne,X){var Ce={};for(var Ie in ne)Object.prototype.hasOwnProperty.call(ne,Ie)&&X.indexOf(Ie)<0&&(Ce[Ie]=ne[Ie]);if(null!=ne&&"function"==typeof Object.getOwnPropertySymbols){var be=0;for(Ie=Object.getOwnPropertySymbols(ne);be<Ie.length;be++)X.indexOf(Ie[be])<0&&Object.prototype.propertyIsEnumerable.call(ne,Ie[be])&&(Ce[Ie[be]]=ne[Ie[be]])}return Ce}function W(ne,X,Ce,Ie){return new(Ce||(Ce=Promise))(function(fe,dt){function Pt(Wt){try{vt(Ie.next(Wt))}catch(bn){dt(bn)}}function Yt(Wt){try{vt(Ie.throw(Wt))}catch(bn){dt(bn)}}function vt(Wt){Wt.done?fe(Wt.value):function be(fe){return fe instanceof Ce?fe:new Ce(function(dt){dt(fe)})}(Wt.value).then(Pt,Yt)}vt((Ie=Ie.apply(ne,X||[])).next())})}function Pe(ne){return this instanceof Pe?(this.v=ne,this):new Pe(ne)}function ve(ne,X,Ce){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var be,Ie=Ce.apply(ne,X||[]),fe=[];return be={},Pt("next"),Pt("throw"),Pt("return",function dt(qt){return function(En){return Promise.resolve(En).then(qt,bn)}}),be[Symbol.asyncIterator]=function(){return this},be;function Pt(qt,En){Ie[qt]&&(be[qt]=function(Tn){return new Promise(function(xr,$r){fe.push([qt,Tn,xr,$r])>1||Yt(qt,Tn)})},En&&(be[qt]=En(be[qt])))}function Yt(qt,En){try{!function vt(qt){qt.value instanceof Pe?Promise.resolve(qt.value.v).then(Wt,bn):Mi(fe[0][2],qt)}(Ie[qt](En))}catch(Tn){Mi(fe[0][3],Tn)}}function Wt(qt){Yt("next",qt)}function bn(qt){Yt("throw",qt)}function Mi(qt,En){qt(En),fe.shift(),fe.length&&Yt(fe[0][0],fe[0][1])}}function ze(ne){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Ce,X=ne[Symbol.asyncIterator];return X?X.call(ne):(ne=function Xe(ne){var X="function"==typeof Symbol&&Symbol.iterator,Ce=X&&ne[X],Ie=0;if(Ce)return Ce.call(ne);if(ne&&"number"==typeof ne.length)return{next:function(){return ne&&Ie>=ne.length&&(ne=void 0),{value:ne&&ne[Ie++],done:!ne}}};throw new TypeError(X?"Object is not iterable.":"Symbol.iterator is not defined.")}(ne),Ce={},Ie("next"),Ie("throw"),Ie("return"),Ce[Symbol.asyncIterator]=function(){return this},Ce);function Ie(fe){Ce[fe]=ne[fe]&&function(dt){return new Promise(function(Pt,Yt){!function be(fe,dt,Pt,Yt){Promise.resolve(Yt).then(function(vt){fe({value:vt,done:Pt})},dt)}(Pt,Yt,(dt=ne[fe](dt)).done,dt.value)})}}}F.d(Me,{FC:()=>ve,KL:()=>ze,_T:()=>oe,mG:()=>W,qq:()=>Pe}),"function"==typeof SuppressedError&&SuppressedError}},yt=>{yt(yt.s=2833)}]);